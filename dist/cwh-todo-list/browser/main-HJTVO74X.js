var ax=Object.defineProperty,lx=Object.defineProperties;var cx=Object.getOwnPropertyDescriptors;var fl=Object.getOwnPropertySymbols;var nC=Object.prototype.hasOwnProperty,rC=Object.prototype.propertyIsEnumerable;var iC=(e,t,i)=>t in e?ax(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,b=(e,t)=>{for(var i in t||={})nC.call(t,i)&&iC(e,i,t[i]);if(fl)for(var i of fl(t))rC.call(t,i)&&iC(e,i,t[i]);return e},B=(e,t)=>lx(e,cx(t));var ml=(e,t)=>{var i={};for(var n in e)nC.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&fl)for(var n of fl(e))t.indexOf(n)<0&&rC.call(e,n)&&(i[n]=e[n]);return i};var Ke=(e,t,i)=>new Promise((n,r)=>{var s=l=>{try{a(i.next(l))}catch(c){r(c)}},o=l=>{try{a(i.throw(l))}catch(c){r(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((i=i.apply(e,t)).next())});function sC(e,t){return Object.is(e,t)}var it=null,vl=!1,Cl=1,nn=Symbol("SIGNAL");function ge(e){let t=it;return it=e,t}function oC(){return it}var Eo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function nh(e){if(vl)throw new Error("");if(it===null)return;it.consumerOnSignalRead(e);let t=it.nextProducerIndex++;if(bl(it),t<it.producerNode.length&&it.producerNode[t]!==e&&bo(it)){let i=it.producerNode[t];Sl(i,it.producerIndexOfThis[t])}it.producerNode[t]!==e&&(it.producerNode[t]=e,it.producerIndexOfThis[t]=bo(it)?uC(e,it,t):0),it.producerLastReadVersion[t]=e.version}function ux(){Cl++}function aC(e){if(!(bo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Cl)){if(!e.producerMustRecompute(e)&&!sh(e)){e.dirty=!1,e.lastCleanEpoch=Cl;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Cl}}function lC(e){if(e.liveConsumerNode===void 0)return;let t=vl;vl=!0;try{for(let i of e.liveConsumerNode)i.dirty||dx(i)}finally{vl=t}}function cC(){return it?.consumerAllowSignalWrites!==!1}function dx(e){e.dirty=!0,lC(e),e.consumerMarkedDirty?.(e)}function yl(e){return e&&(e.nextProducerIndex=0),ge(e)}function rh(e,t){if(ge(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(bo(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)Sl(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function sh(e){bl(e);for(let t=0;t<e.producerNode.length;t++){let i=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==i.version||(aC(i),n!==i.version))return!0}return!1}function oh(e){if(bl(e),bo(e))for(let t=0;t<e.producerNode.length;t++)Sl(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function uC(e,t,i){if(dC(e),e.liveConsumerNode.length===0&&hC(e))for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=uC(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(t)-1}function Sl(e,t){if(dC(e),e.liveConsumerNode.length===1&&hC(e))for(let n=0;n<e.producerNode.length;n++)Sl(e.producerNode[n],e.producerIndexOfThis[n]);let i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];bl(r),r.producerIndexOfThis[n]=t}}function bo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function bl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function dC(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function hC(e){return e.producerNode!==void 0}function pC(e){let t=Object.create(hx);t.computation=e;let i=()=>{if(aC(t),nh(t),t.value===wl)throw t.error;return t.value};return i[nn]=t,i}var th=Symbol("UNSET"),ih=Symbol("COMPUTING"),wl=Symbol("ERRORED"),hx=B(b({},Eo),{value:th,dirty:!0,error:null,equal:sC,producerMustRecompute(e){return e.value===th||e.value===ih},producerRecomputeValue(e){if(e.value===ih)throw new Error("Detected cycle in computations.");let t=e.value;e.value=ih;let i=yl(e),n;try{n=e.computation()}catch(r){n=wl,e.error=r}finally{rh(e,i)}if(t!==th&&t!==wl&&n!==wl&&e.equal(t,n)){e.value=t;return}e.value=n,e.version++}});function px(){throw new Error}var gC=px;function fC(){gC()}function mC(e){gC=e}var gx=null;function vC(e){let t=Object.create(wC);t.value=e;let i=()=>(nh(t),t.value);return i[nn]=t,i}function ah(e,t){cC()||fC(),e.equal(e.value,t)||(e.value=t,fx(e))}function CC(e,t){cC()||fC(),ah(e,t(e.value))}var wC=B(b({},Eo),{equal:sC,value:void 0});function fx(e){e.version++,ux(),lC(e),gx?.()}function $(e){return typeof e=="function"}function is(e){let i=e(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var El=is(e=>function(i){e(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function fr(e,t){if(e){let i=e.indexOf(t);0<=i&&e.splice(i,1)}}var Le=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let s of i)s.remove(this);else i.remove(this);let{initialTeardown:n}=this;if($(n))try{n()}catch(s){t=s instanceof El?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{yC(s)}catch(o){t=t??[],o instanceof El?t=[...t,...o.errors]:t.push(o)}}if(t)throw new El(t)}}add(t){var i;if(t&&t!==this)if(this.closed)yC(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(t)}}_hasParent(t){let{_parentage:i}=this;return i===t||Array.isArray(i)&&i.includes(t)}_addParent(t){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t}_removeParent(t){let{_parentage:i}=this;i===t?this._parentage=null:Array.isArray(i)&&fr(i,t)}remove(t){let{_finalizers:i}=this;i&&fr(i,t),t instanceof e&&t._removeParent(this)}};Le.EMPTY=(()=>{let e=new Le;return e.closed=!0,e})();var lh=Le.EMPTY;function Dl(e){return e instanceof Le||e&&"closed"in e&&$(e.remove)&&$(e.add)&&$(e.unsubscribe)}function yC(e){$(e)?e():e.unsubscribe()}var yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ns={setTimeout(e,t,...i){let{delegate:n}=ns;return n?.setTimeout?n.setTimeout(e,t,...i):setTimeout(e,t,...i)},clearTimeout(e){let{delegate:t}=ns;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function xl(e){ns.setTimeout(()=>{let{onUnhandledError:t}=yi;if(t)t(e);else throw e})}function Do(){}var SC=ch("C",void 0,void 0);function bC(e){return ch("E",void 0,e)}function EC(e){return ch("N",e,void 0)}function ch(e,t,i){return{kind:e,value:t,error:i}}var mr=null;function rs(e){if(yi.useDeprecatedSynchronousErrorHandling){let t=!mr;if(t&&(mr={errorThrown:!1,error:null}),e(),t){let{errorThrown:i,error:n}=mr;if(mr=null,i)throw n}}else e()}function DC(e){yi.useDeprecatedSynchronousErrorHandling&&mr&&(mr.errorThrown=!0,mr.error=e)}var vr=class extends Le{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Dl(t)&&t.add(this)):this.destination=Cx}static create(t,i,n){return new ss(t,i,n)}next(t){this.isStopped?dh(EC(t),this):this._next(t)}error(t){this.isStopped?dh(bC(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?dh(SC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mx=Function.prototype.bind;function uh(e,t){return mx.call(e,t)}var hh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:i}=this;if(i.next)try{i.next(t)}catch(n){Rl(n)}}error(t){let{partialObserver:i}=this;if(i.error)try{i.error(t)}catch(n){Rl(n)}else Rl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(i){Rl(i)}}},ss=class extends vr{constructor(t,i,n){super();let r;if($(t)||!t)r={next:t??void 0,error:i??void 0,complete:n??void 0};else{let s;this&&yi.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&uh(t.next,s),error:t.error&&uh(t.error,s),complete:t.complete&&uh(t.complete,s)}):r=t}this.destination=new hh(r)}};function Rl(e){yi.useDeprecatedSynchronousErrorHandling?DC(e):xl(e)}function vx(e){throw e}function dh(e,t){let{onStoppedNotification:i}=yi;i&&ns.setTimeout(()=>i(e,t))}var Cx={closed:!0,next:Do,error:vx,complete:Do};var os=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(e){return e}function ph(...e){return gh(e)}function gh(e){return e.length===0?Wt:e.length===1?e[0]:function(i){return e.reduce((n,r)=>r(n),i)}}var he=(()=>{class e{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new e;return n.source=this,n.operator=i,n}subscribe(i,n,r){let s=yx(i)?i:new ss(i,n,r);return rs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=xC(n),new n((r,s)=>{let o=new ss({next:a=>{try{i(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[os](){return this}pipe(...i){return gh(i)(this)}toPromise(i){return i=xC(i),new i((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return e.create=t=>new e(t),e})();function xC(e){var t;return(t=e??yi.Promise)!==null&&t!==void 0?t:Promise}function wx(e){return e&&$(e.next)&&$(e.error)&&$(e.complete)}function yx(e){return e&&e instanceof vr||wx(e)&&Dl(e)}function fh(e){return $(e?.lift)}function pe(e){return t=>{if(fh(t))return t.lift(function(i){try{return e(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(e,t,i,n,r){return new mh(e,t,i,n,r)}var mh=class extends vr{constructor(t,i,n,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function as(){return pe((e,t)=>{let i=null;e._refCount++;let n=se(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){i=null;return}let r=e._connection,s=i;i=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(i=e.connect())})}var ls=class extends he{constructor(t,i){super(),this.source=t,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,fh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Le;let i=this.getSubject();t.add(this.source.subscribe(se(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Le.EMPTY)}return t}refCount(){return as()(this)}};var cs={schedule(e){let t=requestAnimationFrame,i=cancelAnimationFrame,{delegate:n}=cs;n&&(t=n.requestAnimationFrame,i=n.cancelAnimationFrame);let r=t(s=>{i=void 0,e(s)});return new Le(()=>i?.(r))},requestAnimationFrame(...e){let{delegate:t}=cs;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:t}=cs;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var RC=is(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=(()=>{class e extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new Ml(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new RC}next(i){rs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){rs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){rs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:s}=this;return n||r?lh:(this.currentObservers=null,s.push(i),new Le(()=>{this.currentObservers=null,fr(s,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:s}=this;n?i.error(r):s&&i.complete()}asObservable(){let i=new he;return i.source=this,i}}return e.create=(t,i)=>new Ml(t,i),e})(),Ml=class extends Ee{constructor(t,i){super(),this.destination=t,this.source=i}next(t){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,t)}error(t){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,t)}complete(){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||i===void 0||i.call(t)}_subscribe(t){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(t))!==null&&n!==void 0?n:lh}};var dt=class extends Ee{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let i=super._subscribe(t);return!i.closed&&t.next(this._value),i}getValue(){let{hasError:t,thrownError:i,_value:n}=this;if(t)throw i;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var vh={now(){return(vh.delegate||Date).now()},delegate:void 0};var Il=class extends Le{constructor(t,i){super()}schedule(t,i=0){return this}};var xo={setInterval(e,t,...i){let{delegate:n}=xo;return n?.setInterval?n.setInterval(e,t,...i):setInterval(e,t,...i)},clearInterval(e){let{delegate:t}=xo;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Fn=class extends Il{constructor(t,i){super(t,i),this.scheduler=t,this.work=i,this.pending=!1}schedule(t,i=0){var n;if(this.closed)return this;this.state=t;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,i),this}requestAsyncId(t,i,n=0){return xo.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&xo.clearInterval(i)}execute(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(t,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,i){let n=!1,r;try{this.work(t)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,fr(n,this),t!=null&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,super.unsubscribe()}}};var Sx=1,Ch,wh={};function MC(e){return e in wh?(delete wh[e],!0):!1}var IC={setImmediate(e){let t=Sx++;return wh[t]=!0,Ch||(Ch=Promise.resolve()),Ch.then(()=>MC(t)&&e()),t},clearImmediate(e){MC(e)}};var{setImmediate:bx,clearImmediate:Ex}=IC,Ro={setImmediate(...e){let{delegate:t}=Ro;return(t?.setImmediate||bx)(...e)},clearImmediate(e){let{delegate:t}=Ro;return(t?.clearImmediate||Ex)(e)},delegate:void 0};var Fl=class extends Fn{constructor(t,i){super(t,i),this.scheduler=t,this.work=i}requestAsyncId(t,i,n=0){return n!==null&&n>0?super.requestAsyncId(t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=Ro.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(t,i,n);let{actions:s}=t;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(Ro.clearImmediate(i),t._scheduled===i&&(t._scheduled=void 0))}};var us=class e{constructor(t,i=e.now){this.schedulerActionCtor=t,this.now=i}schedule(t,i=0,n){return new this.schedulerActionCtor(this,t).schedule(n,i)}};us.now=vh.now;var Tn=class extends us{constructor(t,i=us.now){super(t,i),this.actions=[],this._active=!1}flush(t){let{actions:i}=this;if(this._active){i.push(t);return}let n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=i.shift());if(this._active=!1,n){for(;t=i.shift();)t.unsubscribe();throw n}}};var Tl=class extends Tn{flush(t){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;t=t||n.shift();do if(r=t.execute(t.state,t.delay))break;while((t=n[0])&&t.id===i&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===i&&n.shift();)t.unsubscribe();throw r}}};var yh=new Tl(Fl);var Mo=new Tn(Fn),FC=Mo;var Al=class extends Fn{constructor(t,i){super(t,i),this.scheduler=t,this.work=i}requestAsyncId(t,i,n=0){return n!==null&&n>0?super.requestAsyncId(t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=cs.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(t,i,n);let{actions:s}=t;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(cs.cancelAnimationFrame(i),t._scheduled=void 0)}};var Pl=class extends Tn{flush(t){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;t=t||n.shift();do if(r=t.execute(t.state,t.delay))break;while((t=n[0])&&t.id===i&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===i&&n.shift();)t.unsubscribe();throw r}}};var Sh=new Pl(Al);var Et=new he(e=>e.complete());function kl(e){return e&&$(e.schedule)}function bh(e){return e[e.length-1]}function _l(e){return $(bh(e))?e.pop():void 0}function Pi(e){return kl(bh(e))?e.pop():void 0}function TC(e,t){return typeof bh(e)=="number"?e.pop():t}function PC(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function AC(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cr(e){return this instanceof Cr?(this.v=e,this):new Cr(e)}function kC(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(e,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(m){return function(v){return Promise.resolve(v).then(m,d)}}function a(m,v){n[m]&&(r[m]=function(S){return new Promise(function(w,E){s.push([m,S,w,E])>1||l(m,S)})},v&&(r[m]=v(r[m])))}function l(m,v){try{c(n[m](v))}catch(S){f(s[0][3],S)}}function c(m){m.value instanceof Cr?Promise.resolve(m.value.v).then(u,d):f(s[0][2],m)}function u(m){l("next",m)}function d(m){l("throw",m)}function f(m,v){m(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function _C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof AC=="function"?AC(e):e[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(s){i[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var ds=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ol(e){return $(e?.then)}function Ll(e){return $(e[os])}function Nl(e){return Symbol.asyncIterator&&$(e?.[Symbol.asyncIterator])}function Vl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Dx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bl=Dx();function Hl(e){return $(e?.[Bl])}function Gl(e){return kC(this,arguments,function*(){let i=e.getReader();try{for(;;){let{value:n,done:r}=yield Cr(i.read());if(r)return yield Cr(void 0);yield yield Cr(n)}}finally{i.releaseLock()}})}function zl(e){return $(e?.getReader)}function Pe(e){if(e instanceof he)return e;if(e!=null){if(Ll(e))return xx(e);if(ds(e))return Rx(e);if(Ol(e))return Mx(e);if(Nl(e))return OC(e);if(Hl(e))return Ix(e);if(zl(e))return Fx(e)}throw Vl(e)}function xx(e){return new he(t=>{let i=e[os]();if($(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Rx(e){return new he(t=>{for(let i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}function Mx(e){return new he(t=>{e.then(i=>{t.closed||(t.next(i),t.complete())},i=>t.error(i)).then(null,xl)})}function Ix(e){return new he(t=>{for(let i of e)if(t.next(i),t.closed)return;t.complete()})}function OC(e){return new he(t=>{Tx(e,t).catch(i=>t.error(i))})}function Fx(e){return OC(Gl(e))}function Tx(e,t){var i,n,r,s;return PC(this,void 0,void 0,function*(){try{for(i=_C(e);n=yield i.next(),!n.done;){let o=n.value;if(t.next(o),t.closed)return}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}t.complete()})}function Pt(e,t,i,n=0,r=!1){let s=t.schedule(function(){i(),r?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!r)return s}function jl(e,t=0){return pe((i,n)=>{i.subscribe(se(n,r=>Pt(n,e,()=>n.next(r),t),()=>Pt(n,e,()=>n.complete(),t),r=>Pt(n,e,()=>n.error(r),t)))})}function Wl(e,t=0){return pe((i,n)=>{n.add(e.schedule(()=>i.subscribe(n),t))})}function LC(e,t){return Pe(e).pipe(Wl(t),jl(t))}function NC(e,t){return Pe(e).pipe(Wl(t),jl(t))}function VC(e,t){return new he(i=>{let n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})})}function BC(e,t){return new he(i=>{let n;return Pt(i,t,()=>{n=e[Bl](),Pt(i,t,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){i.error(o);return}s?i.complete():i.next(r)},0,!0)}),()=>$(n?.return)&&n.return()})}function Ul(e,t){if(!e)throw new Error("Iterable cannot be null");return new he(i=>{Pt(i,t,()=>{let n=e[Symbol.asyncIterator]();Pt(i,t,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function HC(e,t){return Ul(Gl(e),t)}function GC(e,t){if(e!=null){if(Ll(e))return LC(e,t);if(ds(e))return VC(e,t);if(Ol(e))return NC(e,t);if(Nl(e))return Ul(e,t);if(Hl(e))return BC(e,t);if(zl(e))return HC(e,t)}throw Vl(e)}function Fe(e,t){return t?GC(e,t):Pe(e)}function Q(...e){let t=Pi(e);return Fe(e,t)}function hs(e,t){let i=$(e)?e:()=>e,n=r=>r.error(i());return new he(t?r=>t.schedule(n,0,r):n)}function Eh(e){return!!e&&(e instanceof he||$(e.lift)&&$(e.subscribe))}var rn=is(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function zC(e){return e instanceof Date&&!isNaN(e)}function ee(e,t){return pe((i,n)=>{let r=0;i.subscribe(se(n,s=>{n.next(e.call(t,s,r++))}))})}var{isArray:Ax}=Array;function Px(e,t){return Ax(t)?e(...t):e(t)}function ps(e){return ee(t=>Px(e,t))}var{isArray:kx}=Array,{getPrototypeOf:_x,prototype:Ox,keys:Lx}=Object;function $l(e){if(e.length===1){let t=e[0];if(kx(t))return{args:t,keys:null};if(Nx(t)){let i=Lx(t);return{args:i.map(n=>t[n]),keys:i}}}return{args:e,keys:null}}function Nx(e){return e&&typeof e=="object"&&_x(e)===Ox}function ql(e,t){return e.reduce((i,n,r)=>(i[n]=t[r],i),{})}function Io(...e){let t=Pi(e),i=_l(e),{args:n,keys:r}=$l(e);if(n.length===0)return Fe([],t);let s=new he(Vx(n,t,r?o=>ql(r,o):Wt));return i?s.pipe(ps(i)):s}function Vx(e,t,i=Wt){return n=>{jC(t,()=>{let{length:r}=e,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)jC(t,()=>{let c=Fe(e[l],t),u=!1;c.subscribe(se(n,d=>{s[l]=d,u||(u=!0,a--),a||n.next(i(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function jC(e,t,i){e?Pt(i,e,t):t()}function WC(e,t,i,n,r,s,o,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},m=S=>c<n?v(S):l.push(S),v=S=>{s&&t.next(S),c++;let w=!1;Pe(i(S,u++)).subscribe(se(t,E=>{r?.(E),s?m(E):t.next(E)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<n;){let E=l.shift();o?Pt(t,o,()=>v(E)):v(E)}f()}catch(E){t.error(E)}}))};return e.subscribe(se(t,m,()=>{d=!0,f()})),()=>{a?.()}}function $e(e,t,i=1/0){return $(t)?$e((n,r)=>ee((s,o)=>t(n,s,r,o))(Pe(e(n,r))),i):(typeof t=="number"&&(i=t),pe((n,r)=>WC(n,r,e,i)))}function An(e=1/0){return $e(Wt,e)}function UC(){return An(1)}function gs(...e){return UC()(Fe(e,Pi(e)))}function Kl(e){return new he(t=>{Pe(e()).subscribe(t)})}function Dh(...e){let t=_l(e),{args:i,keys:n}=$l(e),r=new he(s=>{let{length:o}=i;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;Pe(i[u]).subscribe(se(s,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(n?ql(n,a):a),s.complete())}))}});return t?r.pipe(ps(t)):r}var Bx=["addListener","removeListener"],Hx=["addEventListener","removeEventListener"],Gx=["on","off"];function Pn(e,t,i,n){if($(i)&&(n=i,i=void 0),n)return Pn(e,t,i).pipe(ps(n));let[r,s]=Wx(e)?Hx.map(o=>a=>e[o](t,a,i)):zx(e)?Bx.map($C(e,t)):jx(e)?Gx.map($C(e,t)):[];if(!r&&ds(e))return $e(o=>Pn(o,t,i))(Pe(e));if(!r)throw new TypeError("Invalid event target");return new he(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function $C(e,t){return i=>n=>e[i](t,n)}function zx(e){return $(e.addListener)&&$(e.removeListener)}function jx(e){return $(e.on)&&$(e.off)}function Wx(e){return $(e.addEventListener)&&$(e.removeEventListener)}function qC(e=0,t,i=FC){let n=-1;return t!=null&&(kl(t)?i=t:n=t),new he(r=>{let s=zC(e)?+e-i.now():e;s<0&&(s=0);let o=0;return i.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function Fo(...e){let t=Pi(e),i=TC(e,1/0),n=e;return n.length?n.length===1?Pe(n[0]):An(i)(Fe(n,t)):Et}function Ct(e,t){return pe((i,n)=>{let r=0;i.subscribe(se(n,s=>e.call(t,s,r++)&&n.next(s)))})}function KC(e){return pe((t,i)=>{let n=!1,r=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let c=r;r=null,i.next(c)}o&&i.complete()},l=()=>{s=null,o&&i.complete()};t.subscribe(se(i,c=>{n=!0,r=c,s||Pe(e(c)).subscribe(s=se(i,a,l))},()=>{o=!0,(!n||!s||s.closed)&&i.complete()}))})}function xh(e,t=Mo){return KC(()=>qC(e,t))}function kn(e){return pe((t,i)=>{let n=null,r=!1,s;n=t.subscribe(se(i,void 0,void 0,o=>{s=Pe(e(o,kn(e)(t))),n?(n.unsubscribe(),n=null,s.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(i))})}function QC(e,t,i,n,r){return(s,o)=>{let a=i,l=t,c=0;s.subscribe(se(o,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),n&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function sn(e,t){return $(t)?$e(e,t,1):$e(e,1)}function Rh(e,t=Mo){return pe((i,n)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,n.next(c)}};function l(){let c=o+e,u=t.now();if(u<c){r=this.schedule(void 0,c-u),n.add(r);return}a()}i.subscribe(se(n,c=>{s=c,o=t.now(),r||(r=t.schedule(l,e),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}function _n(e){return pe((t,i)=>{let n=!1;t.subscribe(se(i,r=>{n=!0,i.next(r)},()=>{n||i.next(e),i.complete()}))})}function on(e){return e<=0?()=>Et:pe((t,i)=>{let n=0;t.subscribe(se(i,r=>{++n<=e&&(i.next(r),e<=n&&i.complete())}))})}function Mh(e){return ee(()=>e)}function Ql(e=Ux){return pe((t,i)=>{let n=!1;t.subscribe(se(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(e())))})}function Ux(){return new rn}function wr(e){return pe((t,i)=>{try{t.subscribe(i)}finally{i.add(e)}})}function ki(e,t){let i=arguments.length>=2;return n=>n.pipe(e?Ct((r,s)=>e(r,s,n)):Wt,on(1),i?_n(t):Ql(()=>new rn))}function fs(e){return e<=0?()=>Et:pe((t,i)=>{let n=[];t.subscribe(se(i,r=>{n.push(r),e<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function Ih(e,t){let i=arguments.length>=2;return n=>n.pipe(e?Ct((r,s)=>e(r,s,n)):Wt,fs(1),i?_n(t):Ql(()=>new rn))}function Fh(e,t){return pe(QC(e,t,arguments.length>=2,!0))}function To(...e){let t=Pi(e);return pe((i,n)=>{(t?gs(e,i,t):gs(e,i)).subscribe(n)})}function kt(e,t){return pe((i,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();i.subscribe(se(n,l=>{r?.unsubscribe();let c=0,u=s++;Pe(e(l,u)).subscribe(r=se(n,d=>n.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function _i(e){return pe((t,i)=>{Pe(e).subscribe(se(i,()=>i.complete(),Do)),!i.closed&&t.subscribe(i)})}function Xe(e,t,i){let n=$(e)||t||i?{next:e,error:t,complete:i}:e;return n?pe((r,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;r.subscribe(se(s,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),s.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),s.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),s.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):Wt}var B0="https://g.co/ng/security#xss",R=class extends Error{constructor(t,i){super(Vc(t,i)),this.code=t}};function Vc(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function zo(e){return{toString:e}.toString()}var Yl="__parameters__";function $x(e){return function(...i){if(e){let n=e(...i);for(let r in n)this[r]=n[r]}}}function H0(e,t,i){return zo(()=>{let n=$x(t);function r(...s){if(this instanceof r)return n.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(Yl)?l[Yl]:Object.defineProperty(l,Yl,{value:[]})[Yl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Ut=globalThis;function Te(e){for(let t in e)if(e[t]===Te)return t;throw Error("Could not find renamed property on target object.")}function qx(e,t){for(let i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function xt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(xt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i===-1?t:t.substring(0,i)}function Wh(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var Kx=Te({__forward_ref__:Te});function qt(e){return e.__forward_ref__=qt,e.toString=function(){return xt(this())},e}function Dt(e){return G0(e)?e():e}function G0(e){return typeof e=="function"&&e.hasOwnProperty(Kx)&&e.__forward_ref__===qt}function P(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ve(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bc(e){return YC(e,j0)||YC(e,W0)}function z0(e){return Bc(e)!==null}function YC(e,t){return e.hasOwnProperty(t)?e[t]:null}function Qx(e){let t=e&&(e[j0]||e[W0]);return t||null}function ZC(e){return e&&(e.hasOwnProperty(XC)||e.hasOwnProperty(Yx))?e[XC]:null}var j0=Te({\u0275prov:Te}),XC=Te({\u0275inj:Te}),W0=Te({ngInjectableDef:Te}),Yx=Te({ngInjectorDef:Te}),V=class{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=P({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function U0(e){return e&&!!e.\u0275providers}var Zx=Te({\u0275cmp:Te}),Xx=Te({\u0275dir:Te}),Jx=Te({\u0275pipe:Te}),eR=Te({\u0275mod:Te}),cc=Te({\u0275fac:Te}),Po=Te({__NG_ELEMENT_ID__:Te}),JC=Te({__NG_ENV_ID__:Te});function jo(e){return typeof e=="string"?e:e==null?"":String(e)}function tR(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():jo(e)}function iR(e,t){let i=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new R(-200,e)}function Yp(e,t){throw new R(-201,!1)}var le=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(le||{}),Uh;function $0(){return Uh}function ci(e){let t=Uh;return Uh=e,t}function q0(e,t,i){let n=Bc(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&le.Optional)return null;if(t!==void 0)return t;Yp(e,"Injector")}var nR={},_o=nR,$h="__NG_DI_FLAG__",uc="ngTempTokenPath",rR="ngTokenPath",sR=/\n/gm,oR="\u0275",e0="__source",ws;function aR(){return ws}function On(e){let t=ws;return ws=e,t}function lR(e,t=le.Default){if(ws===void 0)throw new R(-203,!1);return ws===null?q0(e,void 0,t):ws.get(e,t&le.Optional?null:void 0,t)}function _(e,t=le.Default){return($0()||lR)(Dt(e),t)}function x(e,t=le.Default){return _(e,Hc(t))}function Hc(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function qh(e){let t=[];for(let i=0;i<e.length;i++){let n=Dt(e[i]);if(Array.isArray(n)){if(n.length===0)throw new R(900,!1);let r,s=le.Default;for(let o=0;o<n.length;o++){let a=n[o],l=cR(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}t.push(_(r,s))}else t.push(_(n))}return t}function K0(e,t){return e[$h]=t,e.prototype[$h]=t,e}function cR(e){return e[$h]}function uR(e,t,i,n){let r=e[uc];throw t[e0]&&r.unshift(t[e0]),e.message=dR(`
`+e.message,r,i,n),e[rR]=r,e[uc]=null,e}function dR(e,t,i,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==oR?e.slice(2):e;let r=xt(t);if(Array.isArray(t))r=t.map(xt).join(" -> ");else if(typeof t=="object"){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):xt(a)))}r=`{${s.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${e.replace(sR,`
  `)}`}var Gc=K0(H0("Optional"),8);var Zp=K0(H0("SkipSelf"),4);function Ss(e,t){let i=e.hasOwnProperty(cc);return i?e[cc]:null}function hR(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=t[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}function pR(e){return e.flat(Number.POSITIVE_INFINITY)}function Xp(e,t){e.forEach(i=>Array.isArray(i)?Xp(i,t):t(i))}function Q0(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function dc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gR(e,t){let i=[];for(let n=0;n<e;n++)i.push(t);return i}function fR(e,t,i,n){let r=e.length;if(r==t)e.push(i,n);else if(r===1)e.push(n,e[0]),e[0]=i;else{for(r--,e.push(e[r-1],e[r]);r>t;){let s=r-2;e[r]=e[s],r--}e[t]=i,e[t+1]=n}}function Jp(e,t,i){let n=Wo(e,t);return n>=0?e[n|1]=i:(n=~n,fR(e,n,t,i)),n}function Th(e,t){let i=Wo(e,t);if(i>=0)return e[i|1]}function Wo(e,t){return mR(e,t,1)}function mR(e,t,i){let n=0,r=e.length>>i;for(;r!==n;){let s=n+(r-n>>1),o=e[s<<i];if(t===o)return s<<i;o>t?r=s:n=s+1}return~(r<<i)}var bs={},_t=[],Es=new V(""),Y0=new V("",-1),Z0=new V(""),hc=class{get(t,i=_o){if(i===_o){let n=new Error(`NullInjectorError: No provider for ${xt(t)}!`);throw n.name="NullInjectorError",n}return i}},X0=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(X0||{}),Ni=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ni||{}),Vn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Vn||{});function vR(e,t,i){let n=e.length;for(;;){let r=e.indexOf(t,i);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let s=t.length;if(r+s===n||e.charCodeAt(r+s)<=32)return r}i=r+1}}function Kh(e,t,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let s=i[n++],o=i[n++],a=i[n++];e.setAttribute(t,o,a,s)}else{let s=r,o=i[++n];CR(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),n++}}return n}function J0(e){return e===3||e===4||e===6}function CR(e){return e.charCodeAt(0)===64}function Oo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){let r=t[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?t0(e,i,r,null,t[++n]):t0(e,i,r,null,null))}}return e}function t0(e,t,i,n,r){let s=0,o=e.length;if(t===-1)o=-1;else for(;s<e.length;){let a=e[s++];if(typeof a=="number"){if(a===t){o=-1;break}else if(a>t){o=s-1;break}}}for(;s<e.length;){let a=e[s];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(e[s+1]=r);return}else if(n===e[s+1]){e[s+2]=r;return}}s++,n!==null&&s++,r!==null&&s++}o!==-1&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,i),n!==null&&e.splice(s++,0,n),r!==null&&e.splice(s++,0,r)}var ew="ng-template";function wR(e,t,i,n){let r=0;if(n){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&vR(t[r+1].toLowerCase(),i,0)!==-1)return!0}else if(eg(e))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&typeof(s=t[r])=="string";)if(s.toLowerCase()===i)return!0}return!1}function eg(e){return e.type===4&&e.value!==ew}function yR(e,t,i){let n=e.type===4&&!i?ew:e.value;return t===n}function SR(e,t,i){let n=4,r=e.attrs,s=r!==null?DR(r):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!o&&!Si(n)&&!Si(l))return!1;if(o&&Si(l))continue;o=!1,n=l|n&1;continue}if(!o)if(n&4){if(n=2|n&1,l!==""&&!yR(e,l,i)||l===""&&t.length===1){if(Si(n))return!1;o=!0}}else if(n&8){if(r===null||!wR(e,r,l,i)){if(Si(n))return!1;o=!0}}else{let c=t[++a],u=bR(l,r,eg(e),i);if(u===-1){if(Si(n))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=r[u+1].toLowerCase(),n&2&&c!==d){if(Si(n))return!1;o=!0}}}}return Si(n)||o}function Si(e){return(e&1)===0}function bR(e,t,i,n){if(t===null)return-1;let r=0;if(n||!i){let s=!1;for(;r<t.length;){let o=t[r];if(o===e)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return xR(t,e)}function tw(e,t,i=!1){for(let n=0;n<t.length;n++)if(SR(e,t[n],i))return!0;return!1}function ER(e){let t=e.attrs;if(t!=null){let i=t.indexOf(5);if(!(i&1))return t[i+1]}return null}function DR(e){for(let t=0;t<e.length;t++){let i=e[t];if(J0(i))return t}return e.length}function xR(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){let n=e[i];if(typeof n=="number")return-1;if(n===t)return i;i++}return-1}function RR(e,t){e:for(let i=0;i<t.length;i++){let n=t[i];if(e.length===n.length){for(let r=0;r<e.length;r++)if(e[r]!==n[r])continue e;return!0}}return!1}function i0(e,t){return e?":not("+t.trim()+")":t}function MR(e){let t=e[0],i=1,n=2,r="",s=!1;for(;i<e.length;){let o=e[i];if(typeof o=="string")if(n&2){let a=e[++i];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+o:n&4&&(r+=" "+o);else r!==""&&!Si(o)&&(t+=i0(s,r),r=""),n=o,s=s||!Si(n);i++}return r!==""&&(t+=i0(s,r)),t}function IR(e){return e.map(MR).join(",")}function FR(e){let t=[],i=[],n=1,r=2;for(;n<e.length;){let s=e[n];if(typeof s=="string")r===2?s!==""&&t.push(s,e[++n]):r===8&&i.push(s);else{if(!Si(r))break;r=s}n++}return{attrs:t,classes:i}}function q(e){return zo(()=>{let t=ow(e),i=B(b({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===X0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ni.Emulated,styles:e.styles||_t,_:null,schemas:e.schemas||null,tView:null,id:""});aw(i);let n=e.dependencies;return i.directiveDefs=r0(n,!1),i.pipeDefs=r0(n,!0),i.id=PR(i),i})}function TR(e){return Bn(e)||iw(e)}function AR(e){return e!==null}function Be(e){return zo(()=>({type:e.type,bootstrap:e.bootstrap||_t,declarations:e.declarations||_t,imports:e.imports||_t,exports:e.exports||_t,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function n0(e,t){if(e==null)return bs;let i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],s,o,a=Vn.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),t?(i[s]=a!==Vn.None?[n,a]:n,t[s]=o):i[s]=n}return i}function de(e){return zo(()=>{let t=ow(e);return aw(t),t})}function Bn(e){return e[Zx]||null}function iw(e){return e[Xx]||null}function nw(e){return e[Jx]||null}function rw(e){let t=Bn(e)||iw(e)||nw(e);return t!==null?t.standalone:!1}function sw(e,t){let i=e[eR]||null;if(!i&&t===!0)throw new Error(`Type ${xt(e)} does not have '\u0275mod' property.`);return i}function ow(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||bs,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||_t,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:n0(e.inputs,t),outputs:n0(e.outputs),debugInfo:null}}function aw(e){e.features?.forEach(t=>t(e))}function r0(e,t){if(!e)return null;let i=t?nw:TR;return()=>(typeof e=="function"?e():e).map(n=>i(n)).filter(AR)}function PR(e){let t=0,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of i)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function ks(e){return{\u0275providers:e}}function kR(...e){return{\u0275providers:lw(!0,e),\u0275fromNgModule:!0}}function lw(e,...t){let i=[],n=new Set,r,s=o=>{i.push(o)};return Xp(t,o=>{let a=o;Qh(a,s,[],n)&&(r||=[],r.push(a))}),r!==void 0&&cw(r,s),i}function cw(e,t){for(let i=0;i<e.length;i++){let{ngModule:n,providers:r}=e[i];tg(r,s=>{t(s,n)})}}function Qh(e,t,i,n){if(e=Dt(e),!e)return!1;let r=null,s=ZC(e),o=!s&&Bn(e);if(!s&&!o){let l=e.ngModule;if(s=ZC(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=e}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Qh(c,t,i,n)}}else if(s){if(s.imports!=null&&!a){n.add(r);let c;try{Xp(s.imports,u=>{Qh(u,t,i,n)&&(c||=[],c.push(u))})}finally{}c!==void 0&&cw(c,t)}if(!a){let c=Ss(r)||(()=>new r);t({provide:r,useFactory:c,deps:_t},r),t({provide:Z0,useValue:r,multi:!0},r),t({provide:Es,useValue:()=>_(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=e;tg(l,u=>{t(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function tg(e,t){for(let i of e)U0(i)&&(i=i.\u0275providers),Array.isArray(i)?tg(i,t):t(i)}var _R=Te({provide:String,useValue:Te});function uw(e){return e!==null&&typeof e=="object"&&_R in e}function OR(e){return!!(e&&e.useExisting)}function LR(e){return!!(e&&e.useFactory)}function Ds(e){return typeof e=="function"}function NR(e){return!!e.useClass}var zc=new V(""),rc={},VR={},Ah;function ig(){return Ah===void 0&&(Ah=new hc),Ah}var Rt=class{},Lo=class extends Rt{get destroyed(){return this._destroyed}constructor(t,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zh(t,o=>this.processProvider(o)),this.records.set(Y0,ms(void 0,this)),r.has("environment")&&this.records.set(Rt,ms(void 0,this));let s=this.records.get(zc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Z0,_t,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=ge(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let i=On(this),n=ci(void 0),r;try{return t()}finally{On(i),ci(n)}}get(t,i=_o,n=le.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(JC))return t[JC](this);n=Hc(n);let r,s=On(this),o=ci(void 0);try{if(!(n&le.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=jR(t)&&Bc(t);c&&this.injectableDefInScope(c)?l=ms(Yh(t),rc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=n&le.Self?ig():this.parent;return i=n&le.Optional&&i===_o?null:i,a.get(t,i)}catch(a){if(a.name==="NullInjectorError"){if((a[uc]=a[uc]||[]).unshift(xt(t)),s)throw a;return uR(a,t,"R3InjectorError",this.source)}else throw a}finally{ci(o),On(s)}}resolveInjectorInitializers(){let t=ge(null),i=On(this),n=ci(void 0),r;try{let s=this.get(Es,_t,le.Self);for(let o of s)o()}finally{On(i),ci(n),ge(t)}}toString(){let t=[],i=this.records;for(let n of i.keys())t.push(xt(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(t){t=Dt(t);let i=Ds(t)?t:Dt(t&&t.provide),n=HR(t);if(!Ds(t)&&t.multi===!0){let r=this.records.get(i);r||(r=ms(void 0,rc,!0),r.factory=()=>qh(r.multi),this.records.set(i,r)),i=t,r.multi.push(t)}this.records.set(i,n)}hydrate(t,i){let n=ge(null);try{return i.value===rc&&(i.value=VR,i.value=i.factory()),typeof i.value=="object"&&i.value&&zR(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{ge(n)}}injectableDefInScope(t){if(!t.providedIn)return!1;let i=Dt(t.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(t){let i=this._onDestroyHooks.indexOf(t);i!==-1&&this._onDestroyHooks.splice(i,1)}};function Yh(e){let t=Bc(e),i=t!==null?t.factory:Ss(e);if(i!==null)return i;if(e instanceof V)throw new R(204,!1);if(e instanceof Function)return BR(e);throw new R(204,!1)}function BR(e){if(e.length>0)throw new R(204,!1);let i=Qx(e);return i!==null?()=>i.factory(e):()=>new e}function HR(e){if(uw(e))return ms(void 0,e.useValue);{let t=dw(e);return ms(t,rc)}}function dw(e,t,i){let n;if(Ds(e)){let r=Dt(e);return Ss(r)||Yh(r)}else if(uw(e))n=()=>Dt(e.useValue);else if(LR(e))n=()=>e.useFactory(...qh(e.deps||[]));else if(OR(e))n=()=>_(Dt(e.useExisting));else{let r=Dt(e&&(e.useClass||e.provide));if(GR(e))n=()=>new r(...qh(e.deps));else return Ss(r)||Yh(r)}return n}function ms(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function GR(e){return!!e.deps}function zR(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function jR(e){return typeof e=="function"||typeof e=="object"&&e instanceof V}function Zh(e,t){for(let i of e)Array.isArray(i)?Zh(i,t):i&&U0(i)?Zh(i.\u0275providers,t):t(i)}function Kt(e,t){e instanceof Lo&&e.assertNotDestroyed();let i,n=On(e),r=ci(void 0);try{return t()}finally{On(n),ci(r)}}function hw(){return $0()!==void 0||aR()!=null}function WR(e){if(!hw())throw new R(-203,!1)}function UR(e){let t=Ut.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function $R(e){return typeof e=="function"}var Hi=0,te=1,X=2,yt=3,Ei=4,Nt=5,xs=6,pc=7,ht=8,Rs=9,Vi=10,Ne=11,No=12,s0=13,_s=14,Lt=15,br=16,vs=17,an=18,jc=19,pw=20,Ln=21,Ph=22,ui=23,Mt=25,ng=1;var Er=7,gc=8,Ms=9,wt=10,fc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(fc||{});function Nn(e){return Array.isArray(e)&&typeof e[ng]=="object"}function hn(e){return Array.isArray(e)&&e[ng]===!0}function rg(e){return(e.flags&4)!==0}function Wc(e){return e.componentOffset>-1}function Uc(e){return(e.flags&1)===1}function ln(e){return!!e.template}function Xh(e){return(e[X]&512)!==0}var Jh=class{constructor(t,i,n){this.previousValue=t,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function gw(e,t,i,n){t!==null?t.applyValueToInputSignal(t,n):e[i]=n}function gt(){return fw}function fw(e){return e.type.prototype.ngOnChanges&&(e.setInput=KR),qR}gt.ngInherit=!0;function qR(){let e=vw(this),t=e?.current;if(t){let i=e.previous;if(i===bs)e.previous=t;else for(let n in t)i[n]=t[n];e.current=null,this.ngOnChanges(t)}}function KR(e,t,i,n,r){let s=this.declaredInputs[n],o=vw(e)||QR(e,{previous:bs,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Jh(c&&c.currentValue,i,l===bs),gw(e,t,r,i)}var mw="__ngSimpleChanges__";function vw(e){return e[mw]||null}function QR(e,t){return e[mw]=t}var o0=null;var Oi=function(e,t,i){o0?.(e,t,i)},YR="svg",ZR="math";function Bi(e){for(;Array.isArray(e);)e=e[Hi];return e}function XR(e){for(;Array.isArray(e);){if(typeof e[ng]=="object")return e;e=e[Hi]}return null}function Cw(e,t){return Bi(t[e])}function di(e,t){return Bi(t[e.index])}function sg(e,t){return e.data[t]}function JR(e,t){return e[t]}function Un(e,t){let i=t[e];return Nn(i)?i:i[Hi]}function e3(e){return(e[X]&4)===4}function og(e){return(e[X]&128)===128}function t3(e){return hn(e[yt])}function Hn(e,t){return t==null?null:e[t]}function ww(e){e[vs]=0}function yw(e){e[X]&1024||(e[X]|=1024,og(e)&&$c(e))}function i3(e,t){for(;e>0;)t=t[_s],e--;return t}function Vo(e){return!!(e[X]&9216||e[ui]?.dirty)}function ep(e){e[Vi].changeDetectionScheduler?.notify(7),e[X]&64&&(e[X]|=1024),Vo(e)&&$c(e)}function $c(e){e[Vi].changeDetectionScheduler?.notify(0);let t=Dr(e);for(;t!==null&&!(t[X]&8192||(t[X]|=8192,!og(t)));)t=Dr(t)}function Sw(e,t){if((e[X]&256)===256)throw new R(911,!1);e[Ln]===null&&(e[Ln]=[]),e[Ln].push(t)}function n3(e,t){if(e[Ln]===null)return;let i=e[Ln].indexOf(t);i!==-1&&e[Ln].splice(i,1)}function Dr(e){let t=e[yt];return hn(t)?t[yt]:t}var ue={lFrame:Pw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var bw=!1;function r3(){return ue.lFrame.elementDepthCount}function s3(){ue.lFrame.elementDepthCount++}function o3(){ue.lFrame.elementDepthCount--}function Ew(){return ue.bindingsEnabled}function Dw(){return ue.skipHydrationRootTNode!==null}function a3(e){return ue.skipHydrationRootTNode===e}function l3(){ue.skipHydrationRootTNode=null}function ie(){return ue.lFrame.lView}function je(){return ue.lFrame.tView}function G(e){return ue.lFrame.contextLView=e,e[ht]}function z(e){return ue.lFrame.contextLView=null,e}function ft(){let e=xw();for(;e!==null&&e.type===64;)e=e.parent;return e}function xw(){return ue.lFrame.currentTNode}function c3(){let e=ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Tr(e,t){let i=ue.lFrame;i.currentTNode=e,i.isParent=t}function ag(){return ue.lFrame.isParent}function lg(){ue.lFrame.isParent=!1}function u3(){return ue.lFrame.contextLView}function Rw(){return bw}function a0(e){bw=e}function qc(){let e=ue.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function d3(e){return ue.lFrame.bindingIndex=e}function Ar(){return ue.lFrame.bindingIndex++}function Mw(e){let t=ue.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function h3(){return ue.lFrame.inI18n}function p3(e,t){let i=ue.lFrame;i.bindingIndex=i.bindingRootIndex=e,tp(t)}function g3(){return ue.lFrame.currentDirectiveIndex}function tp(e){ue.lFrame.currentDirectiveIndex=e}function Iw(e){let t=ue.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Fw(){return ue.lFrame.currentQueryIndex}function cg(e){ue.lFrame.currentQueryIndex=e}function f3(e){let t=e[te];return t.type===2?t.declTNode:t.type===1?e[Nt]:null}function Tw(e,t,i){if(i&le.SkipSelf){let r=t,s=e;for(;r=r.parent,r===null&&!(i&le.Host);)if(r=f3(s),r===null||(s=s[_s],r.type&10))break;if(r===null)return!1;t=r,e=s}let n=ue.lFrame=Aw();return n.currentTNode=t,n.lView=e,!0}function ug(e){let t=Aw(),i=e[te];ue.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function Aw(){let e=ue.lFrame,t=e===null?null:e.child;return t===null?Pw(e):t}function Pw(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function kw(){let e=ue.lFrame;return ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var _w=kw;function dg(){let e=kw();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function m3(e){return(ue.lFrame.contextLView=i3(e,ue.lFrame.contextLView))[ht]}function $n(){return ue.lFrame.selectedIndex}function xr(e){ue.lFrame.selectedIndex=e}function Uo(){let e=ue.lFrame;return sg(e.tView,e.selectedIndex)}function v3(){return ue.lFrame.currentNamespace}var Ow=!0;function Kc(){return Ow}function Qc(e){Ow=e}function C3(e,t,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){let o=fw(t);(i.preOrderHooks??=[]).push(e,o),(i.preOrderCheckHooks??=[]).push(e,o)}r&&(i.preOrderHooks??=[]).push(0-e,r),s&&((i.preOrderHooks??=[]).push(e,s),(i.preOrderCheckHooks??=[]).push(e,s))}function Yc(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){let s=e.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(e.contentHooks??=[]).push(-i,o),a&&((e.contentHooks??=[]).push(i,a),(e.contentCheckHooks??=[]).push(i,a)),l&&(e.viewHooks??=[]).push(-i,l),c&&((e.viewHooks??=[]).push(i,c),(e.viewCheckHooks??=[]).push(i,c)),u!=null&&(e.destroyHooks??=[]).push(i,u)}}function sc(e,t,i){Lw(e,t,3,i)}function oc(e,t,i,n){(e[X]&3)===i&&Lw(e,t,i,n)}function kh(e,t){let i=e[X];(i&3)===t&&(i&=16383,i+=1,e[X]=i)}function Lw(e,t,i,n){let r=n!==void 0?e[vs]&65535:0,s=n??-1,o=t.length-1,a=0;for(let l=r;l<o;l++)if(typeof t[l+1]=="number"){if(a=t[l],n!=null&&a>=n)break}else t[l]<0&&(e[vs]+=65536),(a<s||s==-1)&&(w3(e,i,t,l),e[vs]=(e[vs]&4294901760)+l+2),l++}function l0(e,t){Oi(4,e,t);let i=ge(null);try{t.call(e)}finally{ge(i),Oi(5,e,t)}}function w3(e,t,i,n){let r=i[n]<0,s=i[n+1],o=r?-i[n]:i[n],a=e[o];r?e[X]>>14<e[vs]>>16&&(e[X]&3)===t&&(e[X]+=16384,l0(a,s)):l0(a,s)}var ys=-1,Rr=class{constructor(t,i,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function y3(e){return e instanceof Rr}function S3(e){return(e.flags&8)!==0}function b3(e){return(e.flags&16)!==0}var _h={},ip=class{constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,n){n=Hc(n);let r=this.injector.get(t,_h,n);return r!==_h||i===_h?r:this.parentInjector.get(t,i,n)}};function Nw(e){return e!==ys}function mc(e){return e&32767}function E3(e){return e>>16}function vc(e,t){let i=E3(e),n=t;for(;i>0;)n=n[_s],i--;return n}var np=!0;function c0(e){let t=np;return np=e,t}var D3=256,Vw=D3-1,Bw=5,x3=0,Li={};function R3(e,t,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(Po)&&(n=i[Po]),n==null&&(n=i[Po]=x3++);let r=n&Vw,s=1<<r;t.data[e+(r>>Bw)]|=s}function Cc(e,t){let i=Hw(e,t);if(i!==-1)return i;let n=t[te];n.firstCreatePass&&(e.injectorIndex=t.length,Oh(n.data,e),Oh(t,null),Oh(n.blueprint,null));let r=hg(e,t),s=e.injectorIndex;if(Nw(r)){let o=mc(r),a=vc(r,t),l=a[te].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function Oh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Hw(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function hg(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let i=0,n=null,r=t;for(;r!==null;){if(n=Uw(r),n===null)return ys;if(i++,r=r[_s],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return ys}function rp(e,t,i){R3(e,t,i)}function M3(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let i=e.attrs;if(i){let n=i.length,r=0;for(;r<n;){let s=i[r];if(J0(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<n&&typeof i[r]=="string";)r++;else{if(s===t)return i[r+1];r=r+2}}}return null}function Gw(e,t,i){if(i&le.Optional||e!==void 0)return e;Yp(t,"NodeInjector")}function zw(e,t,i,n){if(i&le.Optional&&n===void 0&&(n=null),!(i&(le.Self|le.Host))){let r=e[Rs],s=ci(void 0);try{return r?r.get(t,n,i&le.Optional):q0(t,n,i&le.Optional)}finally{ci(s)}}return Gw(n,t,i)}function jw(e,t,i,n=le.Default,r){if(e!==null){if(t[X]&2048&&!(n&le.Self)){let o=A3(e,t,i,n,Li);if(o!==Li)return o}let s=Ww(e,t,i,n,Li);if(s!==Li)return s}return zw(t,i,n,r)}function Ww(e,t,i,n,r){let s=F3(i);if(typeof s=="function"){if(!Tw(t,e,n))return n&le.Host?Gw(r,i,n):zw(t,i,n,r);try{let o;if(o=s(n),o==null&&!(n&le.Optional))Yp(i);else return o}finally{_w()}}else if(typeof s=="number"){let o=null,a=Hw(e,t),l=ys,c=n&le.Host?t[Lt][Nt]:null;for((a===-1||n&le.SkipSelf)&&(l=a===-1?hg(e,t):t[a+8],l===ys||!d0(n,!1)?a=-1:(o=t[te],a=mc(l),t=vc(l,t)));a!==-1;){let u=t[te];if(u0(s,a,u.data)){let d=I3(a,t,i,o,n,c);if(d!==Li)return d}l=t[a+8],l!==ys&&d0(n,t[te].data[a+8]===c)&&u0(s,a,t)?(o=u,a=mc(l),t=vc(l,t)):a=-1}}return r}function I3(e,t,i,n,r,s){let o=t[te],a=o.data[e+8],l=n==null?Wc(a)&&np:n!=o&&(a.type&3)!==0,c=r&le.Host&&s===a,u=ac(a,o,i,l,c);return u!==null?Mr(t,o,u,a):Li}function ac(e,t,i,n,r){let s=e.providerIndexes,o=t.data,a=s&1048575,l=e.directiveStart,c=e.directiveEnd,u=s>>20,d=n?a:a+u,f=r?a+u:c;for(let m=d;m<f;m++){let v=o[m];if(m<l&&i===v||m>=l&&v.type===i)return m}if(r){let m=o[l];if(m&&ln(m)&&m.type===i)return l}return null}function Mr(e,t,i,n){let r=e[i],s=t.data;if(y3(r)){let o=r;o.resolving&&iR(tR(s[i]));let a=c0(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?ci(o.injectImpl):null,u=Tw(e,n,le.Default);try{r=e[i]=o.factory(void 0,s,e,n),t.firstCreatePass&&i>=n.directiveStart&&C3(i,s[i],t)}finally{c!==null&&ci(c),c0(a),o.resolving=!1,_w()}}return r}function F3(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Po)?e[Po]:void 0;return typeof t=="number"?t>=0?t&Vw:T3:t}function u0(e,t,i){let n=1<<e;return!!(i[t+(e>>Bw)]&n)}function d0(e,t){return!(e&le.Self)&&!(e&le.Host&&t)}var Sr=class{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,n){return jw(this._tNode,this._lView,t,Hc(n),i)}};function T3(){return new Sr(ft(),ie())}function qn(e){return zo(()=>{let t=e.prototype.constructor,i=t[cc]||sp(t),n=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){let s=r[cc]||sp(r);if(s&&s!==i)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function sp(e){return G0(e)?()=>{let t=sp(Dt(e));return t&&t()}:Ss(e)}function A3(e,t,i,n,r){let s=e,o=t;for(;s!==null&&o!==null&&o[X]&2048&&!(o[X]&512);){let a=Ww(s,o,i,n|le.Self,Li);if(a!==Li)return a;let l=s.parent;if(!l){let c=o[pw];if(c){let u=c.get(i,Li,n);if(u!==Li)return u}l=Uw(o),o=o[_s]}s=l}return r}function Uw(e){let t=e[te],i=t.type;return i===2?t.declTNode:i===1?e[Nt]:null}function Os(e){return M3(ft(),e)}function h0(e,t=null,i=null,n){let r=$w(e,t,i,n);return r.resolveInjectorInitializers(),r}function $w(e,t=null,i=null,n,r=new Set){let s=[i||_t,kR(e)];return n=n||(typeof e=="object"?void 0:xt(e)),new Lo(s,t||ig(),n||null,r)}var yr=class yr{static create(t,i){if(Array.isArray(t))return h0({name:""},i,t,"");{let n=t.name??"";return h0({name:n},t.parent,t.providers,n)}}};yr.THROW_IF_NOT_FOUND=_o,yr.NULL=new hc,yr.\u0275prov=P({token:yr,providedIn:"any",factory:()=>_(Y0)}),yr.__NG_ELEMENT_ID__=-1;var pt=yr;var P3=new V("");P3.__NG_ELEMENT_ID__=e=>{let t=ft();if(t===null)throw new R(204,!1);if(t.type&2)return t.value;if(e&le.Optional)return null;throw new R(204,!1)};var k3="ngOriginalError";function Lh(e){return e[k3]}var qw=!0,pg=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=_3,t.__NG_ENV_ID__=n=>n;let e=t;return e})(),op=class extends pg{constructor(t){super(),this._lView=t}onDestroy(t){return Sw(this._lView,t),()=>n3(this._lView,t)}};function _3(){return new op(ie())}var Kn=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275prov=P({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();var ap=class extends Ee{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,hw()&&(this.destroyRef=x(pg,{optional:!0})??void 0,this.pendingTasks=x(Kn,{optional:!0})??void 0)}emit(t){let i=ge(null);try{super.next(t)}finally{ge(i)}}subscribe(t,i,n){let r=t,s=i||(()=>null),o=n;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return t instanceof Le&&t.add(a),a}wrapInTimeout(t){return i=>{let n=this.pendingTasks?.add();setTimeout(()=>{t(i),n!==void 0&&this.pendingTasks?.remove(n)})}}},ce=ap;function wc(...e){}function Kw(e){let t,i;function n(){e=wc;try{i!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(i),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),n()}),typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(()=>{e(),n()})),()=>n()}function p0(e){return queueMicrotask(()=>e()),()=>{e=wc}}var gg="isAngularZone",yc=gg+"_ID",O3=0,fe=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ce(!1),this.onMicrotaskEmpty=new ce(!1),this.onStable=new ce(!1),this.onError=new ce(!1);let{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=qw}=t;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,V3(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gg)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new R(909,!1)}run(t,i,n){return this._inner.run(t,i,n)}runTask(t,i,n,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,L3,wc,wc);try{return s.runTask(o,i,n)}finally{s.cancelTask(o)}}runGuarded(t,i,n){return this._inner.runGuarded(t,i,n)}runOutsideAngular(t){return this._outer.run(t)}},L3={};function fg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function N3(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Kw(()=>{e.callbackScheduled=!1,lp(e),e.isCheckStableRunning=!0,fg(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),lp(e)}function V3(e){let t=()=>{N3(e)},i=O3++;e._inner=e._inner.fork({name:"angular",properties:{[gg]:!0,[yc]:i,[yc+i]:!0},onInvokeTask:(n,r,s,o,a,l)=>{if(B3(l))return n.invokeTask(s,o,a,l);try{return g0(e),n.invokeTask(s,o,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),f0(e)}},onInvoke:(n,r,s,o,a,l,c)=>{try{return g0(e),n.invoke(s,o,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!H3(l)&&t(),f0(e)}},onHasTask:(n,r,s,o)=>{n.hasTask(s,o),r===s&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,lp(e),fg(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,s,o)=>(n.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function lp(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function g0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function f0(e){e._nesting--,fg(e)}var Sc=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ce,this.onMicrotaskEmpty=new ce,this.onStable=new ce,this.onError=new ce}run(t,i,n){return t.apply(i,n)}runGuarded(t,i,n){return t.apply(i,n)}runOutsideAngular(t){return t()}runTask(t,i,n,r){return t.apply(i,n)}};function B3(e){return Qw(e,"__ignore_ng_zone__")}function H3(e){return Qw(e,"__scheduler_tick__")}function Qw(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function G3(e="zone.js",t){return e==="noop"?new Sc:e==="zone.js"?new fe(t):e}var cn=class{constructor(){this._console=console}handleError(t){let i=this._findOriginalError(t);this._console.error("ERROR",t),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&Lh(t);for(;i&&Lh(i);)i=Lh(i);return i||null}},z3=new V("",{providedIn:"root",factory:()=>{let e=x(fe),t=x(cn);return i=>e.runOutsideAngular(()=>t.handleError(i))}});function j3(){return Ls(ft(),ie())}function Ls(e,t){return new We(di(e,t))}var We=(()=>{let t=class t{constructor(n){this.nativeElement=n}};t.__NG_ELEMENT_ID__=j3;let e=t;return e})();function W3(e){return e instanceof We?e.nativeElement:e}function U3(){return this._results[Symbol.iterator]()}var cp=class e{get changes(){return this._changes??=new ce}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=e.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=U3)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){this.dirty=!1;let n=pR(t);(this._changesDetected=!hR(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Yw(e){return(e.flags&128)===128}var Zw=new Map,$3=0;function q3(){return $3++}function K3(e){Zw.set(e[jc],e)}function Q3(e){Zw.delete(e[jc])}var m0="__ngContext__";function Gn(e,t){Nn(t)?(e[m0]=t[jc],K3(t)):e[m0]=t}function Xw(e){return ey(e[No])}function Jw(e){return ey(e[Ei])}function ey(e){for(;e!==null&&!hn(e);)e=e[Ei];return e}var up;function ty(e){up=e}function iy(){if(up!==void 0)return up;if(typeof document<"u")return document;throw new R(210,!1)}var Zc=new V("",{providedIn:"root",factory:()=>Y3}),Y3="ng",mg=new V(""),Gi=new V("",{providedIn:"platform",factory:()=>"unknown"});var vg=new V(""),Cg=new V("",{providedIn:"root",factory:()=>iy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Z3="h",X3="b";var J3=()=>null;function wg(e,t,i=!1){return J3(e,t,i)}var ny=!1,eM=new V("",{providedIn:"root",factory:()=>ny});var Zl;function ry(){if(Zl===void 0&&(Zl=null,Ut.trustedTypes))try{Zl=Ut.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zl}function Xc(e){return ry()?.createHTML(e)||e}function tM(e){return ry()?.createScriptURL(e)||e}var Xl;function sy(){if(Xl===void 0&&(Xl=null,Ut.trustedTypes))try{Xl=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Xl}function v0(e){return sy()?.createHTML(e)||e}function C0(e){return sy()?.createScriptURL(e)||e}var un=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${B0})`}},dp=class extends un{getTypeName(){return"HTML"}},hp=class extends un{getTypeName(){return"Style"}},pp=class extends un{getTypeName(){return"Script"}},gp=class extends un{getTypeName(){return"URL"}},fp=class extends un{getTypeName(){return"ResourceURL"}};function hi(e){return e instanceof un?e.changingThisBreaksApplicationSecurity:e}function pn(e,t){let i=iM(e);if(i!=null&&i!==t){if(i==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${B0})`)}return i===t}function iM(e){return e instanceof un&&e.getTypeName()||null}function oy(e){return new dp(e)}function ay(e){return new hp(e)}function ly(e){return new pp(e)}function cy(e){return new gp(e)}function uy(e){return new fp(e)}function nM(e){let t=new vp(e);return rM()?new mp(t):t}var mp=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let i=new window.DOMParser().parseFromString(Xc(t),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(t):(i.firstChild?.remove(),i)}catch{return null}}},vp=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let i=this.inertDocument.createElement("template");return i.innerHTML=Xc(t),i}};function rM(){try{return!!new window.DOMParser().parseFromString(Xc(""),"text/html")}catch{return!1}}var sM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jc(e){return e=String(e),e.match(sM)?e:"unsafe:"+e}function gn(e){let t={};for(let i of e.split(","))t[i]=!0;return t}function $o(...e){let t={};for(let i of e)for(let n in i)i.hasOwnProperty(n)&&(t[n]=!0);return t}var dy=gn("area,br,col,hr,img,wbr"),hy=gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),py=gn("rp,rt"),oM=$o(py,hy),aM=$o(hy,gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lM=$o(py,gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),w0=$o(dy,aM,lM,oM),gy=gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cM=gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uM=gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),dM=$o(gy,cM,uM),hM=gn("script,style,template"),Cp=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let i=t.firstChild,n=!0,r=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild){r.push(i),i=fM(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let s=gM(i);if(s){i=s;break}i=r.pop()}}return this.buf.join("")}startElement(t){let i=y0(t).toLowerCase();if(!w0.hasOwnProperty(i))return this.sanitizedSomething=!0,!hM.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let n=t.attributes;for(let r=0;r<n.length;r++){let s=n.item(r),o=s.name,a=o.toLowerCase();if(!dM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;gy[a]&&(l=Jc(l)),this.buf.push(" ",o,'="',S0(l),'"')}return this.buf.push(">"),!0}endElement(t){let i=y0(t).toLowerCase();w0.hasOwnProperty(i)&&!dy.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(t){this.buf.push(S0(t))}};function pM(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function gM(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw fy(t);return t}function fM(e){let t=e.firstChild;if(t&&pM(e,t))throw fy(t);return t}function y0(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function fy(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var mM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vM=/([^\#-~ |!])/g;function S0(e){return e.replace(/&/g,"&amp;").replace(mM,function(t){let i=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+((i-55296)*1024+(n-56320)+65536)+";"}).replace(vM,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Jl;function yg(e,t){let i=null;try{Jl=Jl||nM(e);let n=t?String(t):"";i=Jl.getInertBodyElement(n);let r=5,s=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=Jl.getInertBodyElement(n)}while(n!==s);let a=new Cp().sanitizeChildren(b0(i)||i);return Xc(a)}finally{if(i){let n=b0(i)||i;for(;n.firstChild;)n.firstChild.remove()}}}function b0(e){return"content"in e&&CM(e)?e.content:null}function CM(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Qt=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Qt||{});function Sg(e){let t=bg();return t?v0(t.sanitize(Qt.HTML,e)||""):pn(e,"HTML")?v0(hi(e)):yg(iy(),jo(e))}function wM(e){let t=bg();return t?t.sanitize(Qt.URL,e)||"":pn(e,"URL")?hi(e):Jc(jo(e))}function yM(e){let t=bg();if(t)return C0(t.sanitize(Qt.RESOURCE_URL,e)||"");if(pn(e,"ResourceURL"))return C0(hi(e));throw new R(904,!1)}function my(e){return tM(e[0])}function SM(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?yM:wM}function vy(e,t,i){return SM(t,i)(e)}function bg(){let e=ie();return e&&e[Vi].sanitizer}var bM=/^>|^->|<!--|-->|--!>|<!-$/g,EM=/(<|>)/g,DM="\u200B$1\u200B";function xM(e){return e.replace(bM,t=>t.replace(EM,DM))}function Cy(e){return e instanceof Function?e():e}function RM(e){return(e??x(pt)).get(Gi)==="browser"}var dn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(dn||{}),MM;function Eg(e,t){return MM(e,t)}function Cs(e,t,i,n,r){if(n!=null){let s,o=!1;hn(n)?s=n:Nn(n)&&(o=!0,n=n[Hi]);let a=Bi(n);e===0&&i!==null?r==null?Ey(t,i,a):bc(t,i,a,r||null,!0):e===1&&i!==null?bc(t,i,a,r||null,!0):e===2?GM(t,a,o):e===3&&t.destroyNode(a),s!=null&&jM(t,e,s,i,r)}}function IM(e,t){return e.createText(t)}function FM(e,t,i){e.setValue(t,i)}function TM(e,t){return e.createComment(xM(t))}function wy(e,t,i){return e.createElement(t,i)}function AM(e,t){yy(e,t),t[Hi]=null,t[Nt]=null}function PM(e,t,i,n,r,s){n[Hi]=r,n[Nt]=t,iu(e,n,i,1,r,s)}function yy(e,t){t[Vi].changeDetectionScheduler?.notify(8),iu(e,t,t[Ne],2,null,null)}function kM(e){let t=e[No];if(!t)return Nh(e[te],e);for(;t;){let i=null;if(Nn(t))i=t[No];else{let n=t[wt];n&&(i=n)}if(!i){for(;t&&!t[Ei]&&t!==e;)Nn(t)&&Nh(t[te],t),t=t[yt];t===null&&(t=e),Nn(t)&&Nh(t[te],t),i=t&&t[Ei]}t=i}}function _M(e,t,i,n){let r=wt+n,s=i.length;n>0&&(i[r-1][Ei]=t),n<s-wt?(t[Ei]=i[r],Q0(i,wt+n,t)):(i.push(t),t[Ei]=null),t[yt]=i;let o=t[br];o!==null&&i!==o&&Sy(o,t);let a=t[an];a!==null&&a.insertView(e),ep(t),t[X]|=128}function Sy(e,t){let i=e[Ms],n=t[yt];if(Nn(n))e[X]|=fc.HasTransplantedViews;else{let r=n[yt][Lt];t[Lt]!==r&&(e[X]|=fc.HasTransplantedViews)}i===null?e[Ms]=[t]:i.push(t)}function Dg(e,t){let i=e[Ms],n=i.indexOf(t);i.splice(n,1)}function Bo(e,t){if(e.length<=wt)return;let i=wt+t,n=e[i];if(n){let r=n[br];r!==null&&r!==e&&Dg(r,n),t>0&&(e[i-1][Ei]=n[Ei]);let s=dc(e,wt+t);AM(n[te],n);let o=s[an];o!==null&&o.detachView(s[te]),n[yt]=null,n[Ei]=null,n[X]&=-129}return n}function eu(e,t){if(!(t[X]&256)){let i=t[Ne];i.destroyNode&&iu(e,t,i,3,null,null),kM(t)}}function Nh(e,t){if(t[X]&256)return;let i=ge(null);try{t[X]&=-129,t[X]|=256,t[ui]&&oh(t[ui]),LM(e,t),OM(e,t),t[te].type===1&&t[Ne].destroy();let n=t[br];if(n!==null&&hn(t[yt])){n!==t[yt]&&Dg(n,t);let r=t[an];r!==null&&r.detachView(e)}Q3(t)}finally{ge(i)}}function OM(e,t){let i=e.cleanup,n=t[pc];if(i!==null)for(let s=0;s<i.length-1;s+=2)if(typeof i[s]=="string"){let o=i[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[i[s+1]];i[s].call(o)}n!==null&&(t[pc]=null);let r=t[Ln];if(r!==null){t[Ln]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function LM(e,t){let i;if(e!=null&&(i=e.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=t[i[n]];if(!(r instanceof Rr)){let s=i[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];Oi(4,a,l);try{l.call(a)}finally{Oi(5,a,l)}}else{Oi(4,r,s);try{s.call(r)}finally{Oi(5,r,s)}}}}}function by(e,t,i){return NM(e,t.parent,i)}function NM(e,t,i){let n=t;for(;n!==null&&n.type&168;)t=n,n=t.parent;if(n===null)return i[Hi];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:s}=e.data[n.directiveStart+r];if(s===Ni.None||s===Ni.Emulated)return null}return di(n,i)}}function bc(e,t,i,n,r){e.insertBefore(t,i,n,r)}function Ey(e,t,i){e.appendChild(t,i)}function E0(e,t,i,n,r){n!==null?bc(e,t,i,n,r):Ey(e,t,i)}function Dy(e,t){return e.parentNode(t)}function VM(e,t){return e.nextSibling(t)}function xy(e,t,i){return HM(e,t,i)}function BM(e,t,i){return e.type&40?di(e,i):null}var HM=BM,D0;function tu(e,t,i,n){let r=by(e,n,t),s=t[Ne],o=n.parent||t[Nt],a=xy(o,n,t);if(r!=null)if(Array.isArray(i))for(let l=0;l<i.length;l++)E0(s,r,i[l],a,!1);else E0(s,r,i,a,!1);D0!==void 0&&D0(s,n,t,i,r)}function Ao(e,t){if(t!==null){let i=t.type;if(i&3)return di(t,e);if(i&4)return wp(-1,e[t.index]);if(i&8){let n=t.child;if(n!==null)return Ao(e,n);{let r=e[t.index];return hn(r)?wp(-1,r):Bi(r)}}else{if(i&128)return Ao(e,t.next);if(i&32)return Eg(t,e)()||Bi(e[t.index]);{let n=Ry(e,t);if(n!==null){if(Array.isArray(n))return n[0];let r=Dr(e[Lt]);return Ao(r,n)}else return Ao(e,t.next)}}}return null}function Ry(e,t){if(t!==null){let n=e[Lt][Nt],r=t.projection;return n.projection[r]}return null}function wp(e,t){let i=wt+e+1;if(i<t.length){let n=t[i],r=n[te].firstChild;if(r!==null)return Ao(n,r)}return t[Er]}function GM(e,t,i){e.removeChild(null,t,i)}function xg(e,t,i,n,r,s,o){for(;i!=null;){if(i.type===128){i=i.next;continue}let a=n[i.index],l=i.type;if(o&&t===0&&(a&&Gn(Bi(a),n),i.flags|=2),(i.flags&32)!==32)if(l&8)xg(e,t,i.child,n,r,s,!1),Cs(t,e,r,a,s);else if(l&32){let c=Eg(i,n),u;for(;u=c();)Cs(t,e,r,u,s);Cs(t,e,r,a,s)}else l&16?My(e,t,n,i,r,s):Cs(t,e,r,a,s);i=o?i.projectionNext:i.next}}function iu(e,t,i,n,r,s){xg(i,n,e.firstChild,t,r,s,!1)}function zM(e,t,i){let n=t[Ne],r=by(e,i,t),s=i.parent||t[Nt],o=xy(s,i,t);My(n,0,t,i,r,o)}function My(e,t,i,n,r,s){let o=i[Lt],l=o[Nt].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Cs(t,e,r,u,s)}else{let c=l,u=o[yt];Yw(n)&&(c.flags|=128),xg(e,t,c,u,r,s,!0)}}function jM(e,t,i,n,r){let s=i[Er],o=Bi(i);s!==o&&Cs(t,e,n,s,r);for(let a=wt;a<i.length;a++){let l=i[a];iu(l[te],l,e,t,n,s)}}function WM(e,t,i,n,r){if(t)r?e.addClass(i,n):e.removeClass(i,n);else{let s=n.indexOf("-")===-1?void 0:dn.DashCase;r==null?e.removeStyle(i,n,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=dn.Important),e.setStyle(i,n,r,s))}}function UM(e,t,i){e.setAttribute(t,"style",i)}function Iy(e,t,i){i===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function Fy(e,t,i){let{mergedAttrs:n,classes:r,styles:s}=i;n!==null&&Kh(e,t,n),r!==null&&Iy(e,t,r),s!==null&&UM(e,t,s)}var Di={};function C(e=1){Ty(je(),ie(),$n()+e,!1)}function Ty(e,t,i,n){if(!n)if((t[X]&3)===3){let s=e.preOrderCheckHooks;s!==null&&sc(t,s,i)}else{let s=e.preOrderHooks;s!==null&&oc(t,s,0,i)}xr(i)}function y(e,t=le.Default){let i=ie();if(i===null)return _(e,t);let n=ft();return jw(n,i,Dt(e),t)}function Ay(){let e="invalid";throw new Error(e)}function Py(e,t,i,n,r,s){let o=ge(null);try{let a=null;r&Vn.SignalBased&&(a=t[n][nn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Vn.HasDecoratorInputTransform&&(s=e.inputTransforms[n].call(t,s)),e.setInput!==null?e.setInput(t,a,s,i,n):gw(t,a,n,s)}finally{ge(o)}}function $M(e,t){let i=e.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)xr(~r);else{let s=r,o=i[++n],a=i[++n];p3(o,s);let l=t[s];a(2,l)}}}finally{xr(-1)}}function nu(e,t,i,n,r,s,o,a,l,c,u){let d=t.blueprint.slice();return d[Hi]=r,d[X]=n|4|128|8|64,(c!==null||e&&e[X]&2048)&&(d[X]|=2048),ww(d),d[yt]=d[_s]=e,d[ht]=i,d[Vi]=o||e&&e[Vi],d[Ne]=a||e&&e[Ne],d[Rs]=l||e&&e[Rs]||null,d[Nt]=s,d[jc]=q3(),d[xs]=u,d[pw]=c,d[Lt]=t.type==2?e[Lt]:d,d}function Ns(e,t,i,n,r){let s=e.data[t];if(s===null)s=qM(e,t,i,n,r),h3()&&(s.flags|=32);else if(s.type&64){s.type=i,s.value=n,s.attrs=r;let o=c3();s.injectorIndex=o===null?-1:o.injectorIndex}return Tr(s,!0),s}function qM(e,t,i,n,r){let s=xw(),o=ag(),a=o?s:s&&s.parent,l=e.data[t]=JM(e,a,i,t,n,r);return e.firstChild===null&&(e.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function ky(e,t,i,n){if(i===0)return-1;let r=t.length;for(let s=0;s<i;s++)t.push(n),e.blueprint.push(n),e.data.push(null);return r}function _y(e,t,i,n,r){let s=$n(),o=n&2;try{xr(-1),o&&t.length>Mt&&Ty(e,t,Mt,!1),Oi(o?2:0,r),i(n,r)}finally{xr(s),Oi(o?3:1,r)}}function Rg(e,t,i){if(rg(t)){let n=ge(null);try{let r=t.directiveStart,s=t.directiveEnd;for(let o=r;o<s;o++){let a=e.data[o];if(a.contentQueries){let l=i[o];a.contentQueries(1,l,o)}}}finally{ge(n)}}}function Mg(e,t,i){Ew()&&(sI(e,t,i,di(i,t)),(i.flags&64)===64&&Ny(e,t,i))}function Ig(e,t,i=di){let n=t.localNames;if(n!==null){let r=t.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?i(t,e):e[o];e[r++]=a}}}function Oy(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Fg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Fg(e,t,i,n,r,s,o,a,l,c,u){let d=Mt+n,f=d+r,m=KM(d,f),v=typeof c=="function"?c():c;return m[te]={type:e,blueprint:m,template:i,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}function KM(e,t){let i=[];for(let n=0;n<t;n++)i.push(n<e?null:Di);return i}function QM(e,t,i,n){let s=n.get(eM,ny)||i===Ni.ShadowDom,o=e.selectRootElement(t,s);return YM(o),o}function YM(e){ZM(e)}var ZM=()=>null;function XM(e,t,i,n){let r=Hy(t);r.push(i),e.firstCreatePass&&Gy(e).push(n,r.length-1)}function JM(e,t,i,n,r,s){let o=t?t.injectorIndex:-1,a=0;return Dw()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function x0(e,t,i,n,r){for(let s in t){if(!t.hasOwnProperty(s))continue;let o=t[s];if(o===void 0)continue;n??={};let a,l=Vn.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}e===0?R0(n,i,c,a,l):R0(n,i,c,a)}return n}function R0(e,t,i,n,r){let s;e.hasOwnProperty(i)?(s=e[i]).push(t,n):s=e[i]=[t,n],r!==void 0&&s.push(r)}function eI(e,t,i){let n=t.directiveStart,r=t.directiveEnd,s=e.data,o=t.attrs,a=[],l=null,c=null;for(let u=n;u<r;u++){let d=s[u],f=i?i.get(d):null,m=f?f.inputs:null,v=f?f.outputs:null;l=x0(0,d.inputs,u,l,m),c=x0(1,d.outputs,u,c,v);let S=l!==null&&o!==null&&!eg(t)?mI(l,u,o):null;a.push(S)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function tI(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function ru(e,t,i,n,r,s,o,a){let l=di(t,i),c=t.inputs,u;!a&&c!=null&&(u=c[n])?(Ag(e,i,u,n,r),Wc(t)&&iI(i,t.index)):t.type&3?(n=tI(n),r=o!=null?o(r,t.value||"",n):r,s.setProperty(l,n,r)):t.type&12}function iI(e,t){let i=Un(t,e);i[X]&16||(i[X]|=64)}function Tg(e,t,i,n){if(Ew()){let r=n===null?null:{"":-1},s=aI(e,i),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Ly(e,t,i,o,r,a),r&&lI(i,n,r)}i.mergedAttrs=Oo(i.mergedAttrs,i.attrs)}function Ly(e,t,i,n,r,s){for(let c=0;c<n.length;c++)rp(Cc(i,t),e,n[c].type);uI(i,e.data.length,n.length);for(let c=0;c<n.length;c++){let u=n[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=ky(e,t,n.length,null);for(let c=0;c<n.length;c++){let u=n[c];i.mergedAttrs=Oo(i.mergedAttrs,u.hostAttrs),dI(e,i,t,l,u),cI(l,u,r),u.contentQueries!==null&&(i.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(i.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}eI(e,i,s)}function nI(e,t,i,n,r){let s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;o===null&&(o=e.hostBindingOpCodes=[]);let a=~t.index;rI(o)!=a&&o.push(a),o.push(i,n,s)}}function rI(e){let t=e.length;for(;t>0;){let i=e[--t];if(typeof i=="number"&&i<0)return i}return 0}function sI(e,t,i,n){let r=i.directiveStart,s=i.directiveEnd;Wc(i)&&hI(t,i,e.data[r+i.componentOffset]),e.firstCreatePass||Cc(i,t),Gn(n,t);let o=i.initialInputs;for(let a=r;a<s;a++){let l=e.data[a],c=Mr(t,e,a,i);if(Gn(c,t),o!==null&&fI(t,a-r,c,l,i,o),ln(l)){let u=Un(i.index,t);u[ht]=Mr(t,e,a,i)}}}function Ny(e,t,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=g3();try{xr(s);for(let a=n;a<r;a++){let l=e.data[a],c=t[a];tp(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&oI(l,c)}}finally{xr(-1),tp(o)}}function oI(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function aI(e,t){let i=e.directiveRegistry,n=null,r=null;if(i)for(let s=0;s<i.length;s++){let o=i[s];if(tw(t,o.selectors,!1))if(n||(n=[]),ln(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o);let l=a.length;yp(e,t,l)}else n.unshift(o),yp(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return n===null?null:[n,r]}function yp(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function lI(e,t,i){if(t){let n=e.localNames=[];for(let r=0;r<t.length;r+=2){let s=i[t[r+1]];if(s==null)throw new R(-301,!1);n.push(t[r],s)}}}function cI(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;ln(t)&&(i[""]=e)}}function uI(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function dI(e,t,i,n,r){e.data[n]=r;let s=r.factory||(r.factory=Ss(r.type,!0)),o=new Rr(s,ln(r),y);e.blueprint[n]=o,i[n]=o,nI(e,t,n,ky(e,i,r.hostVars,Di),r)}function hI(e,t,i){let n=di(t,e),r=Oy(i),s=e[Vi].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=su(e,nu(e,r,null,o,n,t,null,s.createRenderer(n,i),null,null,null));e[t.index]=a}function pI(e,t,i,n,r,s){let o=di(e,t);gI(t[Ne],o,s,e.value,i,n,r)}function gI(e,t,i,n,r,s,o){if(s==null)e.removeAttribute(t,r,i);else{let a=o==null?jo(s):o(s,n||"",r);e.setAttribute(t,r,a,i)}}function fI(e,t,i,n,r,s){let o=s[t];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];Py(n,i,l,c,u,d)}}function mI(e,t,i){let n=null,r=0;for(;r<i.length;){let s=i[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(e.hasOwnProperty(s)){n===null&&(n=[]);let o=e[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){n.push(s,o[a+1],o[a+2],i[r+1]);break}}r+=2}return n}function Vy(e,t,i,n){return[e,!0,0,t,null,n,null,i,null,null]}function By(e,t){let i=e.contentQueries;if(i!==null){let n=ge(null);try{for(let r=0;r<i.length;r+=2){let s=i[r],o=i[r+1];if(o!==-1){let a=e.data[o];cg(s),a.contentQueries(2,t[o],o)}}}finally{ge(n)}}}function su(e,t){return e[No]?e[s0][Ei]=t:e[No]=t,e[s0]=t,t}function Sp(e,t,i){cg(0);let n=ge(null);try{t(e,i)}finally{ge(n)}}function Hy(e){return e[pc]??=[]}function Gy(e){return e.cleanup??=[]}function vI(e,t,i){return(e===null||ln(e))&&(i=XR(i[t.index])),i[Ne]}function zy(e,t){let i=e[Rs],n=i?i.get(cn,null):null;n&&n.handleError(t)}function Ag(e,t,i,n,r){for(let s=0;s<i.length;){let o=i[s++],a=i[s++],l=i[s++],c=t[o],u=e.data[o];Py(u,c,n,a,l,r)}}function CI(e,t,i){let n=Cw(t,e);FM(e[Ne],n,i)}function wI(e,t){let i=Un(t,e),n=i[te];yI(n,i);let r=i[Hi];r!==null&&i[xs]===null&&(i[xs]=wg(r,i[Rs])),Pg(n,i,i[ht])}function yI(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}function Pg(e,t,i){ug(t);try{let n=e.viewQuery;n!==null&&Sp(1,n,i);let r=e.template;r!==null&&_y(e,t,r,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),t[an]?.finishViewCreation(e),e.staticContentQueries&&By(e,t),e.staticViewQueries&&Sp(2,e.viewQuery,i);let s=e.components;s!==null&&SI(t,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[X]&=-5,dg()}}function SI(e,t){for(let i=0;i<t.length;i++)wI(e,t[i])}function qo(e,t,i,n){let r=ge(null);try{let s=t.tView,a=e[X]&4096?4096:16,l=nu(e,s,i,a,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),c=e[t.index];l[br]=c;let u=e[an];return u!==null&&(l[an]=u.createEmbeddedView(s)),Pg(s,l,i),l}finally{ge(r)}}function jy(e,t){let i=wt+t;if(i<e.length)return e[i]}function Is(e,t){return!t||t.firstChild===null||Yw(e)}function Ko(e,t,i,n=!0){let r=t[te];if(_M(r,t,e,i),n){let o=wp(i,e),a=t[Ne],l=Dy(a,e[Er]);l!==null&&PM(r,e[Nt],a,t,l,o)}let s=t[xs];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Wy(e,t){let i=Bo(e,t);return i!==void 0&&eu(i[te],i),i}function Ec(e,t,i,n,r=!1){for(;i!==null;){if(i.type===128){i=r?i.projectionNext:i.next;continue}let s=t[i.index];s!==null&&n.push(Bi(s)),hn(s)&&bI(s,n);let o=i.type;if(o&8)Ec(e,t,i.child,n);else if(o&32){let a=Eg(i,t),l;for(;l=a();)n.push(l)}else if(o&16){let a=Ry(t,i);if(Array.isArray(a))n.push(...a);else{let l=Dr(t[Lt]);Ec(l[te],l,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function bI(e,t){for(let i=wt;i<e.length;i++){let n=e[i],r=n[te].firstChild;r!==null&&Ec(n[te],n,r,t)}e[Er]!==e[Hi]&&t.push(e[Er])}var Uy=[];function EI(e){return e[ui]??DI(e)}function DI(e){let t=Uy.pop()??Object.create(RI);return t.lView=e,t}function xI(e){e.lView[ui]!==e&&(e.lView=null,Uy.push(e))}var RI=B(b({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{$c(e.lView)},consumerOnSignalRead(){this.lView[ui]=this}});function MI(e){let t=e[ui]??Object.create(II);return t.lView=e,t}var II=B(b({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Dr(e.lView);for(;t&&!$y(t[te]);)t=Dr(t);t&&yw(t)},consumerOnSignalRead(){this.lView[ui]=this}});function $y(e){return e.type!==2}var FI=100;function qy(e,t=!0,i=0){let n=e[Vi],r=n.rendererFactory,s=!1;s||r.begin?.();try{TI(e,i)}catch(o){throw t&&zy(e,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush())}}function TI(e,t){let i=Rw();try{a0(!0),bp(e,t);let n=0;for(;Vo(e);){if(n===FI)throw new R(103,!1);n++,bp(e,1)}}finally{a0(i)}}function AI(e,t,i,n){let r=t[X];if((r&256)===256)return;let s=!1,o=!1;!s&&t[Vi].inlineEffectRunner?.flush(),ug(t);let a=!0,l=null,c=null;s||($y(e)?(c=EI(t),l=yl(c)):oC()===null?(a=!1,c=MI(t),l=yl(c)):t[ui]&&(oh(t[ui]),t[ui]=null));try{ww(t),d3(e.bindingStartIndex),i!==null&&_y(e,t,i,2,n);let u=(r&3)===3;if(!s)if(u){let m=e.preOrderCheckHooks;m!==null&&sc(t,m,null)}else{let m=e.preOrderHooks;m!==null&&oc(t,m,0,null),kh(t,0)}if(o||PI(t),Ky(t,0),e.contentQueries!==null&&By(e,t),!s)if(u){let m=e.contentCheckHooks;m!==null&&sc(t,m)}else{let m=e.contentHooks;m!==null&&oc(t,m,1),kh(t,1)}$M(e,t);let d=e.components;d!==null&&Yy(t,d,0);let f=e.viewQuery;if(f!==null&&Sp(2,f,n),!s)if(u){let m=e.viewCheckHooks;m!==null&&sc(t,m)}else{let m=e.viewHooks;m!==null&&oc(t,m,2),kh(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ph]){for(let m of t[Ph])m();t[Ph]=null}s||(t[X]&=-73)}catch(u){throw s||$c(t),u}finally{c!==null&&(rh(c,l),a&&xI(c)),dg()}}function Ky(e,t){for(let i=Xw(e);i!==null;i=Jw(i))for(let n=wt;n<i.length;n++){let r=i[n];Qy(r,t)}}function PI(e){for(let t=Xw(e);t!==null;t=Jw(t)){if(!(t[X]&fc.HasTransplantedViews))continue;let i=t[Ms];for(let n=0;n<i.length;n++){let r=i[n];yw(r)}}}function kI(e,t,i){let n=Un(t,e);Qy(n,i)}function Qy(e,t){og(e)&&bp(e,t)}function bp(e,t){let n=e[te],r=e[X],s=e[ui],o=!!(t===0&&r&16);if(o||=!!(r&64&&t===0),o||=!!(r&1024),o||=!!(s?.dirty&&sh(s)),o||=!1,s&&(s.dirty=!1),e[X]&=-9217,o)AI(n,e,n.template,e[ht]);else if(r&8192){Ky(e,1);let a=n.components;a!==null&&Yy(e,a,1)}}function Yy(e,t,i){for(let n=0;n<t.length;n++)kI(e,t[n],i)}function kg(e,t){let i=Rw()?64:1088;for(e[Vi].changeDetectionScheduler?.notify(t);e;){e[X]|=i;let n=Dr(e);if(Xh(e)&&!n)return e;e=n}return null}var Ir=class{get rootNodes(){let t=this._lView,i=t[te];return Ec(i,t,i.firstChild,[])}constructor(t,i,n=!0){this._lView=t,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ht]}set context(t){this._lView[ht]=t}get destroyed(){return(this._lView[X]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[yt];if(hn(t)){let i=t[gc],n=i?i.indexOf(this):-1;n>-1&&(Bo(t,n),dc(i,n))}this._attachedToViewContainer=!1}eu(this._lView[te],this._lView)}onDestroy(t){Sw(this._lView,t)}markForCheck(){kg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){ep(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,qy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Xh(this._lView),i=this._lView[br];i!==null&&!t&&Dg(i,this._lView),yy(this._lView[te],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=t;let i=Xh(this._lView),n=this._lView[br];n!==null&&!i&&Sy(n,this._lView),ep(this._lView)}},Se=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=LI;let e=t;return e})(),_I=Se,OI=class extends _I{constructor(t,i,n){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,n){let r=qo(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:n});return new Ir(r)}};function LI(){return ou(ft(),ie())}function ou(e,t){return e.type&4?new OI(t,e,Ls(e,t)):null}var s$=new RegExp(`^(\\d+)*(${X3}|${Z3})*(.*)`);var NI=()=>null;function Fs(e,t){return NI(e,t)}var Ts=class{},Zy=new V("",{providedIn:"root",factory:()=>!1});var Xy=new V(""),Jy=new V(""),Ep=class{},Dc=class{};function VI(e){let t=Error(`No component factory found for ${xt(e)}.`);return t[BI]=e,t}var BI="ngComponent";var Dp=class{resolveComponentFactory(t){throw VI(t)}},Yg=class Yg{};Yg.NULL=new Dp;var zn=Yg,jn=class{},zi=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>HI();let e=t;return e})();function HI(){let e=ie(),t=ft(),i=Un(t.index,e);return(Nn(i)?i:e)[Ne]}var GI=(()=>{let t=class t{};t.\u0275prov=P({token:t,providedIn:"root",factory:()=>null});let e=t;return e})();var M0=new Set;function fn(e){M0.has(e)||(M0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Ot=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ot||{}),zI={destroy(){}};function _g(e,t){!t&&WR(_g);let i=t?.injector??x(pt);return RM(i)?(fn("NgAfterNextRender"),WI(e,i,!0,t?.phase??Ot.MixedReadWrite)):zI}function jI(e,t){if(e instanceof Function)switch(t){case Ot.EarlyRead:return{earlyRead:e};case Ot.Write:return{write:e};case Ot.MixedReadWrite:return{mixedReadWrite:e};case Ot.Read:return{read:e}}return e}function WI(e,t,i,n){let r=jI(e,n),s=t.get(Og),o=s.handler??=new Rp,a=[],l=[],c=()=>{for(let m of l)o.unregister(m);u()},u=t.get(pg).onDestroy(c),d=0,f=(m,v)=>{if(!v)return;let S=i?(...E)=>(d--,d<1&&c(),v(...E)):v,w=Kt(t,()=>new xp(m,a,S));o.register(w),l.push(w),d++};return f(Ot.EarlyRead,r.earlyRead),f(Ot.Write,r.write),f(Ot.MixedReadWrite,r.mixedReadWrite),f(Ot.Read,r.read),{destroy:c}}var xp=class{constructor(t,i,n){this.phase=t,this.pipelinedArgs=i,this.callbackFn=n,this.zone=x(fe),this.errorHandler=x(cn,{optional:!0}),x(Ts,{optional:!0})?.notify(6)}invoke(){try{let t=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,t)}catch(t){this.errorHandler?.handleError(t)}}},Rp=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ot.EarlyRead]:new Set,[Ot.Write]:new Set,[Ot.MixedReadWrite]:new Set,[Ot.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let i of t)i.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},Og=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=P({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function xc(e,t,i){let n=i?e.styles:null,r=i?e.classes:null,s=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")s=a;else if(s==1)r=Wh(r,a);else if(s==2){let l=a,c=t[++o];n=Wh(n,l+": "+c+";")}}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=r:e.classesWithoutHost=r}var Rc=class extends zn{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let i=Bn(t);return new As(i,this.ngModule)}};function I0(e,t){let i=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Vn.None;t?i.push({propName:o,templateName:n,isSignal:(a&Vn.SignalBased)!==0}):i.push({propName:o,templateName:n})}return i}function UI(e){let t=e.toLowerCase();return t==="svg"?YR:t==="math"?ZR:null}var As=class extends Dc{get inputs(){let t=this.componentDef,i=t.inputTransforms,n=I0(t.inputs,!0);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return I0(this.componentDef.outputs,!1)}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=IR(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}create(t,i,n,r){let s=ge(null);try{r=r||this.ngModule;let o=r instanceof Rt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new ip(t,o):t,l=a.get(jn,null);if(l===null)throw new R(407,!1);let c=a.get(GI,null),u=a.get(Og,null),d=a.get(Ts,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},m=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=n?QM(m,n,this.componentDef.encapsulation,a):wy(m,v,UI(v)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let E=null;S!==null&&(E=wg(S,a,!0));let I=Fg(0,null,null,1,0,null,null,null,null,null,null),A=nu(null,I,null,w,null,null,f,m,a,null,E);ug(A);let N,Me;try{let we=this.componentDef,ve,Ie=null;we.findHostDirectiveDefs?(ve=[],Ie=new Map,we.findHostDirectiveDefs(we,ve,Ie),ve.push(we)):ve=[we];let wi=$I(A,S),Ti=qI(wi,S,we,ve,A,f,m);Me=sg(I,Mt),S&&YI(m,we,S,n),i!==void 0&&ZI(Me,this.ngContentSelectors,i),N=QI(Ti,we,ve,Ie,A,[XI]),Pg(I,A,null)}finally{dg()}return new Mp(this.componentType,N,Ls(Me,A),A,Me)}finally{ge(s)}}},Mp=class extends Ep{constructor(t,i,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Ir(r,void 0,!1),this.componentType=t}setInput(t,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;let s=this._rootLView;Ag(s[te],s,r,t,i),this.previousInputValues.set(t,i);let o=Un(this._tNode.index,s);kg(o,1)}}get injector(){return new Sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function $I(e,t){let i=e[te],n=Mt;return e[n]=t,Ns(i,n,2,"#host",null)}function qI(e,t,i,n,r,s,o){let a=r[te];KI(n,e,t,o);let l=null;t!==null&&(l=wg(t,r[Rs]));let c=s.rendererFactory.createRenderer(t,i),u=16;i.signals?u=4096:i.onPush&&(u=64);let d=nu(r,Oy(i),null,u,r[e.index],e,s,c,null,null,l);return a.firstCreatePass&&yp(a,e,n.length-1),su(r,d),r[e.index]=d}function KI(e,t,i,n){for(let r of e)t.mergedAttrs=Oo(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(xc(t,t.mergedAttrs,!0),i!==null&&Fy(n,i,t))}function QI(e,t,i,n,r,s){let o=ft(),a=r[te],l=di(o,r);Ly(a,r,o,i,null,n);for(let u=0;u<i.length;u++){let d=o.directiveStart+u,f=Mr(r,a,d,o);Gn(f,r)}Ny(a,r,o),l&&Gn(l,r);let c=Mr(r,a,o.directiveStart+o.componentOffset,o);if(e[ht]=r[ht]=c,s!==null)for(let u of s)u(c,t);return Rg(a,o,r),c}function YI(e,t,i,n){if(n)Kh(e,i,["ng-version","18.2.1"]);else{let{attrs:r,classes:s}=FR(t.selectors[0]);r&&Kh(e,i,r),s&&s.length>0&&Iy(e,i,s.join(" "))}}function ZI(e,t,i){let n=e.projection=[];for(let r=0;r<t.length;r++){let s=i[r];n.push(s!=null?Array.from(s):null)}}function XI(){let e=ft();Yc(ie()[te],e)}var ji=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=JI;let e=t;return e})();function JI(){let e=ft();return tS(e,ie())}var eF=ji,eS=class extends eF{constructor(t,i,n){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=n}get element(){return Ls(this._hostTNode,this._hostLView)}get injector(){return new Sr(this._hostTNode,this._hostLView)}get parentInjector(){let t=hg(this._hostTNode,this._hostLView);if(Nw(t)){let i=vc(t,this._hostLView),n=mc(t),r=i[te].data[n+8];return new Sr(r,i)}else return new Sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let i=F0(this._lContainer);return i!==null&&i[t]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(t,i,n){let r,s;typeof n=="number"?r=n:n!=null&&(r=n.index,s=n.injector);let o=Fs(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(i||{},s,o);return this.insertImpl(a,r,Is(this._hostTNode,o)),a}createComponent(t,i,n,r,s){let o=t&&!$R(t),a;if(o)a=i;else{let v=i||{};a=v.index,n=v.injector,r=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let l=o?t:new As(Bn(t)),c=n||this.parentInjector;if(!s&&l.ngModule==null){let S=(o?c:this.parentInjector).get(Rt,null);S&&(s=S)}let u=Bn(l.componentType??{}),d=Fs(this._lContainer,u?.id??null),f=d?.firstChild??null,m=l.create(c,r,f,s);return this.insertImpl(m.hostView,a,Is(this._hostTNode,d)),m}insert(t,i){return this.insertImpl(t,i,!0)}insertImpl(t,i,n){let r=t._lView;if(t3(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[yt],c=new eS(l,l[Nt],l[yt]);c.detach(c.indexOf(t))}}let s=this._adjustIndex(i),o=this._lContainer;return Ko(o,r,s,n),t.attachToViewContainerRef(),Q0(Vh(o),s,t),t}move(t,i){return this.insert(t,i)}indexOf(t){let i=F0(this._lContainer);return i!==null?i.indexOf(t):-1}remove(t){let i=this._adjustIndex(t,-1),n=Bo(this._lContainer,i);n&&(dc(Vh(this._lContainer),i),eu(n[te],n))}detach(t){let i=this._adjustIndex(t,-1),n=Bo(this._lContainer,i);return n&&dc(Vh(this._lContainer),i)!=null?new Ir(n):null}_adjustIndex(t,i=0){return t??this.length+i}};function F0(e){return e[gc]}function Vh(e){return e[gc]||(e[gc]=[])}function tS(e,t){let i,n=t[e.index];return hn(n)?i=n:(i=Vy(n,t,null,e),t[e.index]=i,su(t,i)),iF(i,t,e,n),new eS(i,e,t)}function tF(e,t){let i=e[Ne],n=i.createComment(""),r=di(t,e),s=Dy(i,r);return bc(i,s,n,VM(i,r),!1),n}var iF=sF,nF=()=>!1;function rF(e,t,i){return nF(e,t,i)}function sF(e,t,i,n){if(e[Er])return;let r;i.type&8?r=Bi(n):r=tF(t,i),e[Er]=r}var Ip=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Fp=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let i=t.queries;if(i!==null){let n=t.contentQueries!==null?t.contentQueries[0]:i.length,r=[];for(let s=0;s<n;s++){let o=i.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)Lg(t,i).matches!==null&&this.queries[i].setDirty()}},Mc=class{constructor(t,i,n=null){this.flags=i,this.read=n,typeof t=="string"?this.predicate=pF(t):this.predicate=t}},Tp=class e{constructor(t=[]){this.queries=t}elementStart(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,s=this.getByIndex(n).embeddedTView(t,r);s&&(s.indexInDeclarationView=n,i!==null?i.push(s):i=[s])}return i!==null?new e(i):null}template(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Ap=class e{constructor(t,i=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let s=n[r];this.matchTNodeWithReadOption(t,i,oF(i,s)),this.matchTNodeWithReadOption(t,i,ac(i,t,s,!1,!1))}else n===Se?i.type&4&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,ac(i,t,n,!1,!1))}matchTNodeWithReadOption(t,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===We||r===ji||r===Se&&i.type&4)this.addMatch(i.index,-2);else{let s=ac(i,t,r,!1,!1);s!==null&&this.addMatch(i.index,s)}else this.addMatch(i.index,n)}}addMatch(t,i){this.matches===null?this.matches=[t,i]:this.matches.push(t,i)}};function oF(e,t){let i=e.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===t)return i[n+1]}return null}function aF(e,t){return e.type&11?Ls(e,t):e.type&4?ou(e,t):null}function lF(e,t,i,n){return i===-1?aF(t,e):i===-2?cF(e,t,n):Mr(e,e[te],i,t)}function cF(e,t,i){if(i===We)return Ls(t,e);if(i===Se)return ou(t,e);if(i===ji)return tS(t,e)}function iS(e,t,i,n){let r=t[an].queries[n];if(r.matches===null){let s=e.data,o=i.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(lF(t,u,o[l+1],i.metadata.read))}}r.matches=a}return r.matches}function Pp(e,t,i,n){let r=e.queries.getByIndex(i),s=r.matches;if(s!==null){let o=iS(e,t,r,i);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)n.push(o[a/2]);else{let c=s[a+1],u=t[-l];for(let d=wt;d<u.length;d++){let f=u[d];f[br]===f[yt]&&Pp(f[te],f,c,n)}if(u[Ms]!==null){let d=u[Ms];for(let f=0;f<d.length;f++){let m=d[f];Pp(m[te],m,c,n)}}}}}return n}function uF(e,t){return e[an].queries[t].queryList}function nS(e,t,i){let n=new cp((i&4)===4);return XM(e,t,n,n.destroy),(t[an]??=new Fp).queries.push(new Ip(n))-1}function dF(e,t,i){let n=je();return n.firstCreatePass&&(rS(n,new Mc(e,t,i),-1),(t&2)===2&&(n.staticViewQueries=!0)),nS(n,ie(),t)}function hF(e,t,i,n){let r=je();if(r.firstCreatePass){let s=ft();rS(r,new Mc(t,i,n),s.index),gF(r,e),(i&2)===2&&(r.staticContentQueries=!0)}return nS(r,ie(),i)}function pF(e){return e.split(",").map(t=>t.trim())}function rS(e,t,i){e.queries===null&&(e.queries=new Tp),e.queries.track(new Ap(t,i))}function gF(e,t){let i=e.contentQueries||(e.contentQueries=[]),n=i.length?i[i.length-1]:-1;t!==n&&i.push(e.queries.length-1,t)}function Lg(e,t){return e.queries.getByIndex(t)}function fF(e,t){let i=e[te],n=Lg(i,t);return n.crossesNgTemplate?Pp(i,e,t,[]):iS(i,e,n,t)}function mF(e){return typeof e=="function"&&e[nn]!==void 0}function xi(e,t){fn("NgSignals");let i=vC(e),n=i[nn];return t?.equal&&(n.equal=t.equal),i.set=r=>ah(n,r),i.update=r=>CC(n,r),i.asReadonly=vF.bind(i),i}function vF(){let e=this[nn];if(e.readonlyFn===void 0){let t=()=>this();t[nn]=e,e.readonlyFn=t}return e.readonlyFn}function sS(e){return mF(e)&&typeof e.set=="function"}function CF(e){let t=[],i=new Map;function n(r){let s=i.get(r);if(!s){let o=e(r);i.set(r,s=o.then(bF))}return s}return Ic.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(n(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,f)=>{a.push(""),o.push(n(d).then(m=>{a[c+f]=m,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(n(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>EF(s));t.push(l)}),yF(),Promise.all(t).then(()=>{})}var Ic=new Map,wF=new Set;function yF(){let e=Ic;return Ic=new Map,e}function SF(){return Ic.size===0}function bF(e){return typeof e=="string"?e:e.text()}function EF(e){wF.delete(e)}function DF(e){return Object.getPrototypeOf(e.prototype).constructor}function Vt(e){let t=DF(e.type),i=!0,n=[e];for(;t;){let r;if(ln(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new R(903,!1);r=t.\u0275dir}if(r){if(i){n.push(r);let o=e;o.inputs=ec(e.inputs),o.inputTransforms=ec(e.inputTransforms),o.declaredInputs=ec(e.declaredInputs),o.outputs=ec(e.outputs);let a=r.hostBindings;a&&FF(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&MF(e,l),c&&IF(e,c),xF(e,r),qx(e.outputs,r.outputs),ln(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(e),a===Vt&&(i=!1)}}t=Object.getPrototypeOf(t)}RF(n)}function xF(e,t){for(let i in t.inputs){if(!t.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;let n=t.inputs[i];if(n!==void 0&&(e.inputs[i]=n,e.declaredInputs[i]=t.declaredInputs[i],t.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function RF(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){let r=e[n];r.hostVars=t+=r.hostVars,r.hostAttrs=Oo(r.hostAttrs,i=Oo(i,r.hostAttrs))}}function ec(e){return e===bs?{}:e===_t?[]:e}function MF(e,t){let i=e.viewQuery;i?e.viewQuery=(n,r)=>{t(n,r),i(n,r)}:e.viewQuery=t}function IF(e,t){let i=e.contentQueries;i?e.contentQueries=(n,r,s)=>{t(n,r,s),i(n,r,s)}:e.contentQueries=t}function FF(e,t){let i=e.hostBindings;i?e.hostBindings=(n,r)=>{t(n,r),i(n,r)}:e.hostBindings=t}function Pr(e){let t=e.inputConfig,i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];Array.isArray(r)&&r[3]&&(i[n]=r[3])}e.inputTransforms=i}var Wn=class{},Ho=class{};var Fc=class extends Wn{constructor(t,i,n,r=!0){super(),this.ngModuleType=t,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rc(this);let s=sw(t);this._bootstrapComponents=Cy(s.bootstrap),this._r3Injector=$w(t,i,[{provide:Wn,useValue:this},{provide:zn,useValue:this.componentFactoryResolver},...n],xt(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Tc=class extends Ho{constructor(t){super(),this.moduleType=t}create(t){return new Fc(this.moduleType,t,[])}};function TF(e,t,i){return new Fc(e,t,i,!1)}var kp=class extends Wn{constructor(t){super(),this.componentFactoryResolver=new Rc(this),this.instance=null;let i=new Lo([...t.providers,{provide:Wn,useValue:this},{provide:zn,useValue:this.componentFactoryResolver}],t.parent||ig(),t.debugName,new Set(["environment"]));this.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function au(e,t,i=null){return new kp({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}function oS(e){return PF(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function AF(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{let i=e[Symbol.iterator](),n;for(;!(n=i.next()).done;)t(n.value)}}function PF(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function lu(e,t,i){return e[t]=i}function $t(e,t,i){let n=e[t];return Object.is(n,i)?!1:(e[t]=i,!0)}function Ac(e,t,i,n){let r=$t(e,t,i);return $t(e,t+1,n)||r}function kF(e,t,i,n,r){let s=Ac(e,t,i,n);return $t(e,t+2,r)||s}function _F(e,t,i,n,r,s){let o=Ac(e,t,i,n);return Ac(e,t+2,r,s)||o}function OF(e){return(e.flags&32)===32}function LF(e,t,i,n,r,s,o,a,l){let c=t.consts,u=Ns(t,e,4,o||null,a||null);Tg(t,i,u,Hn(c,l)),Yc(t,u);let d=u.tView=Fg(2,u,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function Pc(e,t,i,n,r,s,o,a,l,c){let u=i+Mt,d=t.firstCreatePass?LF(u,t,e,n,r,s,o,a,l):t.data[u];Tr(d,!1);let f=NF(t,e,d,i);Kc()&&tu(t,e,f,d),Gn(f,e);let m=Vy(f,e,f,d);return e[u]=m,su(e,m),rF(m,d,e),Uc(d)&&Mg(t,e,d),l!=null&&Ig(e,d,c),d}function J(e,t,i,n,r,s,o,a){let l=ie(),c=je(),u=Hn(c.consts,s);return Pc(l,c,e,t,i,n,r,u,o,a),J}var NF=VF;function VF(e,t,i,n){return Qc(!0),t[Ne].createComment("")}function Bt(e,t,i,n){let r=ie(),s=Ar();if($t(r,s,t)){let o=je(),a=Uo();pI(a,r,e,t,i,n)}return Bt}function aS(e,t,i,n){return $t(e,Ar(),i)?t+jo(i)+n:Di}function tc(e,t){return e<<17|t<<2}function Fr(e){return e>>17&32767}function BF(e){return(e&2)==2}function HF(e,t){return e&131071|t<<17}function _p(e){return e|2}function Ps(e){return(e&131068)>>2}function Bh(e,t){return e&-131069|t<<2}function GF(e){return(e&1)===1}function Op(e){return e|1}function zF(e,t,i,n,r,s){let o=s?t.classBindings:t.styleBindings,a=Fr(o),l=Ps(o);e[n]=i;let c=!1,u;if(Array.isArray(i)){let d=i;u=d[1],(u===null||Wo(d,u)>0)&&(c=!0)}else u=i;if(r)if(l!==0){let f=Fr(e[a+1]);e[n+1]=tc(f,a),f!==0&&(e[f+1]=Bh(e[f+1],n)),e[a+1]=HF(e[a+1],n)}else e[n+1]=tc(a,0),a!==0&&(e[a+1]=Bh(e[a+1],n)),a=n;else e[n+1]=tc(l,0),a===0?a=n:e[l+1]=Bh(e[l+1],n),l=n;c&&(e[n+1]=_p(e[n+1])),T0(e,u,n,!0),T0(e,u,n,!1),jF(t,u,e,n,s),o=tc(a,l),s?t.classBindings=o:t.styleBindings=o}function jF(e,t,i,n,r){let s=r?e.residualClasses:e.residualStyles;s!=null&&typeof t=="string"&&Wo(s,t)>=0&&(i[n+1]=Op(i[n+1]))}function T0(e,t,i,n){let r=e[i+1],s=t===null,o=n?Fr(r):Ps(r),a=!1;for(;o!==0&&(a===!1||s);){let l=e[o],c=e[o+1];WF(l,t)&&(a=!0,e[o+1]=n?Op(c):_p(c)),o=n?Fr(c):Ps(c)}a&&(e[i+1]=n?_p(r):Op(r))}function WF(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Wo(e,t)>=0:!1}var bi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UF(e){return e.substring(bi.key,bi.keyEnd)}function $F(e){return qF(e),lS(e,cS(e,0,bi.textEnd))}function lS(e,t){let i=bi.textEnd;return i===t?-1:(t=bi.keyEnd=KF(e,bi.key=t,i),cS(e,t,i))}function qF(e){bi.key=0,bi.keyEnd=0,bi.value=0,bi.valueEnd=0,bi.textEnd=e.length}function cS(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function KF(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}function M(e,t,i){let n=ie(),r=Ar();if($t(n,r,t)){let s=je(),o=Uo();ru(s,o,n,e,t,n[Ne],i,!1)}return M}function Lp(e,t,i,n,r){let s=t.inputs,o=r?"class":"style";Ag(e,i,s[o],o,n)}function kr(e,t,i){return uS(e,t,i,!1),kr}function Yt(e,t){return uS(e,t,null,!0),Yt}function mn(e){YF(iT,QF,e,!0)}function QF(e,t){for(let i=$F(t);i>=0;i=lS(t,i))Jp(e,UF(t),!0)}function uS(e,t,i,n){let r=ie(),s=je(),o=Mw(2);if(s.firstUpdatePass&&hS(s,e,o,n),t!==Di&&$t(r,o,t)){let a=s.data[$n()];pS(s,a,r,r[Ne],e,r[o+1]=rT(t,i),n,o)}}function YF(e,t,i,n){let r=je(),s=Mw(2);r.firstUpdatePass&&hS(r,null,s,n);let o=ie();if(i!==Di&&$t(o,s,i)){let a=r.data[$n()];if(gS(a,n)&&!dS(r,s)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(i=Wh(l,i||"")),Lp(r,a,o,i,n)}else nT(r,a,o,o[Ne],o[s+1],o[s+1]=tT(e,t,i),n,s)}}function dS(e,t){return t>=e.expandoStartIndex}function hS(e,t,i,n){let r=e.data;if(r[i+1]===null){let s=r[$n()],o=dS(e,i);gS(s,n)&&t===null&&!o&&(t=!1),t=ZF(r,s,t,n),zF(r,s,t,i,o,n)}}function ZF(e,t,i,n){let r=Iw(e),s=n?t.residualClasses:t.residualStyles;if(r===null)(n?t.classBindings:t.styleBindings)===0&&(i=Hh(null,e,t,i,n),i=Go(i,t.attrs,n),s=null);else{let o=t.directiveStylingLast;if(o===-1||e[o]!==r)if(i=Hh(r,e,t,i,n),s===null){let l=XF(e,t,n);l!==void 0&&Array.isArray(l)&&(l=Hh(null,e,t,l[1],n),l=Go(l,t.attrs,n),JF(e,t,n,l))}else s=eT(e,t,n)}return s!==void 0&&(n?t.residualClasses=s:t.residualStyles=s),i}function XF(e,t,i){let n=i?t.classBindings:t.styleBindings;if(Ps(n)!==0)return e[Fr(n)]}function JF(e,t,i,n){let r=i?t.classBindings:t.styleBindings;e[Fr(r)]=n}function eT(e,t,i){let n,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++){let o=e[s].hostAttrs;n=Go(n,o,i)}return Go(n,t.attrs,i)}function Hh(e,t,i,n,r){let s=null,o=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<o&&(s=t[a],n=Go(n,s.hostAttrs,r),s!==e);)a++;return e!==null&&(i.directiveStylingLast=a),n}function Go(e,t,i){let n=i?1:2,r=-1;if(t!==null)for(let s=0;s<t.length;s++){let o=t[s];typeof o=="number"?r=o:r===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Jp(e,o,i?!0:t[++s]))}return e===void 0?null:e}function tT(e,t,i){if(i==null||i==="")return _t;let n=[],r=hi(i);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(n,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&e(n,s,r[s]);else typeof r=="string"&&t(n,r);return n}function iT(e,t,i){let n=String(t);n!==""&&!n.includes(" ")&&Jp(e,n,i)}function nT(e,t,i,n,r,s,o,a){r===Di&&(r=_t);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let f=l<r.length?r[l+1]:void 0,m=c<s.length?s[c+1]:void 0,v=null,S;u===d?(l+=2,c+=2,f!==m&&(v=d,S=m)):d===null||u!==null&&u<d?(l+=2,v=u):(c+=2,v=d,S=m),v!==null&&pS(e,t,i,n,v,S,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}function pS(e,t,i,n,r,s,o,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=GF(c)?A0(l,t,i,r,Ps(c),o):void 0;if(!kc(u)){kc(s)||BF(c)&&(s=A0(l,null,i,r,a,o));let d=Cw($n(),i);WM(n,o,d,r,s)}}function A0(e,t,i,n,r,s){let o=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=i[r+1];f===Di&&(f=d?_t:void 0);let m=d?Th(f,n):u===n?f:void 0;if(c&&!kc(m)&&(m=Th(l,n)),kc(m)&&(a=m,o))return a;let v=e[r+1];r=o?Fr(v):Ps(v)}if(t!==null){let l=s?t.residualClasses:t.residualStyles;l!=null&&(a=Th(l,n))}return a}function kc(e){return e!==void 0}function rT(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=xt(hi(e)))),e}function gS(e,t){return(e.flags&(t?8:16))!==0}function Ng(){return ie()[Lt][ht]}var Np=class{destroy(t){}updateValue(t,i){}swap(t,i){let n=Math.min(t,i),r=Math.max(t,i),s=this.detach(r);if(r-n>1){let o=this.detach(n);this.attach(n,s),this.attach(r,o)}else this.attach(n,s)}move(t,i){this.attach(i,this.detach(t))}};function Gh(e,t,i,n,r){return e===i&&Object.is(t,n)?1:Object.is(r(e,t),r(i,n))?-1:0}function sT(e,t,i){let n,r,s=0,o=e.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;s<=o&&s<=l;){let c=e.at(s),u=t[s],d=Gh(s,c,s,u,i);if(d!==0){d<0&&e.updateValue(s,u),s++;continue}let f=e.at(o),m=t[l],v=Gh(o,f,l,m,i);if(v!==0){v<0&&e.updateValue(o,m),o--,l--;continue}let S=i(s,c),w=i(o,f),E=i(s,u);if(Object.is(E,w)){let I=i(l,m);Object.is(I,S)?(e.swap(s,o),e.updateValue(o,m),l--,o--):e.move(o,s),e.updateValue(s,u),s++;continue}if(n??=new _c,r??=k0(e,s,o,i),Vp(e,n,s,E))e.updateValue(s,u),s++,o++;else if(r.has(E))n.set(S,e.detach(s)),o--;else{let I=e.create(s,t[s]);e.attach(s,I),s++,o++}}for(;s<=l;)P0(e,n,i,s,t[s]),s++}else if(t!=null){let l=t[Symbol.iterator](),c=l.next();for(;!c.done&&s<=o;){let u=e.at(s),d=c.value,f=Gh(s,u,s,d,i);if(f!==0)f<0&&e.updateValue(s,d),s++,c=l.next();else{n??=new _c,r??=k0(e,s,o,i);let m=i(s,d);if(Vp(e,n,s,m))e.updateValue(s,d),s++,o++,c=l.next();else if(!r.has(m))e.attach(s,e.create(s,d)),s++,o++,c=l.next();else{let v=i(s,u);n.set(v,e.detach(s)),o--}}}for(;!c.done;)P0(e,n,i,e.length,c.value),c=l.next()}for(;s<=o;)e.destroy(e.detach(o--));n?.forEach(l=>{e.destroy(l)})}function Vp(e,t,i,n){return t!==void 0&&t.has(n)?(e.attach(i,t.get(n)),t.delete(n),!0):!1}function P0(e,t,i,n,r){if(Vp(e,t,n,i(n,r)))e.updateValue(n,r);else{let s=e.create(n,r);e.attach(n,s)}}function k0(e,t,i,n){let r=new Set;for(let s=t;s<=i;s++)r.add(n(s,e.at(s)));return r}var _c=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let i=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(i)?(this.kvMap.set(t,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,i){if(this.kvMap.has(t)){let n=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,i)}else this.kvMap.set(t,i)}forEach(t){for(let[i,n]of this.kvMap)if(t(n,i),this._vMap!==void 0){let r=this._vMap;for(;r.has(n);)n=r.get(n),t(n,i)}}};function Zt(e,t){fn("NgControlFlow");let i=ie(),n=Ar(),r=i[n]!==Di?i[n]:-1,s=r!==-1?Oc(i,Mt+r):void 0,o=0;if($t(i,n,e)){let a=ge(null);try{if(s!==void 0&&Wy(s,o),e!==-1){let l=Mt+e,c=Oc(i,l),u=zp(i[te],l),d=Fs(c,u.tView.ssrId),f=qo(i,u,t,{dehydratedView:d});Ko(c,f,o,Is(u,d))}}finally{ge(a)}}else if(s!==void 0){let a=jy(s,o);a!==void 0&&(a[ht]=t)}}var Bp=class{constructor(t,i,n){this.lContainer=t,this.$implicit=i,this.$index=n}get $count(){return this.lContainer.length-wt}};var Hp=class{constructor(t,i,n){this.hasEmptyBlock=t,this.trackByFn=i,this.liveCollection=n}};function Vg(e,t,i,n,r,s,o,a,l,c,u,d,f){fn("NgControlFlow");let m=ie(),v=je(),S=l!==void 0,w=ie(),E=a?o.bind(w[Lt][ht]):o,I=new Hp(S,E);w[Mt+e]=I,Pc(m,v,e+1,t,i,n,r,Hn(v.consts,s)),S&&Pc(m,v,e+2,l,c,u,d,Hn(v.consts,f))}var Gp=class extends Np{constructor(t,i,n){super(),this.lContainer=t,this.hostLView=i,this.templateTNode=n,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-wt}at(t){return this.getLView(t)[ht].$implicit}attach(t,i){let n=i[xs];this.needsIndexUpdate||=t!==this.length,Ko(this.lContainer,i,t,Is(this.templateTNode,n))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,oT(this.lContainer,t)}create(t,i){let n=Fs(this.lContainer,this.templateTNode.tView.ssrId),r=qo(this.hostLView,this.templateTNode,new Bp(this.lContainer,i,t),{dehydratedView:n});return this.operationsCounter?.recordCreate(),r}destroy(t){eu(t[te],t),this.operationsCounter?.recordDestroy()}updateValue(t,i){this.getLView(t)[ht].$implicit=i}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ht].$index=t}getLView(t){return aT(this.lContainer,t)}};function Bg(e){let t=ge(null),i=$n();try{let n=ie(),r=n[te],s=n[i],o=i+1,a=Oc(n,o);if(s.liveCollection===void 0){let c=zp(r,o);s.liveCollection=new Gp(a,n,c)}else s.liveCollection.reset();let l=s.liveCollection;if(sT(l,e,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let c=Ar(),u=l.length===0;if($t(n,c,u)){let d=i+2,f=Oc(n,d);if(u){let m=zp(r,d),v=Fs(f,m.tView.ssrId),S=qo(n,m,void 0,{dehydratedView:v});Ko(f,S,0,Is(m,v))}else Wy(f,0)}}}finally{ge(t)}}function Oc(e,t){return e[t]}function oT(e,t){return Bo(e,t)}function aT(e,t){return jy(e,t)}function zp(e,t){return sg(e,t)}function lT(e,t,i,n,r,s){let o=t.consts,a=Hn(o,r),l=Ns(t,e,2,n,a);return Tg(t,i,l,Hn(o,s)),l.attrs!==null&&xc(l,l.attrs,!1),l.mergedAttrs!==null&&xc(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function p(e,t,i,n){let r=ie(),s=je(),o=Mt+e,a=r[Ne],l=s.firstCreatePass?lT(o,s,r,t,i,n):s.data[o],c=cT(s,r,l,a,t,e);r[o]=c;let u=Uc(l);return Tr(l,!0),Fy(a,c,l),!OF(l)&&Kc()&&tu(s,r,c,l),r3()===0&&Gn(c,r),s3(),u&&(Mg(s,r,l),Rg(s,l,r)),n!==null&&Ig(r,l),p}function h(){let e=ft();ag()?lg():(e=e.parent,Tr(e,!1));let t=e;a3(t)&&l3(),o3();let i=je();return i.firstCreatePass&&(Yc(i,e),rg(e)&&i.queries.elementEnd(e)),t.classesWithoutHost!=null&&S3(t)&&Lp(i,t,ie(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&b3(t)&&Lp(i,t,ie(),t.stylesWithoutHost,!1),h}function D(e,t,i,n){return p(e,t,i,n),h(),D}var cT=(e,t,i,n,r,s)=>(Qc(!0),wy(n,r,v3()));function uT(e,t,i,n,r){let s=t.consts,o=Hn(s,n),a=Ns(t,e,8,"ng-container",o);o!==null&&xc(a,o,!0);let l=Hn(s,r);return Tg(t,i,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function _r(e,t,i){let n=ie(),r=je(),s=e+Mt,o=r.firstCreatePass?uT(s,r,n,t,i):r.data[s];Tr(o,!0);let a=dT(r,n,o,e);return n[s]=a,Kc()&&tu(r,n,a,o),Gn(a,n),Uc(o)&&(Mg(r,n,o),Rg(r,o,n)),i!=null&&Ig(n,o),_r}function Or(){let e=ft(),t=je();return ag()?lg():(e=e.parent,Tr(e,!1)),t.firstCreatePass&&(Yc(t,e),rg(e)&&t.queries.elementEnd(e)),Or}function cu(e,t,i){return _r(e,t,i),Or(),cu}var dT=(e,t,i,n)=>(Qc(!0),TM(t[Ne],""));function De(){return ie()}function Hg(e,t,i){let n=ie(),r=Ar();if($t(n,r,t)){let s=je(),o=Uo(),a=Iw(s.data),l=vI(a,o,n);ru(s,o,n,e,t,l,i,!0)}return Hg}var Lc="en-US";var hT=Lc;function pT(e){typeof e=="string"&&(hT=e.toLowerCase().replace(/_/g,"-"))}var gT=(e,t,i)=>{};function T(e,t,i,n){let r=ie(),s=je(),o=ft();return fS(s,r,r[Ne],o,e,t,n),T}function fT(e,t,i,n){let r=e.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===i&&r[s+1]===n){let a=t[pc],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function fS(e,t,i,n,r,s,o){let a=Uc(n),c=e.firstCreatePass&&Gy(e),u=t[ht],d=Hy(t),f=!0;if(n.type&3||o){let S=di(n,t),w=o?o(S):S,E=d.length,I=o?N=>o(Bi(N[n.index])):n.index,A=null;if(!o&&a&&(A=fT(e,t,r,n.index)),A!==null){let N=A.__ngLastListenerFn__||A;N.__ngNextListenerFn__=s,A.__ngLastListenerFn__=s,f=!1}else{s=O0(n,t,u,s),gT(S,r,s);let N=i.listen(w,r,s);d.push(s,N),c&&c.push(r,I,E,E+1)}}else s=O0(n,t,u,s);let m=n.outputs,v;if(f&&m!==null&&(v=m[r])){let S=v.length;if(S)for(let w=0;w<S;w+=2){let E=v[w],I=v[w+1],Me=t[E][I].subscribe(s),we=d.length;d.push(s,Me),c&&c.push(r,n.index,we,-(we+1))}}}function _0(e,t,i,n){let r=ge(null);try{return Oi(6,t,i),i(n)!==!1}catch(s){return zy(e,s),!1}finally{Oi(7,t,i),ge(r)}}function O0(e,t,i,n){return function r(s){if(s===Function)return n;let o=e.componentOffset>-1?Un(e.index,t):t;kg(o,5);let a=_0(t,i,n,s),l=r.__ngNextListenerFn__;for(;l;)a=_0(t,i,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function F(e=1){return m3(e)}function mT(e,t){let i=null,n=ER(e);for(let r=0;r<t.length;r++){let s=t[r];if(s==="*"){i=r;continue}if(n===null?tw(e,s,!0):RR(n,s))return r}return i}function Gg(e){let t=ie()[Lt][Nt];if(!t.projection){let i=e?e.length:1,n=t.projection=gR(i,null),r=n.slice(),s=t.child;for(;s!==null;){if(s.type!==128){let o=e?mT(s,e):0;o!==null&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s)}s=s.next}}}function zg(e,t=0,i,n,r,s){let o=ie(),a=je(),l=n?e+1:null;l!==null&&Pc(o,a,l,n,r,s,null,i);let c=Ns(a,Mt+e,16,null,i||null);c.projection===null&&(c.projection=t),lg();let d=!o[xs]||Dw();o[Lt][Nt].projection[c.projection]===null&&l!==null?vT(o,a,l):d&&(c.flags&32)!==32&&zM(a,o,c)}function vT(e,t,i){let n=Mt+i,r=t.data[n],s=e[n],o=Fs(s,r.tView.ssrId),a=qo(e,r,void 0,{dehydratedView:o});Ko(s,a,0,Is(r,o))}function jg(e,t,i){return mS(e,"",t,"",i),jg}function mS(e,t,i,n,r){let s=ie(),o=aS(s,t,i,n);if(o!==Di){let a=je(),l=Uo();ru(a,l,s,e,o,s[Ne],r,!1)}return mS}function It(e,t,i,n){hF(e,t,i,n)}function Lr(e,t,i){dF(e,t,i)}function Qe(e){let t=ie(),i=je(),n=Fw();cg(n+1);let r=Lg(i,n);if(e.dirty&&e3(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let s=fF(t,n);e.reset(s,W3),e.notifyOnChanges()}return!0}return!1}function Ye(){return uF(ie(),Fw())}function Xt(e){let t=u3();return JR(t,Mt+e)}function g(e,t=""){let i=ie(),n=je(),r=e+Mt,s=n.firstCreatePass?Ns(n,r,1,t,null):n.data[r],o=CT(n,i,s,t,e);i[r]=o,Kc()&&tu(n,i,o,s),Tr(s,!1)}var CT=(e,t,i,n,r)=>(Qc(!0),IM(t[Ne],n));function O(e){return at("",e,""),O}function at(e,t,i){let n=ie(),r=aS(n,e,t,i);return r!==Di&&CI(n,$n(),r),at}function Jt(e,t,i){sS(t)&&(t=t());let n=ie(),r=Ar();if($t(n,r,t)){let s=je(),o=Uo();ru(s,o,n,e,t,n[Ne],i,!1)}return Jt}function pi(e,t){let i=sS(e);return i&&e.set(t),i}function ei(e,t){let i=ie(),n=je(),r=ft();return fS(n,i,i[Ne],r,e,t),ei}function wT(e,t,i){let n=je();if(n.firstCreatePass){let r=ln(e);jp(i,n.data,n.blueprint,r,!0),jp(t,n.data,n.blueprint,r,!1)}}function jp(e,t,i,n,r){if(e=Dt(e),Array.isArray(e))for(let s=0;s<e.length;s++)jp(e[s],t,i,n,r);else{let s=je(),o=ie(),a=ft(),l=Ds(e)?e:Dt(e.provide),c=dw(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ds(e)||!e.multi){let m=new Rr(c,r,y),v=jh(l,t,r?u:u+f,d);v===-1?(rp(Cc(a,o),s,l),zh(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(m),o.push(m)):(i[v]=m,o[v]=m)}else{let m=jh(l,t,u+f,d),v=jh(l,t,u,u+f),S=m>=0&&i[m],w=v>=0&&i[v];if(r&&!w||!r&&!S){rp(Cc(a,o),s,l);let E=bT(r?ST:yT,i.length,r,n,c);!r&&w&&(i[v].providerFactory=E),zh(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(E),o.push(E)}else{let E=vS(i[r?v:m],c,!r&&n);zh(s,e,m>-1?m:v,E)}!r&&n&&w&&i[v].componentProviders++}}}function zh(e,t,i,n){let r=Ds(t),s=NR(t);if(r||s){let l=(s?Dt(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(i);u===-1?c.push(i,[n,l]):c[u+1].push(n,l)}else c.push(i,l)}}}function vS(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function jh(e,t,i,n){for(let r=i;r<n;r++)if(t[r]===e)return r;return-1}function yT(e,t,i,n){return Wp(this.multi,[])}function ST(e,t,i,n){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Mr(i,i[te],this.providerFactory.index,n);s=a.slice(0,o),Wp(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Wp(r,s);return s}function Wp(e,t){for(let i=0;i<e.length;i++){let n=e[i];t.push(n())}return t}function bT(e,t,i,n,r){let s=new Rr(e,i,y);return s.multi=[],s.index=t,s.componentProviders=0,vS(s,r,n&&!i),s}function gi(e,t=[]){return i=>{i.providersResolver=(n,r)=>wT(n,r?r(e):e,t)}}var ET=(()=>{let t=class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=lw(!1,n.type),s=r.length>0?au([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=P({token:t,providedIn:"environment",factory:()=>new t(_(Rt))});let e=t;return e})();function Wi(e){fn("NgStandalone"),e.getStandaloneInjector=t=>t.get(ET).getOrCreateStandaloneInjector(e)}function Vs(e,t,i,n){return DT(ie(),qc(),e,t,i,n)}function CS(e,t,i,n,r){return xT(ie(),qc(),e,t,i,n,r)}function wS(e,t,i,n,r,s){return RT(ie(),qc(),e,t,i,n,r,s)}function yS(e,t,i,n,r,s,o){return MT(ie(),qc(),e,t,i,n,r,s,o)}function uu(e,t){let i=e[t];return i===Di?void 0:i}function DT(e,t,i,n,r,s){let o=t+i;return $t(e,o,r)?lu(e,o+1,s?n.call(s,r):n(r)):uu(e,o+1)}function xT(e,t,i,n,r,s,o){let a=t+i;return Ac(e,a,r,s)?lu(e,a+2,o?n.call(o,r,s):n(r,s)):uu(e,a+2)}function RT(e,t,i,n,r,s,o,a){let l=t+i;return kF(e,l,r,s,o)?lu(e,l+3,a?n.call(a,r,s,o):n(r,s,o)):uu(e,l+3)}function MT(e,t,i,n,r,s,o,a,l){let c=t+i;return _F(e,c,r,s,o,a)?lu(e,c+4,l?n.call(l,r,s,o,a):n(r,s,o,a)):uu(e,c+4)}function vn(e,t){return ou(e,t)}var ic=null;function IT(e){ic!==null&&(e.defaultEncapsulation!==ic.defaultEncapsulation||e.preserveWhitespaces!==ic.preserveWhitespaces)||(ic=e)}var du=(()=>{let t=class t{log(n){console.log(n)}warn(n){console.warn(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();var Wg=new V(""),Qo=new V(""),hu=(()=>{let t=class t{constructor(n,r,s){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Ug||(FT(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}};t.\u0275fac=function(r){return new(r||t)(_(fe),_(pu),_(Qo))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),pu=(()=>{let t=class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ug?.findTestabilityInTree(this,n,r)??null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function FT(e){Ug=e}var Ug;function Nr(e){return!!e&&typeof e.then=="function"}function SS(e){return!!e&&typeof e.subscribe=="function"}var gu=new V(""),bS=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=x(gu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(Nr(o))n.push(o);else if(SS(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),fu=new V("");function TT(){mC(()=>{throw new R(600,!1)})}function AT(e){return e.isBoundToModule}var PT=10;function kT(e,t,i){try{let n=i();return Nr(n)?n.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}function ES(e,t){return Array.isArray(t)?t.reduce(ES,e):b(b({},e),t)}var ti=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(z3),this.afterRenderEffectManager=x(Og),this.zonelessEnabled=x(Zy),this.externalTestViews=new Set,this.beforeRender=new Ee,this.afterTick=new Ee,this.componentTypes=[],this.components=[],this.isStable=x(Kn).hasPendingTasks.pipe(ee(n=>!n)),this._injector=x(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let s=n instanceof Dc;if(!this._injector.get(bS).done){let m=!s&&rw(n),v=!1;throw new R(405,v)}let a;s?a=n:a=this._injector.get(zn).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=AT(a)?void 0:this._injector.get(Wn),c=r||a.selector,u=a.create(pt.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(Wg,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),lc(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new R(101,!1);let r=ge(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ge(r),this.afterTick.next()}}detectChangesInAttachedViews(n){let r=null;this._injector.destroyed||(r=this._injector.get(jn,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<PT;){let a=s===0;if(n||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)_T(l,c,a,this.zonelessEnabled)}else r?.begin?.(),r?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>Vo(l))&&(o.execute(),!this.allViews.some(({_lView:l})=>Vo(l))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;lc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(fu,[]);[...this._bootstrapListeners,...r].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>lc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new R(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function lc(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function _T(e,t,i,n){if(!i&&!Vo(e))return;qy(e,t,i&&!n?0:1)}var Up=class{constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}},mu=(()=>{let t=class t{compileModuleSync(n){return new Tc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),s=sw(n),o=Cy(s.declarations).reduce((a,l)=>{let c=Bn(l);return c&&a.push(new As(c)),a},[]);return new Up(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),OT=new V("");function LT(e,t,i){let n=new Tc(i);return Promise.resolve(n)}function L0(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var NT=(()=>{let t=class t{constructor(){this.zone=x(fe),this.changeDetectionScheduler=x(Ts),this.applicationRef=x(ti)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function VT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:i}){return e??=()=>new fe(B(b({},DS()),{scheduleInRootZone:i})),[{provide:fe,useFactory:e},{provide:Es,multi:!0,useFactory:()=>{let n=x(NT,{optional:!0});return()=>n.initialize()}},{provide:Es,multi:!0,useFactory:()=>{let n=x(BT);return()=>{n.initialize()}}},t===!0?{provide:Xy,useValue:!0}:[],{provide:Jy,useValue:i??qw}]}function DS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var BT=(()=>{let t=class t{constructor(){this.subscription=new Le,this.initialized=!1,this.zone=x(fe),this.pendingTasks=x(Kn)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var HT=(()=>{let t=class t{constructor(){this.appRef=x(ti),this.taskService=x(Kn),this.ngZone=x(fe),this.zonelessEnabled=x(Zy),this.disableScheduling=x(Xy,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Le,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Jy,{optional:!0})??!1),this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Sc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?p0:Kw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick(this.shouldRefreshViews))):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick(this.shouldRefreshViews)))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yc+this.angularZoneId))}tick(n){if(this.runningTick||this.appRef.destroyed)return;let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(n)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(r),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,p0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function GT(){return typeof $localize<"u"&&$localize.locale||Lc}var $g=new V("",{providedIn:"root",factory:()=>x($g,le.Optional|le.SkipSelf)||GT()});var qg=new V("");function nc(e){return!!e.platformInjector}function zT(e){let t=nc(e)?e.r3Injector:e.moduleRef.injector,i=t.get(fe);return i.run(()=>{nc(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let n=t.get(cn,null),r;if(i.runOutsideAngular(()=>{r=i.onError.subscribe({next:s=>{n.handleError(s)}})}),nc(e)){let s=()=>t.destroy(),o=e.platformInjector.get(qg);o.add(s),t.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else e.moduleRef.onDestroy(()=>{lc(e.allPlatformModules,e.moduleRef),r.unsubscribe()});return kT(n,i,()=>{let s=t.get(bS);return s.runInitializers(),s.donePromise.then(()=>{let o=t.get($g,Lc);if(pT(o||Lc),nc(e)){let a=t.get(ti);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return jT(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function jT(e,t){let i=e.injector.get(ti);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(n=>i.bootstrap(n));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(i);else throw new R(-403,!1);t.push(e)}var xS=(()=>{let t=class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let s=r?.scheduleInRootZone,o=()=>G3(r?.ngZone,B(b({},DS({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:s})),a=r?.ignoreChangesOutsideZone,l=[VT({ngZoneFactory:o,ignoreChangesOutsideZone:a}),{provide:Ts,useExisting:HT}],c=TF(n.moduleType,this.injector,l);return zT({moduleRef:c,allPlatformModules:this._modules})}bootstrapModule(n,r=[]){let s=ES({},r);return LT(this.injector,s,n).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(qg,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};t.\u0275fac=function(r){return new(r||t)(_(pt))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})(),ko=null,RS=new V("");function WT(e){if(ko&&!ko.get(RS,!1))throw new R(400,!1);TT(),ko=e;let t=e.get(xS);return qT(e),t}function Kg(e,t,i=[]){let n=`Platform: ${t}`,r=new V(n);return(s=[])=>{let o=MS();if(!o||o.injector.get(RS,!1)){let a=[...i,...s,{provide:r,useValue:!0}];e?e(a):WT(UT(a,n))}return $T(r)}}function UT(e=[],t){return pt.create({name:t,providers:[{provide:zc,useValue:"platform"},{provide:qg,useValue:new Set([()=>ko=null])},...e]})}function $T(e){let t=MS();if(!t)throw new R(401,!1);return t}function MS(){return ko?.get(xS)??null}function qT(e){e.get(mg,null)?.forEach(i=>i())}var Cn=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=KT;let e=t;return e})();function KT(e){return QT(ft(),ie(),(e&16)===16)}function QT(e,t,i){if(Wc(e)&&!i){let n=Un(e.index,t);return new Ir(n,n)}else if(e.type&175){let n=t[Lt];return new Ir(n,t)}return null}var $p=class{constructor(){}supports(t){return oS(t)}create(t){return new qp(t)}},YT=(e,t)=>t,qp=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||YT}forEachItem(t){let i;for(i=this._itHead;i!==null;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,n=this._removalsHead,r=0,s=null;for(;i||n;){let o=!n||i&&i.currentIndex<N0(n,r,s)?i:n,a=N0(o,r,s),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(i=i._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){let m=f<s.length?s[f]:s[f]=0,v=m+f;u<=v&&v<c&&(s[f]=m+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)t(i)}diff(t){if(t==null&&(t=[]),!oS(t))throw new R(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._itHead,n=!1,r,s,o;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,s,o,a),n=!0):(n&&(i=this._verifyReinsertion(i,s,o,a)),Object.is(i.item,s)||this._addIdentityChange(i,s)),i=i._next}else r=0,AF(t,a=>{o=this._trackByFn(r,a),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,a,o,r),n=!0):(n&&(i=this._verifyReinsertion(i,a,o,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,n,r){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),t!==null?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,s,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(n,r),t!==null?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,s,r)):t=this._addAfter(new Kp(i,n),s,r)),t}_verifyReinsertion(t,i,n,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let i=t._next;this._addToRemovals(this._unlink(t)),t=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,s=t._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,i,n),this._addToMoves(t,n),t}_moveAfter(t,i,n){return this._unlink(t),this._insertAfter(t,i,n),this._addToMoves(t,n),t}_addAfter(t,i,n){return this._insertAfter(t,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,i,n){let r=i===null?this._itHead:i._next;return t._next=r,t._prev=i,r===null?this._itTail=t:r._prev=t,i===null?this._itHead=t:i._next=t,this._linkedRecords===null&&(this._linkedRecords=new Nc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let i=t._prev,n=t._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Kp=class{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Qp=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){let i=t._prevDup,n=t._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},Nc=class{constructor(){this.map=new Map}put(t){let i=t.trackById,n=this.map.get(i);n||(n=new Qp,this.map.set(i,n)),n.add(t)}get(t,i){let n=t,r=this.map.get(n);return r?r.get(t,i):null}remove(t){let i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function N0(e,t,i){let n=e.previousIndex;if(n===null)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+t+r}function V0(){return new Qg([new $p])}var Qg=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,r){if(r!=null){let s=r.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||V0()),deps:[[t,new Zp,new Gc]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r!=null)return r;throw new R(901,!1)}};t.\u0275prov=P({token:t,providedIn:"root",factory:V0});let e=t;return e})();var IS=Kg(null,"core",[]),FS=(()=>{let t=class t{constructor(n){}};t.\u0275fac=function(r){return new(r||t)(_(ti))},t.\u0275mod=Be({type:t}),t.\u0275inj=Ve({});let e=t;return e})();var TS=new V("");function Ae(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Bs(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function Hs(e,t){fn("NgSignals");let i=pC(e);return t?.equal&&(i[nn].equal=t.equal),i}function Ui(e){let t=ge(null);try{return e()}finally{ge(t)}}function AS(e){let t=Bn(e);if(!t)return null;let i=new As(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var NS=null;function $i(){return NS}function VS(e){NS??=e}var vu=class{};var Oe=new V(""),rf=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>x(XT),providedIn:"platform"});let e=t;return e})(),BS=new V(""),XT=(()=>{let t=class t extends rf{constructor(){super(),this._doc=x(Oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $i().getBaseHref(this._doc)}onPopState(n){let r=$i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=$i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function sf(e,t){if(e.length==0)return t;if(t.length==0)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,i==2?e+t.substring(1):i==1?e+t:e+"/"+t}function PS(e){let t=e.match(/#|\?|$/),i=t&&t.index||e.length,n=i-(e[i-1]==="/"?1:0);return e.slice(0,n)+e.slice(i)}function wn(e){return e&&e[0]!=="?"?"?"+e:e}var yn=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>x(of),providedIn:"root"});let e=t;return e})(),HS=new V(""),of=(()=>{let t=class t extends yn{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return sf(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+wn(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+wn(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+wn(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(r){return new(r||t)(_(rf),_(HS,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),GS=(()=>{let t=class t extends yn{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=sf(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+wn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+wn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(r){return new(r||t)(_(rf),_(HS,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),zs=(()=>{let t=class t{constructor(n){this._subject=new ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=t2(PS(kS(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+wn(r))}normalize(n){return t.stripTrailingSlash(e2(this._basePath,kS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wn(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wn(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}};t.normalizeQueryParams=wn,t.joinWithSlash=sf,t.stripTrailingSlash=PS,t.\u0275fac=function(r){return new(r||t)(_(yn))},t.\u0275prov=P({token:t,factory:()=>JT(),providedIn:"root"});let e=t;return e})();function JT(){return new zs(_(yn))}function e2(e,t){if(!e||!t.startsWith(e))return t;let i=t.substring(e.length);return i===""||["/",";","?","#"].includes(i[0])?i:t}function kS(e){return e.replace(/\/index.html$/,"")}function t2(e){if(new RegExp("^(https?:)?//").test(e)){let[,i]=e.split(/\/\/[^\/]+/);return i}return e}function Cu(e,t){t=encodeURIComponent(t);for(let i of e.split(";")){let n=i.indexOf("="),[r,s]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}var Zg=/\s+/,_S=[],zS=(()=>{let t=class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=_S,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Zg):_S}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Zg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let s=this.stateMap.get(n);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],s=n[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Zg).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};t.\u0275fac=function(r){return new(r||t)(y(We),y(zi))},t.\u0275dir=de({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let e=t;return e})();var Xg=class{constructor(t,i,n,r){this.$implicit=t,this.ngForOf=i,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qe=(()=>{let t=class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new Xg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),OS(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);OS(o,s)})}static ngTemplateContextGuard(n,r){return!0}};t.\u0275fac=function(r){return new(r||t)(y(ji),y(Se),y(Qg))},t.\u0275dir=de({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let e=t;return e})();function OS(e,t){e.context.$implicit=t.item}var af=(()=>{let t=class t{constructor(n,r){this._viewContainer=n,this._context=new Jg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){LS("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){LS("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};t.\u0275fac=function(r){return new(r||t)(y(ji),y(Se))},t.\u0275dir=de({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=t;return e})(),Jg=class{constructor(){this.$implicit=null,this.ngIf=null}};function LS(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${xt(t)}'.`)}var lf=(()=>{let t=class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(n,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};t.\u0275fac=function(r){return new(r||t)(y(ji))},t.\u0275dir=de({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[gt]});let e=t;return e})();var jS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Be({type:t}),t.\u0275inj=Ve({});let e=t;return e})(),cf="browser",i2="server";function n2(e){return e===cf}function wu(e){return e===i2}var WS=(()=>{let t=class t{};t.\u0275prov=P({token:t,providedIn:"root",factory:()=>n2(x(Gi))?new ef(x(Oe),window):new tf});let e=t;return e})(),ef=class{constructor(t,i){this.document=t,this.window=i,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let i=r2(this.document,t);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let i=t.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}};function r2(e,t){let i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=n.nextNode()}}return null}var tf=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},Gs=class{};var Zo=class{},Su=class{},Sn=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),s=r.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,i);let r=(t.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let s=t.value;if(!s)this.headers.delete(i),this.normalizedNames.delete(i);else{let o=this.headers.get(i);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}break}}setHeaderEntries(t,i){let n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var df=class{encodeKey(t){return US(t)}encodeValue(t){return US(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function s2(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=i.get(o)||[];l.push(a),i.set(o,l)}),i}var o2=/%(\d[a-f0-9])/gi,a2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function US(e){return encodeURIComponent(e).replace(o2,(t,i)=>a2[i]??t)}function yu(e){return`${e}`}var Yn=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new df,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=s2(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let n=t.fromObject[i],r=Array.isArray(n)?n.map(yu):[yu(n)];this.map.set(i,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(yu(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(yu(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var hf=class{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function l2(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $S(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function qS(e){return typeof Blob<"u"&&e instanceof Blob}function KS(e){return typeof FormData<"u"&&e instanceof FormData}function c2(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Yo=class e{constructor(t,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(l2(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Sn,this.context??=new hf,!this.params)this.params=new Yn,this.urlWithParams=i;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||$S(this.body)||qS(this.body)||KS(this.body)||c2(this.body)?this.body:this.body instanceof Yn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||KS(this.body)?null:qS(this.body)?this.body.type||null:$S(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Yn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let i=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,m)=>f.set(m,t.setHeaders[m]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,m)=>f.set(m,t.setParams[m]),u)),new e(i,n,o,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},Zn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Zn||{}),Xo=class{constructor(t,i=200,n="OK"){this.headers=t.headers||new Sn,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},bu=class e extends Xo{constructor(t={}){super(t),this.type=Zn.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Jo=class e extends Xo{constructor(t={}){super(t),this.type=Zn.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Qn=class extends Xo{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},XS=200,u2=204;function uf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var ff=(()=>{let t=class t{constructor(n){this.handler=n}request(n,r,s={}){let o;if(n instanceof Yo)o=n;else{let c;s.headers instanceof Sn?c=s.headers:c=new Sn(s.headers);let u;s.params&&(s.params instanceof Yn?u=s.params:u=new Yn({fromObject:s.params})),o=new Yo(n,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=Q(o).pipe(sn(c=>this.handler.handle(c)));if(n instanceof Yo||s.observe==="events")return a;let l=a.pipe(Ct(c=>c instanceof Jo));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(ee(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Yn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,uf(s,r))}post(n,r,s={}){return this.request("POST",n,uf(s,r))}put(n,r,s={}){return this.request("PUT",n,uf(s,r))}};t.\u0275fac=function(r){return new(r||t)(_(Zo))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),d2=/^\)\]\}',?\n/,h2="X-Request-URL";function QS(e){if(e.url)return e.url;let t=h2.toLocaleLowerCase();return e.headers.get(t)}var p2=(()=>{let t=class t{constructor(){this.fetchImpl=x(pf,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=x(fe)}handle(n){return new he(r=>{let s=new AbortController;return this.doRequest(n,s.signal,r).then(gf,o=>r.error(new Qn({error:o}))),()=>s.abort()})}doRequest(n,r,s){return Ke(this,null,function*(){let o=this.createRequestInit(n),a;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,b({signal:r},o)));g2(v),s.next({type:Zn.Sent}),a=yield v}catch(v){s.error(new Qn({error:v,status:v.status??0,statusText:v.statusText,url:n.urlWithParams,headers:v.headers}));return}let l=new Sn(a.headers),c=a.statusText,u=QS(a)??n.urlWithParams,d=a.status,f=null;if(n.reportProgress&&s.next(new bu({headers:l,status:d,statusText:c,url:u})),a.body){let v=a.headers.get("content-length"),S=[],w=a.body.getReader(),E=0,I,A,N=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Ke(this,null,function*(){for(;;){let{done:we,value:ve}=yield w.read();if(we)break;if(S.push(ve),E+=ve.length,n.reportProgress){A=n.responseType==="text"?(A??"")+(I??=new TextDecoder).decode(ve,{stream:!0}):void 0;let Ie=()=>s.next({type:Zn.DownloadProgress,total:v?+v:void 0,loaded:E,partialText:A});N?N.run(Ie):Ie()}}}));let Me=this.concatChunks(S,E);try{let we=a.headers.get("Content-Type")??"";f=this.parseBody(n,Me,we)}catch(we){s.error(new Qn({error:we,headers:new Sn(a.headers),status:a.status,statusText:a.statusText,url:QS(a)??n.urlWithParams}));return}}d===0&&(d=f?XS:0),d>=200&&d<300?(s.next(new Jo({body:f,headers:l,status:d,statusText:c,url:u})),s.complete()):s.error(new Qn({error:f,headers:l,status:d,statusText:c,url:u}))})}parseBody(n,r,s){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(d2,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},s=n.withCredentials?"include":void 0;if(n.headers.forEach((o,a)=>r[o]=a.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:s}}concatChunks(n,r){let s=new Uint8Array(r),o=0;for(let a of n)s.set(a,o),o+=a.length;return s}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),pf=class{};function gf(){}function g2(e){e.then(gf,gf)}function f2(e,t){return t(e)}function m2(e,t,i){return(n,r)=>Kt(i,()=>t(n,s=>e(s,r)))}var JS=new V(""),v2=new V(""),C2=new V("",{providedIn:"root",factory:()=>!0});var YS=(()=>{let t=class t extends Zo{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=x(Kn),this.contributeToStability=x(C2)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(JS),...this.injector.get(v2,[])]));this.chain=r.reduceRight((s,o)=>m2(s,o,this.injector),f2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(wr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}};t.\u0275fac=function(r){return new(r||t)(_(Su),_(Rt))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();var w2=/^\)\]\}',?\n/;function y2(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var ZS=(()=>{let t=class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new R(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Fe(r.\u0275loadImpl()):Q(null)).pipe(kt(()=>new he(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((w,E)=>a.setRequestHeader(w,E.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let w=n.detectContentTypeHeader();w!==null&&a.setRequestHeader("Content-Type",w)}if(n.responseType){let w=n.responseType.toLowerCase();a.responseType=w!=="json"?w:"text"}let l=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let w=a.statusText||"OK",E=new Sn(a.getAllResponseHeaders()),I=y2(a)||n.url;return c=new bu({headers:E,status:a.status,statusText:w,url:I}),c},d=()=>{let{headers:w,status:E,statusText:I,url:A}=u(),N=null;E!==u2&&(N=typeof a.response>"u"?a.responseText:a.response),E===0&&(E=N?XS:0);let Me=E>=200&&E<300;if(n.responseType==="json"&&typeof N=="string"){let we=N;N=N.replace(w2,"");try{N=N!==""?JSON.parse(N):null}catch(ve){N=we,Me&&(Me=!1,N={error:ve,text:N})}}Me?(o.next(new Jo({body:N,headers:w,status:E,statusText:I,url:A||void 0})),o.complete()):o.error(new Qn({error:N,headers:w,status:E,statusText:I,url:A||void 0}))},f=w=>{let{url:E}=u(),I=new Qn({error:w,status:a.status||0,statusText:a.statusText||"Unknown Error",url:E||void 0});o.error(I)},m=!1,v=w=>{m||(o.next(u()),m=!0);let E={type:Zn.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),n.responseType==="text"&&a.responseText&&(E.partialText=a.responseText),o.next(E)},S=w=>{let E={type:Zn.UploadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),o.next(E)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),n.reportProgress&&(a.addEventListener("progress",v),l!==null&&a.upload&&a.upload.addEventListener("progress",S)),a.send(l),o.next({type:Zn.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),n.reportProgress&&(a.removeEventListener("progress",v),l!==null&&a.upload&&a.upload.removeEventListener("progress",S)),a.readyState!==a.DONE&&a.abort()}})))}};t.\u0275fac=function(r){return new(r||t)(_(Gs))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),eb=new V(""),S2="XSRF-TOKEN",b2=new V("",{providedIn:"root",factory:()=>S2}),E2="X-XSRF-TOKEN",D2=new V("",{providedIn:"root",factory:()=>E2}),Eu=class{},x2=(()=>{let t=class t{constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Cu(n,this.cookieName),this.lastCookieString=n),this.lastToken}};t.\u0275fac=function(r){return new(r||t)(_(Oe),_(Gi),_(b2))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();function R2(e,t){let i=e.url.toLowerCase();if(!x(eb)||e.method==="GET"||e.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return t(e);let n=x(Eu).getToken(),r=x(D2);return n!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}function tb(...e){let t=[ff,ZS,YS,{provide:Zo,useExisting:YS},{provide:Su,useFactory:()=>x(p2,{optional:!0})??x(ZS)},{provide:JS,useValue:R2,multi:!0},{provide:eb,useValue:!0},{provide:Eu,useClass:x2}];for(let i of e)t.push(...i.\u0275providers);return ks(t)}var Cf=class extends vu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},wf=class e extends Cf{static makeCurrent(){VS(new e)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.remove()}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=I2();return i==null?null:F2(i)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Cu(document.cookie,t)}},ea=null;function I2(){return ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null}function F2(e){return new URL(e,document.baseURI).pathname}var yf=class{addToWindow(t){Ut.getAngularTestability=(n,r=!0)=>{let s=t.findTestabilityInTree(n,r);if(s==null)throw new R(5103,!1);return s},Ut.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ut.getAllAngularRootElements=()=>t.getAllRootElements();let i=n=>{let r=Ut.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&n()};r.forEach(a=>{a.whenStable(o)})};Ut.frameworkStabilizers||(Ut.frameworkStabilizers=[]),Ut.frameworkStabilizers.push(i)}findTestabilityInTree(t,i,n){if(i==null)return null;let r=t.getTestability(i);return r??(n?$i().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},T2=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),Du=new V(""),rb=(()=>{let t=class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(n,r),r}};t.\u0275fac=function(r){return new(r||t)(_(Du),_(fe))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),ta=class{constructor(t){this._doc=t}},mf="ng-app-id",sb=(()=>{let t=class t{constructor(n,r,s,o={}){this.doc=n,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wu(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(s=>s.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${mf}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(n,r){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=r,o.usage}return s.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===n)return s.delete(r),o.removeAttribute(mf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(mf,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let s=this.getStyleElement(n,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(_(Oe),_(Zc),_(Cg,8),_(Gi))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),vf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bf=/%COMP%/g,ob="%COMP%",A2=`_nghost-${ob}`,P2=`_ngcontent-${ob}`,k2=!0,_2=new V("",{providedIn:"root",factory:()=>k2});function O2(e){return P2.replace(bf,e)}function L2(e){return A2.replace(bf,e)}function ab(e,t){return t.map(i=>i.replace(bf,e))}var xu=(()=>{let t=class t{constructor(n,r,s,o,a,l,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=wu(l),this.defaultRenderer=new ia(n,a,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ni.ShadowDom&&(r=B(b({},r),{encapsulation:Ni.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof Ru?s.applyToHost(n):s instanceof na&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Ni.Emulated:o=new Ru(c,u,r,this.appId,d,a,l,f);break;case Ni.ShadowDom:return new Sf(c,u,n,r,a,l,this.nonce,f);default:o=new na(c,u,r,d,a,l,f);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(_(rb),_(sb),_(Zc),_(_2),_(Oe),_(Gi),_(fe),_(Cg))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),ia=class{constructor(t,i,n,r){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(vf[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(ib(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(ib(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){i.remove()}selectRootElement(t,i){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new R(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,r){if(r){i=r+":"+i;let s=vf[r];s?t.setAttributeNS(s,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){let r=vf[n];r?t.removeAttributeNS(r,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,r){r&(dn.DashCase|dn.Important)?t.style.setProperty(i,n,r&dn.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&dn.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t!=null&&(t[i]=n)}setValue(t,i){t.nodeValue=i}listen(t,i,n){if(typeof t=="string"&&(t=$i().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function ib(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Sf=class extends ia{constructor(t,i,n,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=ab(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(null,i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},na=class extends ia{constructor(t,i,n,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?ab(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ru=class extends na{constructor(t,i,n,r,s,o,a,l){let c=r+"-"+n.id;super(t,i,n,s,o,a,l,c),this.contentAttr=O2(c),this.hostAttr=L2(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}},N2=(()=>{let t=class t extends ta{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}};t.\u0275fac=function(r){return new(r||t)(_(Oe))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),V2=(()=>{let t=class t extends ta{constructor(n){super(n),this.delegate=x(TS,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,s){return this.delegate.addEventListener(n,r,s)}removeEventListener(n,r,s){return this.delegate.removeEventListener(n,r,s)}};t.\u0275fac=function(r){return new(r||t)(_(Oe))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),nb=["alt","control","meta","shift"],B2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},G2=(()=>{let t=class t extends ta{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$i().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),nb.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let s=B2[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),nb.forEach(a=>{if(a!==s){let l=H2[a];l(n)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(n,r,s){return o=>{t.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(r){return new(r||t)(_(Oe))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();function z2(){wf.makeCurrent()}function j2(){return new cn}function W2(){return ty(document),document}var U2=[{provide:Gi,useValue:cf},{provide:mg,useValue:z2,multi:!0},{provide:Oe,useFactory:W2,deps:[]}],lb=Kg(IS,"browser",U2),$2=new V(""),q2=[{provide:Qo,useClass:yf,deps:[]},{provide:Wg,useClass:hu,deps:[fe,pu,Qo]},{provide:hu,useClass:hu,deps:[fe,pu,Qo]}],K2=[{provide:zc,useValue:"root"},{provide:cn,useFactory:j2,deps:[]},{provide:Du,useClass:N2,multi:!0,deps:[Oe,fe,Gi]},{provide:Du,useClass:G2,multi:!0,deps:[Oe]},{provide:Du,useClass:V2,multi:!0},xu,sb,rb,{provide:jn,useExisting:xu},{provide:Gs,useClass:T2,deps:[]},[]],Mu=(()=>{let t=class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Zc,useValue:n.appId}]}}};t.\u0275fac=function(r){return new(r||t)(_($2,12))},t.\u0275mod=Be({type:t}),t.\u0275inj=Ve({providers:[...K2,...q2],imports:[jS,FS]});let e=t;return e})();var cb=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(r){return new(r||t)(_(Oe))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ef=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:function(r){let s=null;return r?s=new(r||t):s=_(Q2),s},providedIn:"root"});let e=t;return e})(),Q2=(()=>{let t=class t extends Ef{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Qt.NONE:return r;case Qt.HTML:return pn(r,"HTML")?hi(r):yg(this._doc,String(r)).toString();case Qt.STYLE:return pn(r,"Style")?hi(r):r;case Qt.SCRIPT:if(pn(r,"Script"))return hi(r);throw new R(5200,!1);case Qt.URL:return pn(r,"URL")?hi(r):Jc(String(r));case Qt.RESOURCE_URL:if(pn(r,"ResourceURL"))return hi(r);throw new R(5201,!1);default:throw new R(5202,!1)}}bypassSecurityTrustHtml(n){return oy(n)}bypassSecurityTrustStyle(n){return ay(n)}bypassSecurityTrustScript(n){return ly(n)}bypassSecurityTrustUrl(n){return cy(n)}bypassSecurityTrustResourceUrl(n){return uy(n)}};t.\u0275fac=function(r){return new(r||t)(_(Oe))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var re=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(re||{}),qi="*";function ub(e,t){return{type:re.Trigger,name:e,definitions:t,options:{}}}function xf(e,t=null){return{type:re.Animate,styles:t,timings:e}}function db(e,t=null){return{type:re.Sequence,steps:e,options:t}}function Vr(e){return{type:re.Style,styles:e,offset:null}}function Iu(e,t,i){return{type:re.State,name:e,styles:t,options:i}}function Rf(e,t,i=null){return{type:re.Transition,expr:e,animation:t,options:i}}var Xn=class{constructor(t=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let i=t=="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},ra=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let i=0,n=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++i==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let i=t*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,i/n.totalTime):1;n.setPosition(r)})}getPosition(){let t=this.players.reduce((i,n)=>i===null||n.totalTime>i.totalTime?n:i,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let i=t=="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},Fu="!";function hb(e){return new R(3e3,!1)}function Y2(){return new R(3100,!1)}function Z2(){return new R(3101,!1)}function X2(e){return new R(3001,!1)}function J2(e){return new R(3003,!1)}function eA(e){return new R(3004,!1)}function tA(e,t){return new R(3005,!1)}function iA(){return new R(3006,!1)}function nA(){return new R(3007,!1)}function rA(e,t){return new R(3008,!1)}function sA(e){return new R(3002,!1)}function oA(e,t,i,n,r){return new R(3010,!1)}function aA(){return new R(3011,!1)}function lA(){return new R(3012,!1)}function cA(){return new R(3200,!1)}function uA(){return new R(3202,!1)}function dA(){return new R(3013,!1)}function hA(e){return new R(3014,!1)}function pA(e){return new R(3015,!1)}function gA(e){return new R(3016,!1)}function fA(e,t){return new R(3404,!1)}function mA(e){return new R(3502,!1)}function vA(e){return new R(3503,!1)}function CA(){return new R(3300,!1)}function wA(e){return new R(3504,!1)}function yA(e){return new R(3301,!1)}function SA(e,t){return new R(3302,!1)}function bA(e){return new R(3303,!1)}function EA(e,t){return new R(3400,!1)}function DA(e){return new R(3401,!1)}function xA(e){return new R(3402,!1)}function RA(e,t){return new R(3505,!1)}function Jn(e){switch(e.length){case 0:return new Xn;case 1:return e[0];default:return new ra(e)}}function Rb(e,t,i=new Map,n=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((f,m)=>{let v=m,S=f;if(m!=="offset")switch(v=e.normalizePropertyName(v,r),S){case Fu:S=i.get(m);break;case qi:S=n.get(m);break;default:S=e.normalizeStyleValue(m,v,S,r);break}d.set(v,S)}),u||s.push(d),a=d,o=c}),r.length)throw mA(r);return s}function Qf(e,t,i,n){switch(t){case"start":e.onStart(()=>n(i&&Mf(i,"start",e)));break;case"done":e.onDone(()=>n(i&&Mf(i,"done",e)));break;case"destroy":e.onDestroy(()=>n(i&&Mf(i,"destroy",e)));break}}function Mf(e,t,i){let n=i.totalTime,r=!!i.disabled,s=Yf(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n??e.totalTime,r),o=e._data;return o!=null&&(s._data=o),s}function Yf(e,t,i,n,r="",s=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function ri(e,t,i){let n=e.get(t);return n||e.set(t,n=i),n}function pb(e){let t=e.indexOf(":"),i=e.substring(1,t),n=e.slice(t+1);return[i,n]}var MA=typeof document>"u"?null:document.documentElement;function Zf(e){let t=e.parentNode||e.host||null;return t===MA?null:t}function IA(e){return e.substring(1,6)=="ebkit"}var Br=null,gb=!1;function FA(e){Br||(Br=TA()||{},gb=Br.style?"WebkitAppearance"in Br.style:!1);let t=!0;return Br.style&&!IA(e)&&(t=e in Br.style,!t&&gb&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Br.style)),t}function TA(){return typeof document<"u"?document.body:null}function Mb(e,t){for(;t;){if(t===e)return!0;t=Zf(t)}return!1}function Ib(e,t,i){if(i)return Array.from(e.querySelectorAll(t));let n=e.querySelector(t);return n?[n]:[]}var Xf=(()=>{let t=class t{validateStyleProperty(n){return FA(n)}containsElement(n,r){return Mb(n,r)}getParentElement(n){return Zf(n)}query(n,r,s){return Ib(n,r,s)}computeStyle(n,r,s){return s||""}animate(n,r,s,o,a,l=[],c){return new Xn(s,o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),im=class im{};im.NOOP=new Xf;var zr=im,jr=class{};var AA=1e3,Fb="{{",PA="}}",Tb="ng-enter",kf="ng-leave",Tu="ng-trigger",Ou=".ng-trigger",fb="ng-animating",_f=".ng-animating";function bn(e){if(typeof e=="number")return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Of(parseFloat(t[1]),t[2])}function Of(e,t){switch(t){case"s":return e*AA;default:return e}}function Lu(e,t,i){return e.hasOwnProperty("duration")?e:kA(e,t,i)}function kA(e,t,i){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof e=="string"){let a=e.match(n);if(a===null)return t.push(hb(e)),{duration:0,delay:0,easing:""};r=Of(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Of(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=e;if(!i){let a=!1,l=t.length;r<0&&(t.push(Y2()),a=!0),s<0&&(t.push(Z2()),a=!0),a&&t.splice(l,0,hb(e))}return{duration:r,delay:s,easing:o}}function _A(e){return e.length?e[0]instanceof Map?e:e.map(t=>new Map(Object.entries(t))):[]}function Ki(e,t,i){t.forEach((n,r)=>{let s=Jf(r);i&&!i.has(r)&&i.set(r,e.style[s]),e.style[s]=n})}function Gr(e,t){t.forEach((i,n)=>{let r=Jf(n);e.style[r]=""})}function sa(e){return Array.isArray(e)?e.length==1?e[0]:db(e):e}function OA(e,t,i){let n=t.params||{},r=Ab(e);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||i.push(X2(s))})}var Lf=new RegExp(`${Fb}\\s*(.+?)\\s*${PA}`,"g");function Ab(e){let t=[];if(typeof e=="string"){let i;for(;i=Lf.exec(e);)t.push(i[1]);Lf.lastIndex=0}return t}function aa(e,t,i){let n=`${e}`,r=n.replace(Lf,(s,o)=>{let a=t[o];return a==null&&(i.push(J2(o)),a=""),a.toString()});return r==n?e:r}var LA=/-+([a-z0-9])/g;function Jf(e){return e.replace(LA,(...t)=>t[1].toUpperCase())}function NA(e,t){return e===0||t===0}function VA(e,t,i){if(i.size&&t.length){let n=t[0],r=[];if(i.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,em(e,a)))}}return t}function ni(e,t,i){switch(t.type){case re.Trigger:return e.visitTrigger(t,i);case re.State:return e.visitState(t,i);case re.Transition:return e.visitTransition(t,i);case re.Sequence:return e.visitSequence(t,i);case re.Group:return e.visitGroup(t,i);case re.Animate:return e.visitAnimate(t,i);case re.Keyframes:return e.visitKeyframes(t,i);case re.Style:return e.visitStyle(t,i);case re.Reference:return e.visitReference(t,i);case re.AnimateChild:return e.visitAnimateChild(t,i);case re.AnimateRef:return e.visitAnimateRef(t,i);case re.Query:return e.visitQuery(t,i);case re.Stagger:return e.visitStagger(t,i);default:throw eA(t.type)}}function em(e,t){return window.getComputedStyle(e)[t]}var BA=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Nu=class extends jr{normalizePropertyName(t,i){return Jf(t)}normalizeStyleValue(t,i,n,r){let s="",o=n.toString().trim();if(BA.has(i)&&n!==0&&n!=="0")if(typeof n=="number")s="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(tA(t,n))}return o+s}};var Vu="*";function HA(e,t){let i=[];return typeof e=="string"?e.split(/\s*,\s*/).forEach(n=>GA(n,i,t)):i.push(e),i}function GA(e,t,i){if(e[0]==":"){let l=zA(e,i);if(typeof l=="function"){t.push(l);return}e=l}let n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return i.push(pA(e)),t;let r=n[1],s=n[2],o=n[3];t.push(mb(r,o));let a=r==Vu&&o==Vu;s[0]=="<"&&!a&&t.push(mb(o,r))}function zA(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,n)=>parseFloat(n)>parseFloat(i);case":decrement":return(i,n)=>parseFloat(n)<parseFloat(i);default:return t.push(gA(e)),"* => *"}}var Au=new Set(["true","1"]),Pu=new Set(["false","0"]);function mb(e,t){let i=Au.has(e)||Pu.has(e),n=Au.has(t)||Pu.has(t);return(r,s)=>{let o=e==Vu||e==r,a=t==Vu||t==s;return!o&&i&&typeof r=="boolean"&&(o=r?Au.has(e):Pu.has(e)),!a&&n&&typeof s=="boolean"&&(a=s?Au.has(t):Pu.has(t)),o&&a}}var Pb=":self",jA=new RegExp(`s*${Pb}s*,?`,"g");function kb(e,t,i,n){return new Nf(e).build(t,i,n)}var vb="",Nf=class{constructor(t){this._driver=t}build(t,i,n){let r=new Vf(i);return this._resetContextStyleTimingState(r),ni(this,sa(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=vb,t.collectedStyles=new Map,t.collectedStyles.set(vb,new Map),t.currentTime=0}visitTrigger(t,i){let n=i.queryCount=0,r=i.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&i.errors.push(iA()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(i),a.type==re.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,i))}),l.name=c}else if(a.type==re.Transition){let l=this.visitTransition(a,i);n+=l.queryCount,r+=l.depCount,o.push(l)}else i.errors.push(nA())}),{type:re.Trigger,name:t.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,i){let n=this.visitStyle(t.styles,i),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let s=new Set,o=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Ab(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&i.errors.push(rA(t.name,[...s.values()]))}return{type:re.State,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,i){i.queryCount=0,i.depCount=0;let n=ni(this,sa(t.animation),i),r=HA(t.expr,i.errors);return{type:re.Transition,matchers:r,animation:n,queryCount:i.queryCount,depCount:i.depCount,options:Hr(t.options)}}visitSequence(t,i){return{type:re.Sequence,steps:t.steps.map(n=>ni(this,n,i)),options:Hr(t.options)}}visitGroup(t,i){let n=i.currentTime,r=0,s=t.steps.map(o=>{i.currentTime=n;let a=ni(this,o,i);return r=Math.max(r,i.currentTime),a});return i.currentTime=r,{type:re.Group,steps:s,options:Hr(t.options)}}visitAnimate(t,i){let n=qA(t.timings,i.errors);i.currentAnimateTimings=n;let r,s=t.styles?t.styles:Vr({});if(s.type==re.Keyframes)r=this.visitKeyframes(s,i);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};n.easing&&(c.easing=n.easing),o=Vr(c)}i.currentTime+=n.duration+n.delay;let l=this.visitStyle(o,i);l.isEmptyStep=a,r=l}return i.currentAnimateTimings=null,{type:re.Animate,timings:n,style:r,options:null}}visitStyle(t,i){let n=this._makeStyleAst(t,i);return this._validateStyleAst(n,i),n}_makeStyleAst(t,i){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===qi?n.push(a):i.errors.push(sA(a)):n.push(new Map(Object.entries(a)));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(Fb)>=0){s=!0;break}}}),{type:re.Style,styles:n,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,i){let n=i.currentAnimateTimings,r=i.currentTime,s=i.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=i.collectedStyles.get(i.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(i.errors.push(oA(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),i.options&&OA(a,i.options,i.errors)})})}visitKeyframes(t,i){let n={type:re.Keyframes,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(aA()),n;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(E=>{let I=this._makeStyleAst(E,i),A=I.offset!=null?I.offset:$A(I.styles),N=0;return A!=null&&(s++,N=I.offset=A),l=l||N<0||N>1,a=a||N<c,c=N,o.push(N),I});l&&i.errors.push(lA()),a&&i.errors.push(cA());let d=t.steps.length,f=0;s>0&&s<d?i.errors.push(uA()):s==0&&(f=r/(d-1));let m=d-1,v=i.currentTime,S=i.currentAnimateTimings,w=S.duration;return u.forEach((E,I)=>{let A=f>0?I==m?1:f*I:o[I],N=A*w;i.currentTime=v+S.delay+N,S.duration=N,this._validateStyleAst(E,i),E.offset=A,n.styles.push(E)}),n}visitReference(t,i){return{type:re.Reference,animation:ni(this,sa(t.animation),i),options:Hr(t.options)}}visitAnimateChild(t,i){return i.depCount++,{type:re.AnimateChild,options:Hr(t.options)}}visitAnimateRef(t,i){return{type:re.AnimateRef,animation:this.visitReference(t.animation,i),options:Hr(t.options)}}visitQuery(t,i){let n=i.currentQuerySelector,r=t.options||{};i.queryCount++,i.currentQuery=t;let[s,o]=WA(t.selector);i.currentQuerySelector=n.length?n+" "+s:s,ri(i.collectedStyles,i.currentQuerySelector,new Map);let a=ni(this,sa(t.animation),i);return i.currentQuery=null,i.currentQuerySelector=n,{type:re.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Hr(t.options)}}visitStagger(t,i){i.currentQuery||i.errors.push(dA());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Lu(t.timings,i.errors,!0);return{type:re.Stagger,animation:ni(this,sa(t.animation),i),timings:n,options:null}}};function WA(e){let t=!!e.split(/\s*,\s*/).find(i=>i==Pb);return t&&(e=e.replace(jA,"")),e=e.replace(/@\*/g,Ou).replace(/@\w+/g,i=>Ou+"-"+i.slice(1)).replace(/:animating/g,_f),[e,t]}function UA(e){return e?b({},e):null}var Vf=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function $A(e){if(typeof e=="string")return null;let t=null;if(Array.isArray(e))e.forEach(i=>{if(i instanceof Map&&i.has("offset")){let n=i;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}return t}function qA(e,t){if(e.hasOwnProperty("duration"))return e;if(typeof e=="number"){let s=Lu(e,t).duration;return If(s,0,"")}let i=e;if(i.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=If(0,0,"");return s.dynamic=!0,s.strValue=i,s}let r=Lu(i,t);return If(r.duration,r.delay,r.easing)}function Hr(e){return e?(e=b({},e),e.params&&(e.params=UA(e.params))):e={},e}function If(e,t,i){return{duration:e,delay:t,easing:i}}function tm(e,t,i,n,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var la=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,i){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...i)}has(t){return this._map.has(t)}clear(){this._map.clear()}},KA=1,QA=":enter",YA=new RegExp(QA,"g"),ZA=":leave",XA=new RegExp(ZA,"g");function _b(e,t,i,n,r,s=new Map,o=new Map,a,l,c=[]){return new Bf().buildKeyframes(e,t,i,n,r,s,o,a,l,c)}var Bf=class{buildKeyframes(t,i,n,r,s,o,a,l,c,u=[]){c=c||new la;let d=new Hf(t,i,c,r,s,u,[]);d.options=l;let f=l.delay?bn(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),ni(this,n,d);let m=d.timelines.filter(v=>v.containsAnimation());if(m.length&&a.size){let v;for(let S=m.length-1;S>=0;S--){let w=m[S];if(w.element===i){v=w;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,d.errors,l)}return m.length?m.map(v=>v.buildKeyframes()):[tm(i,[],[],[],0,f,"",!1)]}visitTrigger(t,i){}visitState(t,i){}visitTransition(t,i){}visitAnimateChild(t,i){let n=i.subInstructions.get(i.element);if(n){let r=i.createSubContext(t.options),s=i.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&i.transformIntoNewTimeline(o)}i.previousNode=t}visitAnimateRef(t,i){let n=i.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],i,n),this.visitReference(t.animation,n),i.transformIntoNewTimeline(n.currentTimeline.currentTime),i.previousNode=t}_applyAnimationRefDelays(t,i,n){for(let r of t){let s=r?.delay;if(s){let o=typeof s=="number"?s:bn(aa(s,r?.params??{},i.errors));n.delayNextStep(o)}}}_visitSubInstructions(t,i,n){let s=i.currentTimeline.currentTime,o=n.duration!=null?bn(n.duration):null,a=n.delay!=null?bn(n.delay):null;return o!==0&&t.forEach(l=>{let c=i.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,i){i.updateOptions(t.options,!0),ni(this,t.animation,i),i.previousNode=t}visitSequence(t,i){let n=i.subContextCount,r=i,s=t.options;if(s&&(s.params||s.delay)&&(r=i.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==re.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Bu);let o=bn(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>ni(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),i.previousNode=t}visitGroup(t,i){let n=[],r=i.currentTimeline.currentTime,s=t.options&&t.options.delay?bn(t.options.delay):0;t.steps.forEach(o=>{let a=i.createSubContext(t.options);s&&a.delayNextStep(s),ni(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>i.currentTimeline.mergeTimelineCollectedStyles(o)),i.transformIntoNewTimeline(r),i.previousNode=t}_visitTiming(t,i){if(t.dynamic){let n=t.strValue,r=i.params?aa(n,i.params,i.errors):n;return Lu(r,i.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,i){let n=i.currentAnimateTimings=this._visitTiming(t.timings,i),r=i.currentTimeline;n.delay&&(i.incrementTime(n.delay),r.snapshotCurrentStyles());let s=t.style;s.type==re.Keyframes?this.visitKeyframes(s,i):(i.incrementTime(n.duration),this.visitStyle(s,i),r.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=t}visitStyle(t,i){let n=i.currentTimeline,r=i.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,i.errors,i.options),i.previousNode=t}visitKeyframes(t,i){let n=i.currentAnimateTimings,r=i.currentTimeline.duration,s=n.duration,a=i.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,i.errors,i.options),a.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(a),i.transformIntoNewTimeline(r+s),i.previousNode=t}visitQuery(t,i){let n=i.currentTimeline.currentTime,r=t.options||{},s=r.delay?bn(r.delay):0;s&&(i.previousNode.type===re.Style||n==0&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Bu);let o=n,a=i.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,i.errors);i.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{i.currentQueryIndex=u;let d=i.createSubContext(t.options,c);s&&d.delayNextStep(s),c===i.element&&(l=d.currentTimeline),ni(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;o=Math.max(o,f)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(o),l&&(i.currentTimeline.mergeTimelineCollectedStyles(l),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=t}visitStagger(t,i){let n=i.parentContext,r=i.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(i.currentQueryTotal-1),l=o*i.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=i.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;ni(this,t.animation,i),i.previousNode=t,n.currentStaggerTime=r.currentTime-d+(r.startTime-n.currentTimeline.startTime)}},Bu={},Hf=class e{constructor(t,i,n,r,s,o,a,l){this._driver=t,this.element=i,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Hu(this._driver,i,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,i){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=bn(n.duration)),n.delay!=null&&(r.delay=bn(n.delay));let s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!i||!o.hasOwnProperty(a))&&(o[a]=aa(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let i=this.options.params;if(i){let n=t.params={};Object.keys(i).forEach(r=>{n[r]=i[r]})}}return t}createSubContext(t=null,i,n){let r=i||this.element,s=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Bu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,i,n){let r={duration:i??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},s=new Gf(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,i,n,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(YA,"."+this._enterClassName),t=t.replace(XA,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&a.length==0&&o.push(hA(i)),a}},Hu=class e{constructor(t,i,n,r){this._driver=t,this.element=i,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let i=this._keyframes.size===1&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+t),i&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,i){return this.applyStylesToKeyframe(),new e(this._driver,t,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=KA,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,i){this._localTimelineStyles.set(t,i),this._globalTimelineStyles.set(t,i),this._styleSummary.set(t,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[i,n]of this._globalTimelineStyles)this._backFill.set(i,n||qi),this._currentKeyframe.set(i,qi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,i,n,r){i&&this._previousKeyframe.set("easing",i);let s=r&&r.params||{},o=JA(t,this._globalTimelineStyles);for(let[a,l]of o){let c=aa(l,s,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??qi),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,i)=>{this._currentKeyframe.set(i,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,t)}))}snapshotCurrentStyles(){for(let[t,i]of this._localTimelineStyles)this._pendingStyles.set(t,i),this._updateStyle(t,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let i in this._currentKeyframe)t.push(i);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((i,n)=>{let r=this._styleSummary.get(n);(!r||i.time>r.time)&&this._updateStyle(n,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,i=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Fu?t.add(d):u===qi&&i.add(d)}),n||c.set("offset",l/this.duration),r.push(c)});let s=[...t.values()],o=[...i.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return tm(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},Gf=class extends Hu{constructor(t,i,n,r,s,o,a=!1){super(t,i,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:i,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&i){let s=[],o=n+i,a=i/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",Cb(a)),s.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let f=new Map(t[d]),m=f.get("offset"),v=i+m*n;f.set("offset",Cb(v/o)),s.push(f)}n=o,i=0,r="",t=s}return tm(this.element,t,this.preStyleProps,this.postStyleProps,n,i,r,!0)}};function Cb(e,t=3){let i=Math.pow(10,t-1);return Math.round(e*i)/i}function JA(e,t){let i=new Map,n;return e.forEach(r=>{if(r==="*"){n??=t.keys();for(let s of n)i.set(s,qi)}else for(let[s,o]of r)i.set(s,o)}),i}function wb(e,t,i,n,r,s,o,a,l,c,u,d,f){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:i,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}var Ff={},Gu=class{constructor(t,i,n){this._triggerName=t,this.ast=i,this._stateStyles=n}match(t,i,n,r){return eP(this.ast.matchers,t,i,n,r)}buildStyles(t,i,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(i,n):new Map}build(t,i,n,r,s,o,a,l,c,u){let d=[],f=this.ast.options&&this.ast.options.params||Ff,m=a&&a.params||Ff,v=this.buildStyles(n,m,d),S=l&&l.params||Ff,w=this.buildStyles(r,S,d),E=new Set,I=new Map,A=new Map,N=r==="void",Me={params:Ob(S,f),delay:this.ast.options?.delay},we=u?[]:_b(t,i,this.ast.animation,s,o,v,w,Me,c,d),ve=0;return we.forEach(Ie=>{ve=Math.max(Ie.duration+Ie.delay,ve)}),d.length?wb(i,this._triggerName,n,r,N,v,w,[],[],I,A,ve,d):(we.forEach(Ie=>{let wi=Ie.element,Ti=ri(I,wi,new Set);Ie.preStyleProps.forEach(pr=>Ti.add(pr));let Xv=ri(A,wi,new Set);Ie.postStyleProps.forEach(pr=>Xv.add(pr)),wi!==i&&E.add(wi)}),wb(i,this._triggerName,n,r,N,v,w,we,[...E.values()],I,A,ve))}};function eP(e,t,i,n,r){return e.some(s=>s(t,i,n,r))}function Ob(e,t){let i=b({},t);return Object.entries(e).forEach(([n,r])=>{r!=null&&(i[n]=r)}),i}var zf=class{constructor(t,i,n){this.styles=t,this.defaultParams=i,this.normalizer=n}buildStyles(t,i){let n=new Map,r=Ob(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=aa(o,r,i));let l=this.normalizer.normalizePropertyName(a,i);o=this.normalizer.normalizeStyleValue(a,l,o,i),n.set(a,o)})}),n}};function tP(e,t,i){return new jf(e,t,i)}var jf=class{constructor(t,i,n){this.name=t,this.ast=i,this._normalizer=n,this.transitionFactories=[],this.states=new Map,i.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new zf(r.style,s,n))}),yb(this.states,"true","1"),yb(this.states,"false","0"),i.transitions.forEach(r=>{this.transitionFactories.push(new Gu(t,r,this.states))}),this.fallbackTransition=iP(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,i,n,r){return this.transitionFactories.find(o=>o.match(t,i,n,r))||null}matchStyles(t,i,n){return this.fallbackTransition.buildStyles(t,i,n)}};function iP(e,t,i){let n=[(o,a)=>!0],r={type:re.Sequence,steps:[],options:null},s={type:re.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new Gu(e,s,t)}function yb(e,t,i){e.has(t)?e.has(i)||e.set(i,e.get(t)):e.has(i)&&e.set(t,e.get(i))}var nP=new la,Wf=class{constructor(t,i,n){this.bodyNode=t,this._driver=i,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,i){let n=[],r=[],s=kb(this._driver,i,n,r);if(n.length)throw vA(n);r.length&&void 0,this._animations.set(t,s)}_buildPlayer(t,i,n){let r=t.element,s=Rb(this._normalizer,t.keyframes,i,n);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,i,n={}){let r=[],s=this._animations.get(t),o,a=new Map;if(s?(o=_b(this._driver,i,s,Tb,kf,new Map,new Map,n,nP,r),o.forEach(u=>{let d=ri(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(CA()),o=[]),r.length)throw wA(r);a.forEach((u,d)=>{u.forEach((f,m)=>{u.set(m,this._driver.computeStyle(d,m,qi))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Jn(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let i=this._getPlayer(t);i.destroy(),this._playersById.delete(t);let n=this.players.indexOf(i);n>=0&&this.players.splice(n,1)}_getPlayer(t){let i=this._playersById.get(t);if(!i)throw yA(t);return i}listen(t,i,n,r){let s=Yf(i,"","","");return Qf(this._getPlayer(t),n,s,r),()=>{}}command(t,i,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let o=r[0]||{};this.create(t,i,o);return}let s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},Sb="ng-animate-queued",rP=".ng-animate-queued",Tf="ng-animate-disabled",sP=".ng-animate-disabled",oP="ng-star-inserted",aP=".ng-star-inserted",lP=[],Lb={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cP={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ri="__ng_removed",ca=class{get params(){return this.options.params}constructor(t,i=""){this.namespaceId=i;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=dP(r),n){let s=t,{value:o}=s,a=ml(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let i=t.params;if(i){let n=this.options.params;Object.keys(i).forEach(r=>{n[r]==null&&(n[r]=i[r])})}}},oa="void",Af=new ca(oa),Uf=class{constructor(t,i,n){this.id=t,this.hostElement=i,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,fi(i,this._hostClassName)}listen(t,i,n,r){if(!this._triggers.has(i))throw SA(n,i);if(n==null||n.length==0)throw bA(i);if(!hP(n))throw EA(n,i);let s=ri(this._elementListeners,t,[]),o={name:i,phase:n,callback:r};s.push(o);let a=ri(this._engine.statesByElement,t,new Map);return a.has(i)||(fi(t,Tu),fi(t,Tu+"-"+i),a.set(i,Af)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(i)||a.delete(i)})}}register(t,i){return this._triggers.has(t)?!1:(this._triggers.set(t,i),!0)}_getTrigger(t){let i=this._triggers.get(t);if(!i)throw DA(t);return i}trigger(t,i,n,r=!0){let s=this._getTrigger(i),o=new ua(this.id,i,t),a=this._engine.statesByElement.get(t);a||(fi(t,Tu),fi(t,Tu+"-"+i),this._engine.statesByElement.set(t,a=new Map));let l=a.get(i),c=new ca(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(i,c),l||(l=Af),!(c.value===oa)&&l.value===c.value){if(!fP(l.params,c.params)){let S=[],w=s.matchStyles(l.value,l.params,S),E=s.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{Gr(t,w),Ki(t,E)})}return}let f=ri(this._engine.playersByElement,t,[]);f.forEach(S=>{S.namespaceId==this.id&&S.triggerName==i&&S.queued&&S.destroy()});let m=s.matchTransition(l.value,c.value,t,c.params),v=!1;if(!m){if(!r)return;m=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:m,fromState:l,toState:c,player:o,isFallbackTransition:v}),v||(fi(t,Sb),o.onStart(()=>{js(t,Sb)})),o.onDone(()=>{let S=this.players.indexOf(o);S>=0&&this.players.splice(S,1);let w=this._engine.playersByElement.get(t);if(w){let E=w.indexOf(o);E>=0&&w.splice(E,1)}}),this.players.push(o),f.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(i=>i.delete(t)),this._elementListeners.forEach((i,n)=>{this._elementListeners.set(n,i.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let i=this._engine.playersByElement.get(t);i&&(i.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,i){let n=this._engine.driver.query(t,Ou,!0);n.forEach(r=>{if(r[Ri])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,i,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,i,n,r){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,oa,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,i,o),n&&Jn(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let i=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(i&&n){let r=new Set;i.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=n.get(o)||Af,u=new ca(oa),d=new ua(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,i){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,i),this.triggerLeaveAnimation(t,i,!0))return;let r=!1;if(n.totalAnimations){let s=n.players.length?n.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,i);else{let s=t[Ri];(!s||s===Lb)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,i))}}insertNode(t,i){fi(t,this._hostClassName)}drainQueuedTransitions(t){let i=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){let l=Yf(s,n.triggerName,n.fromState.value,n.toState.value);l._data=t,Qf(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):i.push(n)}),this._queue=[],i.sort((n,r)=>{let s=n.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},$f=class{_onRemovalComplete(t,i){this.onRemovalComplete(t,i)}constructor(t,i,n){this.bodyNode=t,this.driver=i,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(i=>{i.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,i){let n=new Uf(t,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(n,i):(this.newHostElements.set(i,n),this.collectEnterElement(i)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,i){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(i);for(;a;){let l=r.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(t)}else n.push(t);return r.set(i,t),t}register(t,i){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,i)),n}registerTrigger(t,i,n){let r=this._namespaceLookup[t];r&&r.register(i,n)&&this.totalAnimations++}destroy(t,i){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(i),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let i=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&i.add(s)}}return i}trigger(t,i,n,r){if(ku(i)){let s=this._fetchNamespace(t);if(s)return s.trigger(i,n,r),!0}return!1}insertNode(t,i,n,r){if(!ku(i))return;let s=i[Ri];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(i);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(i,n)}r&&this.collectEnterElement(i)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,i){i?this.disabledNodes.has(t)||(this.disabledNodes.add(t),fi(t,Tf)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),js(t,Tf))}removeNode(t,i,n){if(ku(i)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(i,n):this.markElementAsRemoved(t,i,!1,n);let s=this.namespacesByHostElement.get(i);s&&s.id!==t&&s.removeNode(i,n)}else this._onRemovalComplete(i,n)}markElementAsRemoved(t,i,n,r,s){this.collectedLeaveElements.push(i),i[Ri]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,i,n,r,s){return ku(i)?this._fetchNamespace(t).listen(i,n,r,s):()=>{}}_buildInstruction(t,i,n,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,i,s)}destroyInnerAnimations(t){let i=this.driver.query(t,Ou,!0);i.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(i=this.driver.query(t,_f,!0),i.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let i=this.playersByElement.get(t);i&&i.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let i=this.playersByQueriedElement.get(t);i&&i.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Jn(this.players).onDone(()=>t());t()})}processLeaveNode(t){let i=t[Ri];if(i&&i.setForRemoval){if(t[Ri]=Lb,i.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(i.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}t.classList?.contains(Tf)&&this.markElementAsDisabled(t,!1),this.driver.query(t,sP,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];fi(r,oP)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{i=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],i.length?Jn(i).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw xA(t)}_flushAnimations(t,i){let n=new la,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(H=>{u.add(H);let W=this.driver.query(H,rP,!0);for(let K=0;K<W.length;K++)u.add(W[K])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=Db(f,this.collectedEnterElements),v=new Map,S=0;m.forEach((H,W)=>{let K=Tb+S++;v.set(W,K),H.forEach(ye=>fi(ye,K))});let w=[],E=new Set,I=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){let W=this.collectedLeaveElements[H],K=W[Ri];K&&K.setForRemoval&&(w.push(W),E.add(W),K.hasAnimation?this.driver.query(W,aP,!0).forEach(ye=>E.add(ye)):I.add(W))}let A=new Map,N=Db(f,Array.from(E));N.forEach((H,W)=>{let K=kf+S++;A.set(W,K),H.forEach(ye=>fi(ye,K))}),t.push(()=>{m.forEach((H,W)=>{let K=v.get(W);H.forEach(ye=>js(ye,K))}),N.forEach((H,W)=>{let K=A.get(W);H.forEach(ye=>js(ye,K))}),w.forEach(H=>{this.processLeaveNode(H)})});let Me=[],we=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(i).forEach(K=>{let ye=K.player,ot=K.element;if(Me.push(ye),this.collectedEnterElements.length){let vt=ot[Ri];if(vt&&vt.setForMove){if(vt.previousTriggersValues&&vt.previousTriggersValues.has(K.triggerName)){let gr=vt.previousTriggersValues.get(K.triggerName),li=this.statesByElement.get(K.element);if(li&&li.has(K.triggerName)){let gl=li.get(K.triggerName);gl.value=gr,li.set(K.triggerName,gl)}}ye.destroy();return}}let Ai=!d||!this.driver.containsElement(d,ot),jt=A.get(ot),In=v.get(ot),ze=this._buildInstruction(K,n,In,jt,Ai);if(ze.errors&&ze.errors.length){we.push(ze);return}if(Ai){ye.onStart(()=>Gr(ot,ze.fromStyles)),ye.onDestroy(()=>Ki(ot,ze.toStyles)),r.push(ye);return}if(K.isFallbackTransition){ye.onStart(()=>Gr(ot,ze.fromStyles)),ye.onDestroy(()=>Ki(ot,ze.toStyles)),r.push(ye);return}let tC=[];ze.timelines.forEach(vt=>{vt.stretchStartingKeyframe=!0,this.disabledNodes.has(vt.element)||tC.push(vt)}),ze.timelines=tC,n.append(ot,ze.timelines);let ox={instruction:ze,player:ye,element:ot};o.push(ox),ze.queriedElements.forEach(vt=>ri(a,vt,[]).push(ye)),ze.preStyleProps.forEach((vt,gr)=>{if(vt.size){let li=l.get(gr);li||l.set(gr,li=new Set),vt.forEach((gl,eh)=>li.add(eh))}}),ze.postStyleProps.forEach((vt,gr)=>{let li=c.get(gr);li||c.set(gr,li=new Set),vt.forEach((gl,eh)=>li.add(eh))})});if(we.length){let H=[];we.forEach(W=>{H.push(RA(W.triggerName,W.errors))}),Me.forEach(W=>W.destroy()),this.reportError(H)}let ve=new Map,Ie=new Map;o.forEach(H=>{let W=H.element;n.has(W)&&(Ie.set(W,W),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,ve))}),r.forEach(H=>{let W=H.element;this._getPreviousPlayers(W,!1,H.namespaceId,H.triggerName,null).forEach(ye=>{ri(ve,W,[]).push(ye),ye.destroy()})});let wi=w.filter(H=>xb(H,l,c)),Ti=new Map;Eb(Ti,this.driver,I,c,qi).forEach(H=>{xb(H,l,c)&&wi.push(H)});let pr=new Map;m.forEach((H,W)=>{Eb(pr,this.driver,new Set(H),l,Fu)}),wi.forEach(H=>{let W=Ti.get(H),K=pr.get(H);Ti.set(H,new Map([...W?.entries()??[],...K?.entries()??[]]))});let Jd=[],Jv=[],eC={};o.forEach(H=>{let{element:W,player:K,instruction:ye}=H;if(n.has(W)){if(u.has(W)){K.onDestroy(()=>Ki(W,ye.toStyles)),K.disabled=!0,K.overrideTotalTime(ye.totalTime),r.push(K);return}let ot=eC;if(Ie.size>1){let jt=W,In=[];for(;jt=jt.parentNode;){let ze=Ie.get(jt);if(ze){ot=ze;break}In.push(jt)}In.forEach(ze=>Ie.set(ze,ot))}let Ai=this._buildAnimation(K.namespaceId,ye,ve,s,pr,Ti);if(K.setRealPlayer(Ai),ot===eC)Jd.push(K);else{let jt=this.playersByElement.get(ot);jt&&jt.length&&(K.parentPlayer=Jn(jt)),r.push(K)}}else Gr(W,ye.fromStyles),K.onDestroy(()=>Ki(W,ye.toStyles)),Jv.push(K),u.has(W)&&r.push(K)}),Jv.forEach(H=>{let W=s.get(H.element);if(W&&W.length){let K=Jn(W);H.setRealPlayer(K)}}),r.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<w.length;H++){let W=w[H],K=W[Ri];if(js(W,kf),K&&K.hasAnimation)continue;let ye=[];if(a.size){let Ai=a.get(W);Ai&&Ai.length&&ye.push(...Ai);let jt=this.driver.query(W,_f,!0);for(let In=0;In<jt.length;In++){let ze=a.get(jt[In]);ze&&ze.length&&ye.push(...ze)}}let ot=ye.filter(Ai=>!Ai.destroyed);ot.length?pP(this,W,ot):this.processLeaveNode(W)}return w.length=0,Jd.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();let W=this.players.indexOf(H);this.players.splice(W,1)}),H.play()}),Jd}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,i,n,r,s){let o=[];if(i){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==oa;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,i,n){let r=i.triggerName,s=i.element,o=i.isRemovalTransition?void 0:t,a=i.isRemovalTransition?void 0:r;for(let l of i.timelines){let c=l.element,u=c!==s,d=ri(n,c,[]);this._getPreviousPlayers(c,u,o,a,i.toState).forEach(m=>{let v=m.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),m.destroy(),d.push(m)})}Gr(s,i.fromStyles)}_buildAnimation(t,i,n,r,s,o){let a=i.triggerName,l=i.element,c=[],u=new Set,d=new Set,f=i.timelines.map(v=>{let S=v.element;u.add(S);let w=S[Ri];if(w&&w.removedBeforeQueried)return new Xn(v.duration,v.delay);let E=S!==l,I=gP((n.get(S)||lP).map(ve=>ve.getRealPlayer())).filter(ve=>{let Ie=ve;return Ie.element?Ie.element===S:!1}),A=s.get(S),N=o.get(S),Me=Rb(this._normalizer,v.keyframes,A,N),we=this._buildPlayer(v,Me,I);if(v.subTimeline&&r&&d.add(S),E){let ve=new ua(t,a,S);ve.setRealPlayer(we),c.push(ve)}return we});c.forEach(v=>{ri(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>uP(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>fi(v,fb));let m=Jn(f);return m.onDestroy(()=>{u.forEach(v=>js(v,fb)),Ki(l,i.toStyles)}),d.forEach(v=>{ri(r,v,[]).push(m)}),m}_buildPlayer(t,i,n){return i.length>0?this.driver.animate(t.element,i,t.duration,t.delay,t.easing,n):new Xn(t.duration,t.delay)}},ua=class{constructor(t,i,n){this.namespaceId=t,this.triggerName=i,this.element=n,this._player=new Xn,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((i,n)=>{i.forEach(r=>Qf(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let i=this._player;i.triggerCallback&&t.onStart(()=>i.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,i){ri(this._queuedCallbacks,t,[]).push(i)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let i=this._player;i.triggerCallback&&i.triggerCallback(t)}};function uP(e,t,i){let n=e.get(t);if(n){if(n.length){let r=n.indexOf(i);n.splice(r,1)}n.length==0&&e.delete(t)}return n}function dP(e){return e??null}function ku(e){return e&&e.nodeType===1}function hP(e){return e=="start"||e=="done"}function bb(e,t){let i=e.style.display;return e.style.display=t??"none",i}function Eb(e,t,i,n,r){let s=[];i.forEach(l=>s.push(bb(l)));let o=[];n.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let f=t.computeStyle(c,d,r);u.set(d,f),(!f||f.length==0)&&(c[Ri]=cP,o.push(c))}),e.set(c,u)});let a=0;return i.forEach(l=>bb(l,s[a++])),o}function Db(e,t){let i=new Map;if(e.forEach(a=>i.set(a,[])),t.length==0)return i;let n=1,r=new Set(t),s=new Map;function o(a){if(!a)return n;let l=s.get(a);if(l)return l;let c=a.parentNode;return i.has(c)?l=c:r.has(c)?l=n:l=o(c),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==n&&i.get(l).push(a)}),i}function fi(e,t){e.classList?.add(t)}function js(e,t){e.classList?.remove(t)}function pP(e,t,i){Jn(i).onDone(()=>e.processLeaveNode(t))}function gP(e){let t=[];return Nb(e,t),t}function Nb(e,t){for(let i=0;i<e.length;i++){let n=e[i];n instanceof ra?Nb(n.players,t):t.push(n)}}function fP(e,t){let i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let r=0;r<i.length;r++){let s=i[r];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}function xb(e,t,i){let n=i.get(e);if(!n)return!1;let r=t.get(e);return r?n.forEach(s=>r.add(s)):t.set(e,n),i.delete(e),!0}var Us=class{constructor(t,i,n){this._driver=i,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new $f(t.body,i,n),this._timelineEngine=new Wf(t.body,i,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,i,n,r,s){let o=t+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=kb(this._driver,s,l,c);if(l.length)throw fA(r,l);c.length&&void 0,a=tP(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(i,r,a)}register(t,i){this._transitionEngine.register(t,i)}destroy(t,i){this._transitionEngine.destroy(t,i)}onInsert(t,i,n,r){this._transitionEngine.insertNode(t,i,n,r)}onRemove(t,i,n){this._transitionEngine.removeNode(t,i,n)}disableAnimations(t,i){this._transitionEngine.markElementAsDisabled(t,i)}process(t,i,n,r){if(n.charAt(0)=="@"){let[s,o]=pb(n),a=r;this._timelineEngine.command(s,i,o,a)}else this._transitionEngine.trigger(t,i,n,r)}listen(t,i,n,r,s){if(n.charAt(0)=="@"){let[o,a]=pb(n);return this._timelineEngine.listen(o,i,a,s)}return this._transitionEngine.listen(t,i,n,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function mP(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=Pf(t[0]),t.length>1&&(n=Pf(t[t.length-1]))):t instanceof Map&&(i=Pf(t)),i||n?new qf(e,i,n):null}var Ws=class Ws{constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n,this._state=0;let r=Ws.initialStylesByElement.get(t);r||Ws.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ki(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ki(this._element,this._initialStyles),this._endStyles&&(Ki(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ws.initialStylesByElement.delete(this._element),this._startStyles&&(Gr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gr(this._element,this._endStyles),this._endStyles=null),Ki(this._element,this._initialStyles),this._state=3)}};Ws.initialStylesByElement=new WeakMap;var qf=Ws;function Pf(e){let t=null;return e.forEach((i,n)=>{vP(n)&&(t=t||new Map,t.set(n,i))}),t}function vP(e){return e==="display"||e==="position"}var zu=class{constructor(t,i,n,r){this.element=t,this.keyframes=i,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let i=[];return t.forEach(n=>{i.push(Object.fromEntries(n))}),i}_triggerWebAnimation(t,i,n){return t.animate(this._convertKeyframesToObject(i),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:em(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let i=t==="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},ju=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,i){return Mb(t,i)}getParentElement(t){return Zf(t)}query(t,i,n){return Ib(t,i,n)}computeStyle(t,i,n){return em(t,i)}animate(t,i,n,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(m=>m instanceof zu);NA(n,r)&&u.forEach(m=>{m.currentSnapshot.forEach((v,S)=>c.set(S,v))});let d=_A(i).map(m=>new Map(m));d=VA(t,d,c);let f=mP(t,d);return new zu(t,d,l,f)}};var _u="@",Vb="@.disabled",Wu=class{constructor(t,i,n,r){this.namespaceId=t,this.delegate=i,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,i){this.delegate.appendChild(t,i),this.engine.onInsert(this.namespaceId,i,t,!1)}insertBefore(t,i,n,r=!0){this.delegate.insertBefore(t,i,n),this.engine.onInsert(this.namespaceId,i,t,r)}removeChild(t,i,n){this.parentNode(i)&&this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,r){this.delegate.setAttribute(t,i,n,r)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,r){this.delegate.setStyle(t,i,n,r)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){i.charAt(0)==_u&&i==Vb?this.disableAnimations(t,!!n):this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n){return this.delegate.listen(t,i,n)}disableAnimations(t,i){this.engine.disableAnimations(t,i)}},Kf=class extends Wu{constructor(t,i,n,r,s){super(i,n,r,s),this.factory=t,this.namespaceId=i}setProperty(t,i,n){i.charAt(0)==_u?i.charAt(1)=="."&&i==Vb?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,i.slice(1),n):this.delegate.setProperty(t,i,n)}listen(t,i,n){if(i.charAt(0)==_u){let r=CP(t),s=i.slice(1),o="";return s.charAt(0)!=_u&&([s,o]=wP(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(t,i,n)}};function CP(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}function wP(e){let t=e.indexOf("."),i=e.substring(0,t),n=e.slice(t+1);return[i,n]}var Uu=class{constructor(t,i,n){this.delegate=t,this.engine=i,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(t,i){let n="",r=this.delegate.createRenderer(t,i);if(!t||!i?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new Wu(n,r,this.engine,d),c.set(r,u)}return u}let s=i.id,o=i.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return i.data.animation.forEach(a),new Kf(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>i(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([i,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var SP=(()=>{let t=class t extends Us{constructor(n,r,s){super(n,r,s)}ngOnDestroy(){this.flush()}};t.\u0275fac=function(r){return new(r||t)(_(Oe),_(zr),_(jr))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();function bP(){return new Nu}function EP(e,t,i){return new Uu(e,t,i)}var Hb=[{provide:jr,useFactory:bP},{provide:Us,useClass:SP},{provide:jn,useFactory:EP,deps:[xu,Us,fe]}],Bb=[{provide:zr,useFactory:()=>new ju},{provide:vg,useValue:"BrowserAnimations"},...Hb],DP=[{provide:zr,useClass:Xf},{provide:vg,useValue:"NoopAnimations"},...Hb],Gb=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?DP:Bb}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Be({type:t}),t.\u0275inj=Ve({providers:Bb,imports:[Mu]});let e=t;return e})();var oe="primary",Da=Symbol("RouteTitle"),am=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Zs(e){return new am(e)}function xP(e,t,i){let n=i.path.split("/");if(n.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],a=e[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function RP(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Qi(e[i],t[i]))return!1;return!0}function Qi(e,t){let i=e?lm(e):void 0,n=t?lm(t):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!Xb(e[r],t[r]))return!1;return!0}function lm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Xb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),n=[...t].sort();return i.every((r,s)=>n[s]===r)}else return e===t}function Jb(e){return e.length>0?e[e.length-1]:null}function tr(e){return Eh(e)?e:Nr(e)?Fe(Promise.resolve(e)):Q(e)}var MP={exact:t1,subset:i1},e1={exact:IP,subset:FP,ignored:()=>!0};function zb(e,t,i){return MP[i.paths](e.root,t.root,i.matrixParams)&&e1[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function IP(e,t){return Qi(e,t)}function t1(e,t,i){if(!Ur(e.segments,t.segments)||!Ku(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!t1(e.children[n],t.children[n],i))return!1;return!0}function FP(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>Xb(e[i],t[i]))}function i1(e,t,i){return n1(e,t,t.segments,i)}function n1(e,t,i,n){if(e.segments.length>i.length){let r=e.segments.slice(0,i.length);return!(!Ur(r,i)||t.hasChildren()||!Ku(r,i,n))}else if(e.segments.length===i.length){if(!Ur(e.segments,i)||!Ku(e.segments,i,n))return!1;for(let r in t.children)if(!e.children[r]||!i1(e.children[r],t.children[r],n))return!1;return!0}else{let r=i.slice(0,e.segments.length),s=i.slice(e.segments.length);return!Ur(e.segments,r)||!Ku(e.segments,r,n)||!e.children[oe]?!1:n1(e.children[oe],t,s,n)}}function Ku(e,t,i){return t.every((n,r)=>e1[i](e[r].parameters,n.parameters))}var Dn=class{constructor(t=new xe([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Zs(this.queryParams),this._queryParamMap}toString(){return PP.serialize(this)}},xe=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qu(this)}},Wr=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=Zs(this.parameters),this._parameterMap}toString(){return s1(this)}};function TP(e,t){return Ur(e,t)&&e.every((i,n)=>Qi(i.parameters,t[n].parameters))}function Ur(e,t){return e.length!==t.length?!1:e.every((i,n)=>i.path===t[n].path)}function AP(e,t){let i=[];return Object.entries(e.children).forEach(([n,r])=>{n===oe&&(i=i.concat(t(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==oe&&(i=i.concat(t(r,n)))}),i}var xa=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>new Xs,providedIn:"root"});let e=t;return e})(),Xs=class{parse(t){let i=new um(t);return new Dn(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${da(t.root,!0)}`,n=OP(t.queryParams),r=typeof t.fragment=="string"?`#${kP(t.fragment)}`:"";return`${i}${n}${r}`}},PP=new Xs;function Qu(e){return e.segments.map(t=>s1(t)).join("/")}function da(e,t){if(!e.hasChildren())return Qu(e);if(t){let i=e.children[oe]?da(e.children[oe],!1):"",n=[];return Object.entries(e.children).forEach(([r,s])=>{r!==oe&&n.push(`${r}:${da(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=AP(e,(n,r)=>r===oe?[da(e.children[oe],!1)]:[`${r}:${da(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[oe]!=null?`${Qu(e)}/${i[0]}`:`${Qu(e)}/(${i.join("//")})`}}function r1(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $u(e){return r1(e).replace(/%3B/gi,";")}function kP(e){return encodeURI(e)}function cm(e){return r1(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yu(e){return decodeURIComponent(e)}function jb(e){return Yu(e.replace(/\+/g,"%20"))}function s1(e){return`${cm(e.path)}${_P(e.parameters)}`}function _P(e){return Object.entries(e).map(([t,i])=>`;${cm(t)}=${cm(i)}`).join("")}function OP(e){let t=Object.entries(e).map(([i,n])=>Array.isArray(n)?n.map(r=>`${$u(i)}=${$u(r)}`).join("&"):`${$u(i)}=${$u(n)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var LP=/^[^\/()?;#]+/;function nm(e){let t=e.match(LP);return t?t[0]:""}var NP=/^[^\/()?;=#]+/;function VP(e){let t=e.match(NP);return t?t[0]:""}var BP=/^[^=?&#]+/;function HP(e){let t=e.match(BP);return t?t[0]:""}var GP=/^[^&#]+/;function zP(e){let t=e.match(GP);return t?t[0]:""}var um=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[oe]=new xe(t,i)),n}parseSegment(){let t=nm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(t),new Wr(Yu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=VP(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=nm(this.remaining);r&&(n=r,this.capture(n))}t[Yu(i)]=Yu(n)}parseQueryParam(t){let i=HP(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=zP(this.remaining);o&&(n=o,this.capture(n))}let r=jb(i),s=jb(n);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=nm(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new R(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=oe);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[oe]:new xe([],o),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new R(4011,!1)}};function o1(e){return e.segments.length>0?new xe([],{[oe]:e}):e}function a1(e){let t={};for(let[n,r]of Object.entries(e.children)){let s=a1(r);if(n===oe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}let i=new xe(e.segments,t);return jP(i)}function jP(e){if(e.numberOfChildren===1&&e.children[oe]){let t=e.children[oe];return new xe(e.segments.concat(t.segments),t.children)}return e}function $r(e){return e instanceof Dn}function WP(e,t,i=null,n=null){let r=l1(e);return c1(r,t,i,n)}function l1(e){let t;function i(s){let o={};for(let l of s.children){let c=i(l);o[l.outlet]=c}let a=new xe(s.url,o);return s===e&&(t=a),a}let n=i(e.root),r=o1(n);return t??r}function c1(e,t,i,n){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return rm(r,r,r,i,n);let s=UP(t);if(s.toRoot())return rm(r,r,new xe([],{}),i,n);let o=$P(s,r,e),a=o.processChildren?ga(o.segmentGroup,o.index,s.commands):d1(o.segmentGroup,o.index,s.commands);return rm(r,o.segmentGroup,a,i,n)}function Zu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function va(e){return typeof e=="object"&&e!=null&&e.outlets}function rm(e,t,i,n,r){let s={};n&&Object.entries(n).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;e===t?o=i:o=u1(e,t,i);let a=o1(a1(o));return new Dn(a,s,r)}function u1(e,t,i){let n={};return Object.entries(e.children).forEach(([r,s])=>{s===t?n[r]=i:n[r]=u1(s,t,i)}),new xe(e.segments,n)}var Xu=class{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&Zu(n[0]))throw new R(4003,!1);let r=n.find(va);if(r&&r!==Jb(n))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function UP(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Xu(!0,0,e);let t=0,i=!1,n=e.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Xu(i,t,n)}var Ks=class{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}};function $P(e,t,i){if(e.isAbsolute)return new Ks(t,!0,0);if(!i)return new Ks(t,!1,NaN);if(i.parent===null)return new Ks(i,!0,0);let n=Zu(e.commands[0])?0:1,r=i.segments.length-1+n;return qP(i,r,e.numberOfDoubleDots)}function qP(e,t,i){let n=e,r=t,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new R(4005,!1);r=n.segments.length}return new Ks(n,!1,r-s)}function KP(e){return va(e[0])?e[0].outlets:{[oe]:e}}function d1(e,t,i){if(e??=new xe([],{}),e.segments.length===0&&e.hasChildren())return ga(e,t,i);let n=QP(e,t,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let s=new xe(e.segments.slice(0,n.pathIndex),{});return s.children[oe]=new xe(e.segments.slice(n.pathIndex),e.children),ga(s,0,r)}else return n.match&&r.length===0?new xe(e.segments,{}):n.match&&!e.hasChildren()?dm(e,t,i):n.match?ga(e,0,r):dm(e,t,i)}function ga(e,t,i){if(i.length===0)return new xe(e.segments,{});{let n=KP(i),r={};if(Object.keys(n).some(s=>s!==oe)&&e.children[oe]&&e.numberOfChildren===1&&e.children[oe].segments.length===0){let s=ga(e.children[oe],t,i);return new xe(e.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=d1(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new xe(e.segments,r)}}function QP(e,t,i){let n=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=i.length)return s;let o=e.segments[r],a=i[n];if(va(a))break;let l=`${a}`,c=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Ub(l,c,o))return s;n+=2}else{if(!Ub(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function dm(e,t,i){let n=e.segments.slice(0,t),r=0;for(;r<i.length;){let s=i[r];if(va(s)){let l=YP(s.outlets);return new xe(n,l)}if(r===0&&Zu(i[0])){let l=e.segments[t];n.push(new Wr(l.path,Wb(i[0]))),r++;continue}let o=va(s)?s.outlets[oe]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&Zu(a)?(n.push(new Wr(o,Wb(a))),r+=2):(n.push(new Wr(o,{})),r++)}return new xe(n,{})}function YP(e){let t={};return Object.entries(e).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[i]=dm(new xe([],{}),0,n))}),t}function Wb(e){let t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function Ub(e,t,i){return e==i.path&&Qi(t,i.parameters)}var fa="imperative",lt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(lt||{}),mi=class{constructor(t,i){this.id=t,this.url=i}},Js=class extends mi{constructor(t,i,n="imperative",r=null){super(t,i),this.type=lt.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yi=class extends mi{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},oi=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(oi||{}),Ju=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ju||{}),En=class extends mi{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},er=class extends mi{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=lt.NavigationSkipped}},Ca=class extends mi{constructor(t,i,n,r){super(t,i),this.error=n,this.target=r,this.type=lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ed=class extends mi{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hm=class extends mi{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pm=class extends mi{constructor(t,i,n,r,s){super(t,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gm=class extends mi{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fm=class extends mi{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mm=class{constructor(t){this.route=t,this.type=lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vm=class{constructor(t){this.route=t,this.type=lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cm=class{constructor(t){this.snapshot=t,this.type=lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wm=class{constructor(t){this.snapshot=t,this.type=lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ym=class{constructor(t){this.snapshot=t,this.type=lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sm=class{constructor(t){this.snapshot=t,this.type=lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},td=class{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=lt.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},wa=class{},eo=class{constructor(t,i){this.url=t,this.navigationBehaviorOptions=i}};function ZP(e,t){return e.providers&&!e._injector&&(e._injector=au(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Mi(e){return e.outlet||oe}function XP(e,t){let i=e.filter(n=>Mi(n)===t);return i.push(...e.filter(n=>Mi(n)!==t)),i}function Ra(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var bm=class{get injector(){return Ra(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Ma(this.rootInjector),this.attachRef=null}},Ma=(()=>{let t=class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new bm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(r){return new(r||t)(_(Rt))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),id=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=Em(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){let i=Em(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=Dm(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Dm(t,this._root).map(i=>i.value)}};function Em(e,t){if(e===t.value)return t;for(let i of t.children){let n=Em(e,i);if(n)return n}return null}function Dm(e,t){if(e===t.value)return[t];for(let i of t.children){let n=Dm(e,i);if(n.length)return n.unshift(t),n}return[]}var si=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function qs(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var nd=class extends id{constructor(t,i){super(t),this.snapshot=i,km(this,t)}toString(){return this.snapshot.toString()}};function h1(e){let t=JP(e),i=new dt([new Wr("",{})]),n=new dt({}),r=new dt({}),s=new dt({}),o=new dt(""),a=new Ze(i,n,s,o,r,oe,e,t.root);return a.snapshot=t.root,new nd(new si(a,[]),t)}function JP(e){let t={},i={},n={},r="",s=new Qs([],t,n,r,i,oe,e,null,{});return new sd("",new si(s,[]))}var Ze=class{constructor(t,i,n,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ee(c=>c[Da]))??Q(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(t=>Zs(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(t=>Zs(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rd(e,t,i="emptyOnly"){let n,{routeConfig:r}=e;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:b(b({},t.params),e.params),data:b(b({},t.data),e.data),resolve:b(b(b(b({},e.data),t.data),r?.data),e._resolvedData)}:n={params:b({},e.params),data:b({},e.data),resolve:b(b({},e.data),e._resolvedData??{})},r&&g1(r)&&(n.resolve[Da]=r.title),n}var Qs=class{get title(){return this.data?.[Da]}constructor(t,i,n,r,s,o,a,l,c){this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zs(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},sd=class extends id{constructor(t,i){super(i),this.url=t,km(this,i)}toString(){return p1(this._root)}};function km(e,t){t.value._routerState=e,t.children.forEach(i=>km(e,i))}function p1(e){let t=e.children.length>0?` { ${e.children.map(p1).join(", ")} } `:"";return`${e.value}${t}`}function sm(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Qi(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),Qi(t.params,i.params)||e.paramsSubject.next(i.params),RP(t.url,i.url)||e.urlSubject.next(i.url),Qi(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function xm(e,t){let i=Qi(e.params,t.params)&&TP(e.url,t.url),n=!e.parent!=!t.parent;return i&&!n&&(!e.parent||xm(e.parent,t.parent))}function g1(e){return typeof e.title=="string"||e.title===null}var Ia=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new ce,this.deactivateEvents=new ce,this.attachEvents=new ce,this.detachEvents=new ce,this.parentContexts=x(Ma),this.location=x(ji),this.changeDetector=x(Cn),this.inputBinder=x(ud,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Rm(n,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=de({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gt]});let e=t;return e})(),Rm=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===Ze?this.route:t===Ma?this.childContexts:this.parent.get(t,i)}},ud=new V(""),$b=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,s=Io([r.queryParams,r.params,r.data]).pipe(kt(([o,a,l],c)=>(l=b(b(b({},o),a),l),c===0?Q(l):Promise.resolve(l)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=AS(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(n,s)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();function ek(e,t,i){let n=ya(e,t._root,i?i._root:void 0);return new nd(n,t)}function ya(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=t.value;let r=tk(e,t,i);return new si(n,r)}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>ya(e,a)),o}}let n=ik(t.value),r=t.children.map(s=>ya(e,s));return new si(n,r)}}function tk(e,t,i){return t.children.map(n=>{for(let r of i.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return ya(e,n,r);return ya(e,n)})}function ik(e){return new Ze(new dt(e.url),new dt(e.params),new dt(e.queryParams),new dt(e.fragment),new dt(e.data),e.outlet,e.component,e)}var Sa=class{constructor(t,i){this.redirectTo=t,this.navigationBehaviorOptions=i}},f1="ngNavigationCancelingError";function od(e,t){let{redirectTo:i,navigationBehaviorOptions:n}=$r(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=m1(!1,oi.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function m1(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[f1]=!0,i.cancellationCode=t,i}function nk(e){return v1(e)&&$r(e.url)}function v1(e){return!!e&&e[f1]}var rk=(e,t,i,n)=>ee(r=>(new Mm(t,r.targetRouterState,r.currentRouterState,i,n).activate(e),r)),Mm=class{constructor(t,i,n,r,s){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),sm(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){let r=qs(i);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,i,n){let r=t.value,s=i?i.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,i,o.children)}else this.deactivateChildRoutes(t,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,s=qs(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,s=qs(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){let r=qs(i);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new Sm(s.value.snapshot))}),t.children.length&&this.forwardEvent(new wm(t.value.snapshot))}activateRoutes(t,i,n){let r=t.value,s=i?i.value:null;if(sm(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,o.children)}else this.activateChildRoutes(t,i,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sm(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)}},ad=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ys=class{constructor(t,i){this.component=t,this.route=i}};function sk(e,t,i){let n=e._root,r=t?t._root:null;return ha(n,r,i,[n.value])}function ok(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function io(e,t){let i=Symbol(),n=t.get(e,i);return n===i?typeof e=="function"&&!z0(e)?e:t.get(e):n}function ha(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=qs(t);return e.children.forEach(o=>{ak(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ma(a,i.getContext(o),r)),r}function ak(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,o=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=lk(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ad(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ha(e,t,a?a.children:null,n,r):ha(e,t,i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ys(a.outlet.component,o))}else o&&ma(t,a,r),r.canActivateChecks.push(new ad(n)),s.component?ha(e,null,a?a.children:null,n,r):ha(e,null,i,n,r);return r}function lk(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!Ur(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ur(e.url,t.url)||!Qi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xm(e,t)||!Qi(e.queryParams,t.queryParams);case"paramsChange":default:return!xm(e,t)}}function ma(e,t,i){let n=qs(e),r=e.value;Object.entries(n).forEach(([s,o])=>{r.component?t?ma(o,t.children.getContext(s),i):ma(o,null,i):ma(o,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new Ys(t.outlet.component,r)):i.canDeactivateChecks.push(new Ys(null,r)):i.canDeactivateChecks.push(new Ys(null,r))}function Fa(e){return typeof e=="function"}function ck(e){return typeof e=="boolean"}function uk(e){return e&&Fa(e.canLoad)}function dk(e){return e&&Fa(e.canActivate)}function hk(e){return e&&Fa(e.canActivateChild)}function pk(e){return e&&Fa(e.canDeactivate)}function gk(e){return e&&Fa(e.canMatch)}function C1(e){return e instanceof rn||e?.name==="EmptyError"}var qu=Symbol("INITIAL_VALUE");function to(){return kt(e=>Io(e.map(t=>t.pipe(on(1),To(qu)))).pipe(ee(t=>{for(let i of t)if(i!==!0){if(i===qu)return qu;if(i===!1||fk(i))return i}return!0}),Ct(t=>t!==qu),on(1)))}function fk(e){return $r(e)||e instanceof Sa}function mk(e,t){return $e(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?Q(B(b({},i),{guardsResult:!0})):vk(o,n,r,e).pipe($e(a=>a&&ck(a)?Ck(n,s,e,t):Q(a)),ee(a=>B(b({},i),{guardsResult:a})))})}function vk(e,t,i,n){return Fe(e).pipe($e(r=>Ek(r.component,r.route,i,t,n)),ki(r=>r!==!0,!0))}function Ck(e,t,i,n){return Fe(t).pipe(sn(r=>gs(yk(r.route.parent,n),wk(r.route,n),bk(e,r.path,i),Sk(e,r.route,i))),ki(r=>r!==!0,!0))}function wk(e,t){return e!==null&&t&&t(new ym(e)),Q(!0)}function yk(e,t){return e!==null&&t&&t(new Cm(e)),Q(!0)}function Sk(e,t,i){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return Q(!0);let r=n.map(s=>Kl(()=>{let o=Ra(t)??i,a=io(s,o),l=dk(a)?a.canActivate(t,e):Kt(o,()=>a(t,e));return tr(l).pipe(ki())}));return Q(r).pipe(to())}function bk(e,t,i){let n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>ok(o)).filter(o=>o!==null).map(o=>Kl(()=>{let a=o.guards.map(l=>{let c=Ra(o.node)??i,u=io(l,c),d=hk(u)?u.canActivateChild(n,e):Kt(c,()=>u(n,e));return tr(d).pipe(ki())});return Q(a).pipe(to())}));return Q(s).pipe(to())}function Ek(e,t,i,n,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return Q(!0);let o=s.map(a=>{let l=Ra(t)??r,c=io(a,l),u=pk(c)?c.canDeactivate(e,t,i,n):Kt(l,()=>c(e,t,i,n));return tr(u).pipe(ki())});return Q(o).pipe(to())}function Dk(e,t,i,n){let r=t.canLoad;if(r===void 0||r.length===0)return Q(!0);let s=r.map(o=>{let a=io(o,e),l=uk(a)?a.canLoad(t,i):Kt(e,()=>a(t,i));return tr(l)});return Q(s).pipe(to(),w1(n))}function w1(e){return ph(Xe(t=>{if(typeof t!="boolean")throw od(e,t)}),ee(t=>t===!0))}function xk(e,t,i,n){let r=t.canMatch;if(!r||r.length===0)return Q(!0);let s=r.map(o=>{let a=io(o,e),l=gk(a)?a.canMatch(t,i):Kt(e,()=>a(t,i));return tr(l)});return Q(s).pipe(to(),w1(n))}var ba=class{constructor(t){this.segmentGroup=t||null}},Ea=class extends Error{constructor(t){super(),this.urlTree=t}};function $s(e){return hs(new ba(e))}function Rk(e){return hs(new R(4e3,!1))}function Mk(e){return hs(m1(!1,oi.GuardRejected))}var Im=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return Q(n);if(r.numberOfChildren>1||!r.children[oe])return Rk(`${t.redirectTo}`);r=r.children[oe]}}applyRedirectCommands(t,i,n,r,s){if(typeof i!="string"){let a=i,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:m,data:v,title:S}=r,w=Kt(s,()=>a({params:m,data:v,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:S}));if(w instanceof Dn)throw new Ea(w);i=w}let o=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n);if(i[0]==="/")throw new Ea(o);return o}applyRedirectCreateUrlTree(t,i,n,r){let s=this.createSegmentGroup(t,i.root,n,r);return new Dn(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let n={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);n[r]=i[a]}else n[r]=s}),n}createSegmentGroup(t,i,n,r){let s=this.createSegments(t,i.segments,n,r),o={};return Object.entries(i.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,n,r)}),new xe(s,o)}createSegments(t,i,n,r){return i.map(s=>s.path[0]===":"?this.findPosParam(t,s,r):this.findOrReturn(s,n))}findPosParam(t,i,n){let r=n[i.path.substring(1)];if(!r)throw new R(4001,!1);return r}findOrReturn(t,i){let n=0;for(let r of i){if(r.path===t.path)return i.splice(n),r;n++}return t}},Fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ik(e,t,i,n,r){let s=_m(e,t,i);return s.matched?(n=ZP(t,n),xk(n,t,i,r).pipe(ee(o=>o===!0?s:b({},Fm)))):Q(s)}function _m(e,t,i){if(t.path==="**")return Fk(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?b({},Fm):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||xP)(i,e,t);if(!r)return b({},Fm);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?b(b({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Fk(e){return{matched:!0,parameters:e.length>0?Jb(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function qb(e,t,i,n){return i.length>0&&Pk(e,i,n)?{segmentGroup:new xe(t,Ak(n,new xe(i,e.children))),slicedSegments:[]}:i.length===0&&kk(e,i,n)?{segmentGroup:new xe(e.segments,Tk(e,i,n,e.children)),slicedSegments:i}:{segmentGroup:new xe(e.segments,e.children),slicedSegments:i}}function Tk(e,t,i,n){let r={};for(let s of i)if(dd(e,t,s)&&!n[Mi(s)]){let o=new xe([],{});r[Mi(s)]=o}return b(b({},n),r)}function Ak(e,t){let i={};i[oe]=t;for(let n of e)if(n.path===""&&Mi(n)!==oe){let r=new xe([],{});i[Mi(n)]=r}return i}function Pk(e,t,i){return i.some(n=>dd(e,t,n)&&Mi(n)!==oe)}function kk(e,t,i){return i.some(n=>dd(e,t,n))}function dd(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function _k(e,t,i,n){return Mi(e)!==n&&(n===oe||!dd(t,i,e))?!1:_m(t,e,i).matched}function Ok(e,t,i){return t.length===0&&!e.children[i]}var Tm=class{};function Lk(e,t,i,n,r,s,o="emptyOnly"){return new Am(e,t,i,n,r,o,s).recognize()}var Nk=31,Am=class{constructor(t,i,n,r,s,o,a){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Im(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new R(4002,`'${t.segmentGroup}'`)}recognize(){let t=qb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ee(({children:i,rootSnapshot:n})=>{let r=new si(n,i),s=new sd("",r),o=WP(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let i=new Qs([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,oe,i).pipe(ee(n=>({children:n,rootSnapshot:i})),kn(n=>{if(n instanceof Ea)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof ba?this.noMatchError(n):n}))}processSegmentGroup(t,i,n,r,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,i,n,s):this.processSegment(t,i,n,n.segments,r,!0,s).pipe(ee(o=>o instanceof si?[o]:[]))}processChildren(t,i,n,r){let s=[];for(let o of Object.keys(n.children))o==="primary"?s.unshift(o):s.push(o);return Fe(s).pipe(sn(o=>{let a=n.children[o],l=XP(i,o);return this.processSegmentGroup(t,l,a,o,r)}),Fh((o,a)=>(o.push(...a),o)),_n(null),Ih(),$e(o=>{if(o===null)return $s(n);let a=y1(o);return Vk(a),Q(a)}))}processSegment(t,i,n,r,s,o,a){return Fe(i).pipe(sn(l=>this.processSegmentAgainstRoute(l._injector??t,i,l,n,r,s,o,a).pipe(kn(c=>{if(c instanceof ba)return Q(null);throw c}))),ki(l=>!!l),kn(l=>{if(C1(l))return Ok(n,r,s)?Q(new Tm):$s(n);throw l}))}processSegmentAgainstRoute(t,i,n,r,s,o,a,l){return _k(n,r,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,n,s,o,l):$s(r):$s(r)}expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=_m(i,r,s);if(!l)return $s(i);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Nk&&(this.allowRedirects=!1));let m=new Qs(s,c,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Kb(r),Mi(r),r.component??r._loadedComponent??null,r,Qb(r)),v=rd(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let S=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,m,t);return this.applyRedirects.lineralizeSegments(r,S).pipe($e(w=>this.processSegment(t,n,i,w.concat(f),o,!1,a)))}matchSegmentAgainstRoute(t,i,n,r,s,o){let a=Ik(i,n,r,t,this.urlSerializer);return n.path==="**"&&(i.children={}),a.pipe(kt(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(kt(({routes:c})=>{let u=n._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:m}=l,v=new Qs(f,d,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Kb(n),Mi(n),n.component??n._loadedComponent??null,n,Qb(n)),S=rd(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let{segmentGroup:w,slicedSegments:E}=qb(i,f,m,c);if(E.length===0&&w.hasChildren())return this.processChildren(u,c,w,v).pipe(ee(A=>new si(v,A)));if(c.length===0&&E.length===0)return Q(new si(v,[]));let I=Mi(n)===s;return this.processSegment(u,c,w,E,I?oe:s,!0,v).pipe(ee(A=>new si(v,A instanceof si?[A]:[])))}))):$s(i)))}getChildConfig(t,i,n){return i.children?Q({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?Q({routes:i._loadedRoutes,injector:i._loadedInjector}):Dk(t,i,n,this.urlSerializer).pipe($e(r=>r?this.configLoader.loadChildren(t,i).pipe(Xe(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):Mk(i))):Q({routes:[],injector:t})}};function Vk(e){e.sort((t,i)=>t.value.outlet===oe?-1:i.value.outlet===oe?1:t.value.outlet.localeCompare(i.value.outlet))}function Bk(e){let t=e.value.routeConfig;return t&&t.path===""}function y1(e){let t=[],i=new Set;for(let n of e){if(!Bk(n)){t.push(n);continue}let r=t.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):t.push(n)}for(let n of i){let r=y1(n.children);t.push(new si(n.value,r))}return t.filter(n=>!i.has(n))}function Kb(e){return e.data||{}}function Qb(e){return e.resolve||{}}function Hk(e,t,i,n,r,s){return $e(o=>Lk(e,t,i,n,o.extractedUrl,r,s).pipe(ee(({state:a,tree:l})=>B(b({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Gk(e,t){return $e(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return Q(i);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of S1(l))o.add(c);let a=0;return Fe(o).pipe(sn(l=>s.has(l)?zk(l,n,e,t):(l.data=rd(l,l.parent,e).resolve,Q(void 0))),Xe(()=>a++),fs(1),$e(l=>a===o.size?Q(i):Et))})}function S1(e){let t=e.children.map(i=>S1(i)).flat();return[e,...t]}function zk(e,t,i,n){let r=e.routeConfig,s=e._resolve;return r?.title!==void 0&&!g1(r)&&(s[Da]=r.title),jk(s,e,t,n).pipe(ee(o=>(e._resolvedData=o,e.data=rd(e,e.parent,i).resolve,null)))}function jk(e,t,i,n){let r=lm(e);if(r.length===0)return Q({});let s={};return Fe(r).pipe($e(o=>Wk(e[o],t,i,n).pipe(ki(),Xe(a=>{if(a instanceof Sa)throw od(new Xs,a);s[o]=a}))),fs(1),Mh(s),kn(o=>C1(o)?Et:hs(o)))}function Wk(e,t,i,n){let r=Ra(t)??n,s=io(e,r),o=s.resolve?s.resolve(t,i):Kt(r,()=>s(t,i));return tr(o)}function om(e){return kt(t=>{let i=e(t);return i?Fe(i).pipe(ee(()=>t)):Q(t)})}var b1=(()=>{let t=class t{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(n){return n.data[Da]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>x(Uk),providedIn:"root"});let e=t;return e})(),Uk=(()=>{let t=class t extends b1{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(_(cb))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ta=new V("",{providedIn:"root",factory:()=>({})}),$k=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=q({type:t,selectors:[["ng-component"]],standalone:!0,features:[Wi],decls:1,vars:0,template:function(r,s){r&1&&D(0,"router-outlet")},dependencies:[Ia],encapsulation:2});let e=t;return e})();function Om(e){let t=e.children&&e.children.map(Om),i=t?B(b({},e),{children:t}):b({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==oe&&(i.component=$k),i}var ld=new V(""),Lm=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(mu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=tr(n.loadComponent()).pipe(ee(E1),Xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),wr(()=>{this.componentLoaders.delete(n)})),s=new ls(r,()=>new Ee).pipe(as());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=qk(r,this.compiler,n,this.onLoadEndListener).pipe(wr(()=>{this.childrenLoaders.delete(r)})),a=new ls(o,()=>new Ee).pipe(as());return this.childrenLoaders.set(r,a),a}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function qk(e,t,i,n){return tr(e.loadChildren()).pipe(ee(E1),$e(r=>r instanceof Ho||Array.isArray(r)?Q(r):Fe(t.compileModuleAsync(r))),ee(r=>{n&&n(e);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(i).injector,o=s.get(ld,[],{optional:!0,self:!0}).flat()),{routes:o.map(Om),injector:s}}))}function Kk(e){return e&&typeof e=="object"&&"default"in e}function E1(e){return Kk(e)?e.default:e}var Nm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>x(Qk),providedIn:"root"});let e=t;return e})(),Qk=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),D1=new V(""),x1=new V("");function Yk(e,t,i){let n=e.get(x1),r=e.get(Oe);return e.get(fe).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),Zk(e))),{onViewTransitionCreated:l}=n;return l&&Kt(e,()=>l({transition:a,from:t,to:i})),o})}function Zk(e){return new Promise(t=>{_g({read:()=>setTimeout(t)},{injector:e})})}var Xk=new V(""),Vm=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee,this.transitionAbortSubject=new Ee,this.configLoader=x(Lm),this.environmentInjector=x(Rt),this.urlSerializer=x(xa),this.rootContexts=x(Ma),this.location=x(zs),this.inputBindingEnabled=x(ud,{optional:!0})!==null,this.titleStrategy=x(b1),this.options=x(Ta,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(Nm),this.createViewTransition=x(D1,{optional:!0}),this.navigationErrorHandler=x(Xk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let n=s=>this.events.next(new mm(s)),r=s=>this.events.next(new vm(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(B(b(b({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new dt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ct(o=>o.id!==0),ee(o=>B(b({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),kt(o=>{let a=!1,l=!1;return Q(o).pipe(kt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",oi.SupersededByNewNavigation),Et;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?B(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new er(c.id,this.urlSerializer.serialize(c.rawUrl),f,Ju.IgnoredSameUrlNavigation)),c.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Q(c).pipe(kt(f=>{let m=this.transitions?.getValue();return this.events.next(new Js(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?Et:Promise.resolve(f)}),Hk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Xe(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=B(b({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new ed(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:m,source:v,restoredState:S,extras:w}=c,E=new Js(f,this.urlSerializer.serialize(m),v,S);this.events.next(E);let I=h1(this.rootComponentType).snapshot;return this.currentTransition=o=B(b({},c),{targetSnapshot:I,urlAfterRedirects:m,extras:B(b({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Q(o)}else{let f="";return this.events.next(new er(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Ju.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Et}}),Xe(c=>{let u=new hm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ee(c=>(this.currentTransition=o=B(b({},c),{guards:sk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),mk(this.environmentInjector,c=>this.events.next(c)),Xe(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw od(this.urlSerializer,c.guardsResult);let u=new pm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ct(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",oi.GuardRejected),!1)),om(c=>{if(c.guards.canActivateChecks.length)return Q(c).pipe(Xe(u=>{let d=new gm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),kt(u=>{let d=!1;return Q(u).pipe(Gk(this.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",oi.NoDataFromResolver)}}))}),Xe(u=>{let d=new fm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),om(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Xe(m=>{d.component=m}),ee(()=>{})));for(let m of d.children)f.push(...u(m));return f};return Io(u(c.targetSnapshot.root)).pipe(_n(null),on(1))}),om(()=>this.afterPreactivation()),kt(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Fe(d).pipe(ee(()=>o)):Q(o)}),ee(c=>{let u=ek(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=B(b({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Xe(()=>{this.events.next(new wa)}),rk(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),on(1),Xe({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),_i(this.transitionAbortSubject.pipe(Xe(c=>{throw c}))),wr(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",oi.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),kn(c=>{if(l=!0,v1(c))this.events.next(new En(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),nk(c)?this.events.next(new eo(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Ca(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=Kt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Sa){let{message:f,cancellationCode:m}=od(this.urlSerializer,d);this.events.next(new En(o.id,this.urlSerializer.serialize(o.extractedUrl),f,m)),this.events.next(new eo(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=n.errorHandler(c);o.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return Et}))}))}cancelNavigationTransition(n,r,s){let o=new En(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Jk(e){return e!==fa}var e_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>x(t_),providedIn:"root"});let e=t;return e})(),Pm=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},t_=(()=>{let t=class t extends Pm{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=qn(t)))(s||t)}})(),t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),R1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>x(i_),providedIn:"root"});let e=t;return e})(),i_=(()=>{let t=class t extends R1{constructor(){super(...arguments),this.location=x(zs),this.urlSerializer=x(xa),this.options=x(Ta,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(Nm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=h1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Js)this.stateMemento=this.createStateMemento();else if(n instanceof er)this.rawUrlTree=r.initialUrl;else if(n instanceof ed){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else n instanceof wa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof En&&(n.code===oi.GuardRejected||n.code===oi.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ca?this.restoreHistory(r,!0):n instanceof Yi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=n instanceof Dn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=b(b({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=b(b({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=qn(t)))(s||t)}})(),t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),pa=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(pa||{});function M1(e,t){e.events.pipe(Ct(i=>i instanceof Yi||i instanceof En||i instanceof Ca||i instanceof er),ee(i=>i instanceof Yi||i instanceof er?pa.COMPLETE:(i instanceof En?i.code===oi.Redirect||i.code===oi.SupersededByNewNavigation:!1)?pa.REDIRECTING:pa.FAILED),Ct(i=>i!==pa.REDIRECTING),on(1)).subscribe(()=>{t()})}function n_(e){throw e}var r_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},s_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Y=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(du),this.stateManager=x(R1),this.options=x(Ta,{optional:!0})||{},this.pendingTasks=x(Kn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Vm),this.urlSerializer=x(xa),this.location=x(zs),this.urlHandlingStrategy=x(Nm),this._events=new Ee,this.errorHandler=this.options.errorHandler||n_,this.navigated=!1,this.routeReuseStrategy=x(e_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(ld,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(ud,{optional:!0}),this.eventsSubscription=new Le,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof En&&r.code!==oi.Redirect&&r.code!==oi.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Yi)this.navigated=!0;else if(r instanceof eo){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c=b({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Jk(s.source)},a);this.scheduleNavigation(l,fa,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}a_(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=b({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Om),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,d=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":d=b(b({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=s?s.snapshot:this.routerState.snapshot.root;f=l1(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return c1(f,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=$r(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,fa,null,r)}navigate(n,r={skipLocationChange:!1}){return o_(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=b({},r_):r===!1?s=b({},s_):s=r,$r(n))return zb(this.currentUrlTree,n,s);let o=this.parseUrl(n);return zb(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(n,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,m)=>{l=f,c=m});let d=this.pendingTasks.add();return M1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function o_(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new R(4008,!1)}function a_(e){return!(e instanceof wa)&&!(e instanceof eo)}var Ce=(()=>{let t=class t{constructor(n,r,s,o,a,l){this.router=n,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new Ee,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Yi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):($r(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:vy(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,n,r):s.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:$r(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(r){return new(r||t)(y(Y),y(Ze),Os("tabindex"),y(zi),y(We),y(yn))},t.\u0275dir=de({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&T("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Bt("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ae],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ae],replaceUrl:[2,"replaceUrl","replaceUrl",Ae],routerLink:"routerLink"},standalone:!0,features:[Pr,gt]});let e=t;return e})();var cd=class{};var l_=(()=>{let t=class t{constructor(n,r,s,o,a){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(n=>n instanceof Yi),sn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=au(o.providers,n,`Route: ${o.path}`));let a=o._injector??n,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Fe(s).pipe(An())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(n,r):s=Q(null);let o=s.pipe($e(a=>a===null?Q(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Fe([o,a]).pipe(An())}else return o})}};t.\u0275fac=function(r){return new(r||t)(_(Y),_(mu),_(Rt),_(cd),_(Lm))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),I1=new V(""),c_=(()=>{let t=class t{constructor(n,r,s,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Js?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Yi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof er&&n.code===Ju.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof td&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new td(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){Ay()},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();function u_(e){return e.routerState.root}function Aa(e,t){return{\u0275kind:e,\u0275providers:t}}function d_(){let e=x(pt);return t=>{let i=e.get(ti);if(t!==i.components[0])return;let n=e.get(Y),r=e.get(F1);e.get(Bm)===1&&n.initialNavigation(),e.get(T1,null,le.Optional)?.setUpPreloading(),e.get(I1,null,le.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var F1=new V("",{factory:()=>new Ee}),Bm=new V("",{providedIn:"root",factory:()=>1});function h_(){return Aa(2,[{provide:Bm,useValue:0},{provide:gu,multi:!0,deps:[pt],useFactory:t=>{let i=t.get(BS,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=t.get(Y),s=t.get(F1);M1(r,()=>{n(!0)}),t.get(Vm).afterPreactivation=()=>(n(!0),s.closed?Q(void 0):s),r.initialNavigation()}))}}])}function p_(){return Aa(3,[{provide:gu,multi:!0,useFactory:()=>{let t=x(Y);return()=>{t.setUpLocationChangeListener()}}},{provide:Bm,useValue:2}])}var T1=new V("");function g_(e){return Aa(0,[{provide:T1,useExisting:l_},{provide:cd,useExisting:e}])}function f_(){return Aa(8,[$b,{provide:ud,useExisting:$b}])}function m_(e){let t=[{provide:D1,useValue:Yk},{provide:x1,useValue:b({skipNextTransition:!!e?.skipInitialTransition},e)}];return Aa(9,t)}var Yb=new V("ROUTER_FORROOT_GUARD"),v_=[zs,{provide:xa,useClass:Xs},Y,Ma,{provide:Ze,useFactory:u_,deps:[Y]},Lm,[]],Hm=(()=>{let t=class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[v_,[],{provide:ld,multi:!0,useValue:n},{provide:Yb,useFactory:S_,deps:[[Y,new Gc,new Zp]]},{provide:Ta,useValue:r||{}},r?.useHash?w_():y_(),C_(),r?.preloadingStrategy?g_(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?b_(r):[],r?.bindToComponentInputs?f_().\u0275providers:[],r?.enableViewTransitions?m_().\u0275providers:[],E_()]}}static forChild(n){return{ngModule:t,providers:[{provide:ld,multi:!0,useValue:n}]}}};t.\u0275fac=function(r){return new(r||t)(_(Yb,8))},t.\u0275mod=Be({type:t}),t.\u0275inj=Ve({});let e=t;return e})();function C_(){return{provide:I1,useFactory:()=>{let e=x(WS),t=x(fe),i=x(Ta),n=x(Vm),r=x(xa);return i.scrollOffset&&e.setOffset(i.scrollOffset),new c_(r,n,e,t,i)}}}function w_(){return{provide:yn,useClass:GS}}function y_(){return{provide:yn,useClass:of}}function S_(e){return"guarded"}function b_(e){return[e.initialNavigation==="disabled"?p_().\u0275providers:[],e.initialNavigation==="enabledBlocking"?h_().\u0275providers:[]]}var Zb=new V("");function E_(){return[{provide:Zb,useFactory:d_},{provide:fu,multi:!0,useExisting:Zb}]}var Pa=class e{constructor(t){this.router=t}center;ngOnInit(){this.center=window.history.state}login(){this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||e)(y(Y))};static \u0275cmp=q({type:e,selectors:[["app-home"]],decls:68,vars:0,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],["rel","stylesheet","href",my`https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css`],[1,"navbar","navbar-inverse"],[1,"container-fluid"],[1,"navbar-header"],["type","button","data-toggle","collapse","data-target","#myNavbar",1,"navbar-toggle"],[1,"icon-bar"],["href","#",1,"navbar-brand"],["id","myNavbar",1,"collapse","navbar-collapse"],[1,"nav","navbar-nav"],[1,"active"],["href","#"],[1,"nav","navbar-nav","navbar-right"],["routerLink","login"],[1,"glyphicon","glyphicon-log-in"],[1,"container-fluid","text-center"],[1,"row","content"],[1,"col-sm-2","sidenav"],[1,"col-sm-8","text-left"],[1,"well"]],template:function(i,n){i&1&&(p(0,"html",0)(1,"head")(2,"title"),g(3,"Bootstrap Example"),h(),D(4,"meta",1)(5,"meta",2)(6,"link",3),h(),p(7,"body")(8,"nav",4)(9,"div",5)(10,"div",6)(11,"button",7),D(12,"span",8)(13,"span",8)(14,"span",8),h(),p(15,"a",9),g(16,"Logo"),h()(),p(17,"div",10)(18,"ul",11)(19,"li",12)(20,"a",13),g(21,"Home"),h()(),p(22,"li")(23,"a",13),g(24,"About"),h()(),p(25,"li")(26,"a",13),g(27,"Projects"),h()(),p(28,"li")(29,"a",13),g(30,"Contact"),h()()(),p(31,"ul",14)(32,"li")(33,"a",15),D(34,"span",16),g(35," Login"),h()()()()()(),p(36,"div",17)(37,"div",18)(38,"div",19)(39,"p")(40,"a",13),g(41,"Link"),h()(),p(42,"p")(43,"a",13),g(44,"Link"),h()(),p(45,"p")(46,"a",13),g(47,"Link"),h()()(),p(48,"div",20)(49,"h1"),g(50,"Welcome"),h(),p(51,"p"),g(52,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."),h(),D(53,"hr"),p(54,"h3"),g(55,"Test"),h(),p(56,"p"),g(57,"Lorem ipsum..."),h()(),p(58,"div",19)(59,"div",21)(60,"p"),g(61,"ADS"),h()(),p(62,"div",21)(63,"p"),g(64,"ADS"),h()()()()(),p(65,"footer",17)(66,"p"),g(67,"Footer Text"),h()()()())},dependencies:[Ce],styles:[`
 
    .navbar[_ngcontent-%COMP%] {
      margin-bottom: 0;
      border-radius: 0;
    }
    
    

    .row.content[_ngcontent-%COMP%] {height: 450px}
    
    

    .sidenav[_ngcontent-%COMP%] {
      padding-top: 20px;
      background-color: #f1f1f1;
      height: 100%;
    }
    
    

    footer[_ngcontent-%COMP%] {
      background-color: #555;
      color: white;
      padding: 15px;
    }
    
    

    @media screen and (max-width: 767px) {
      .sidenav[_ngcontent-%COMP%] {
        height: auto;
        padding: 15px;
      }
      .row.content[_ngcontent-%COMP%] {height:auto;} 
    }`]})};var B1=(()=>{let t=class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(r){return new(r||t)(y(zi),y(We))},t.\u0275dir=de({type:t});let e=t;return e})(),D_=(()=>{let t=class t extends B1{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=qn(t)))(s||t)}})(),t.\u0275dir=de({type:t,features:[Vt]});let e=t;return e})(),Ba=new V("");var x_={provide:Ba,useExisting:qt(()=>ke),multi:!0};function R_(){let e=$i()?$i().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var M_=new V(""),ke=(()=>{let t=class t extends B1{constructor(n,r,s){super(n,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!R_())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(r){return new(r||t)(y(zi),y(We),y(M_,8))},t.\u0275dir=de({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&T("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[gi([x_]),Vt]});let e=t;return e})();function ir(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function H1(e){return e!=null&&typeof e.length=="number"}var Kr=new V(""),ao=new V(""),I_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ne=class{static min(t){return F_(t)}static max(t){return T_(t)}static required(t){return G1(t)}static requiredTrue(t){return A_(t)}static email(t){return P_(t)}static minLength(t){return k_(t)}static maxLength(t){return __(t)}static pattern(t){return O_(t)}static nullValidator(t){return pd(t)}static compose(t){return q1(t)}static composeAsync(t){return K1(t)}};function F_(e){return t=>{if(ir(t.value)||ir(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function T_(e){return t=>{if(ir(t.value)||ir(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function G1(e){return ir(e.value)?{required:!0}:null}function A_(e){return e.value===!0?null:{required:!0}}function P_(e){return ir(e.value)||I_.test(e.value)?null:{email:!0}}function k_(e){return t=>ir(t.value)||!H1(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function __(e){return t=>H1(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function O_(e){if(!e)return pd;let t,i;return typeof e=="string"?(i="",e.charAt(0)!=="^"&&(i+="^"),i+=e,e.charAt(e.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(ir(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function pd(e){return null}function z1(e){return e!=null}function j1(e){return Nr(e)?Fe(e):e}function W1(e){let t={};return e.forEach(i=>{t=i!=null?b(b({},t),i):t}),Object.keys(t).length===0?null:t}function U1(e,t){return t.map(i=>i(e))}function L_(e){return!e.validate}function $1(e){return e.map(t=>L_(t)?t:i=>t.validate(i))}function q1(e){if(!e)return null;let t=e.filter(z1);return t.length==0?null:function(i){return W1(U1(i,t))}}function $m(e){return e!=null?q1($1(e)):null}function K1(e){if(!e)return null;let t=e.filter(z1);return t.length==0?null:function(i){let n=U1(i,t).map(j1);return Dh(n).pipe(ee(W1))}}function qm(e){return e!=null?K1($1(e)):null}function A1(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Q1(e){return e._rawValidators}function Y1(e){return e._rawAsyncValidators}function Gm(e){return e?Array.isArray(e)?e:[e]:[]}function gd(e,t){return Array.isArray(e)?e.includes(t):e===t}function P1(e,t){let i=Gm(t);return Gm(e).forEach(r=>{gd(i,r)||i.push(r)}),i}function k1(e,t){return Gm(t).filter(i=>!gd(e,i))}var fd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$m(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},Ft=class extends fd{get formDirective(){return null}get path(){return null}},qr=class extends fd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},md=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},N_={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Kq=B(b({},N_),{"[class.ng-submitted]":"isSubmitted"}),He=(()=>{let t=class t extends md{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(y(qr,2))},t.\u0275dir=de({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Yt("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Vt]});let e=t;return e})(),et=(()=>{let t=class t extends md{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(y(Ft,10))},t.\u0275dir=de({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Yt("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Vt]});let e=t;return e})();var ka="VALID",hd="INVALID",no="PENDING",_a="DISABLED",nr=class{},vd=class extends nr{constructor(t,i){super(),this.value=t,this.source=i}},La=class extends nr{constructor(t,i){super(),this.pristine=t,this.source=i}},Na=class extends nr{constructor(t,i){super(),this.touched=t,this.source=i}},ro=class extends nr{constructor(t,i){super(),this.status=t,this.source=i}},zm=class extends nr{constructor(t){super(),this.source=t}},jm=class extends nr{constructor(t){super(),this.source=t}};function Km(e){return(Sd(e)?e.validators:e)||null}function V_(e){return Array.isArray(e)?$m(e):e||null}function Qm(e,t){return(Sd(t)?t.asyncValidators:e)||null}function B_(e){return Array.isArray(e)?qm(e):e||null}function Sd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Z1(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new R(1e3,"");if(!n[i])throw new R(1001,"")}function X1(e,t,i){e._forEachChild((n,r)=>{if(i[r]===void 0)throw new R(1002,"")})}var so=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Hs(()=>this.statusReactive()),this.statusReactive=xi(void 0),this._pristine=Hs(()=>this.pristineReactive()),this.pristineReactive=xi(!0),this._touched=Hs(()=>this.touchedReactive()),this.touchedReactive=xi(!1),this._events=new Ee,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ui(this.statusReactive)}set status(t){Ui(()=>this.statusReactive.set(t))}get valid(){return this.status===ka}get invalid(){return this.status===hd}get pending(){return this.status==no}get disabled(){return this.status===_a}get enabled(){return this.status!==_a}get pristine(){return Ui(this.pristineReactive)}set pristine(t){Ui(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Ui(this.touchedReactive)}set touched(t){Ui(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(P1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(P1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(k1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(k1(t,this._rawAsyncValidators))}hasValidator(t){return gd(this._rawValidators,t)}hasAsyncValidator(t){return gd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let i=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(B(b({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new Na(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(t))}markAsUntouched(t={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),i&&t.emitEvent!==!1&&this._events.next(new Na(!1,n))}markAsDirty(t={}){let i=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(B(b({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new La(!1,n))}markAsPristine(t={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&t.emitEvent!==!1&&this._events.next(new La(!0,n))}markAsPending(t={}){this.status=no;let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ro(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(B(b({},t),{sourceControl:i}))}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=_a,this.errors=null,this._forEachChild(r=>{r.disable(B(b({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vd(this.value,n)),this._events.next(new ro(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(b({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=ka,this._forEachChild(n=>{n.enable(B(b({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(B(b({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,i){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ka||this.status===no)&&this._runAsyncValidator(n,t.emitEvent)}let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vd(this.value,i)),this._events.next(new ro(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(B(b({},t),{sourceControl:i}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_a:ka}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,i){if(this.asyncValidator){this.status=no,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let n=j1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:i,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,i,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new ro(this.status,i)),this._parent&&this._parent._updateControlsErrors(t,i,n)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?_a:this.errors?hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(no)?no:this._anyControlsHaveStatus(hd)?hd:ka}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,i){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),r&&this._events.next(new La(this.pristine,i))}_updateTouched(t={},i){this.touched=this._anyControlsTouched(),this._events.next(new Na(this.touched,i)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Sd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=V_(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=B_(this._rawAsyncValidators)}},oo=class extends so{constructor(t,i,n){super(Km(i),Qm(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){X1(this,!0,t),Object.keys(t).forEach(n=>{Z1(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((r,s)=>{n=i(n,r,s)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Wm=class extends oo{};var Ha=new V("CallSetDisabledState",{providedIn:"root",factory:()=>bd}),bd="always";function Ed(e,t){return[...t.path,e]}function Cd(e,t,i=bd){Ym(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),G_(e,t),j_(e,t),z_(e,t),H_(e,t)}function _1(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),yd(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function wd(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function H_(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function Ym(e,t){let i=Q1(e);t.validator!==null?e.setValidators(A1(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=Y1(e);t.asyncValidator!==null?e.setAsyncValidators(A1(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();wd(t._rawValidators,r),wd(t._rawAsyncValidators,r)}function yd(e,t){let i=!1;if(e!==null){if(t.validator!==null){let r=Q1(e);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.validator);s.length!==r.length&&(i=!0,e.setValidators(s))}}if(t.asyncValidator!==null){let r=Y1(e);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(i=!0,e.setAsyncValidators(s))}}}let n=()=>{};return wd(t._rawValidators,n),wd(t._rawAsyncValidators,n),i}function G_(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&J1(e,t)})}function z_(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&J1(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function J1(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function j_(e,t){let i=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function eE(e,t){e==null,Ym(e,t)}function W_(e,t){return yd(e,t)}function tE(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function U_(e){return Object.getPrototypeOf(e.constructor)===D_}function iE(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function nE(e,t){if(!t)return null;Array.isArray(t);let i,n,r;return t.forEach(s=>{s.constructor===ke?i=s:U_(s)?n=s:r=s}),r||n||i||null}function $_(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}var q_={provide:Ft,useExisting:qt(()=>Ga)},Oa=Promise.resolve(),Ga=(()=>{let t=class t extends Ft{get submitted(){return Ui(this.submittedReactive)}constructor(n,r,s){super(),this.callSetDisabledState=s,this._submitted=Hs(()=>this.submittedReactive()),this.submittedReactive=xi(!1),this._directives=new Set,this.ngSubmit=new ce,this.form=new oo({},$m(n),qm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Oa.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Cd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Oa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Oa.then(()=>{let r=this._findContainer(n.path),s=new oo({});eE(s,n),r.registerControl(n.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Oa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Oa.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),iE(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};t.\u0275fac=function(r){return new(r||t)(y(Kr,10),y(ao,10),y(Ha,8))},t.\u0275dir=de({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&T("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gi([q_]),Vt]});let e=t;return e})();function O1(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function L1(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Va=class extends so{constructor(t=null,i,n){super(Km(i),Qm(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sd(i)&&(i.nonNullable||i.initialValueIsDefault)&&(L1(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){O1(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){O1(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){L1(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var K_=e=>e instanceof Va,Q_=(()=>{let t=class t extends Ft{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ed(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=qn(t)))(s||t)}})(),t.\u0275dir=de({type:t,features:[Vt]});let e=t;return e})();var Y_={provide:qr,useExisting:qt(()=>xn)},N1=Promise.resolve(),xn=(()=>{let t=class t extends qr{constructor(n,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Va,this._registered=!1,this.name="",this.update=new ce,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=nE(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),tE(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){N1.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,s=r!==0&&Ae(r);N1.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Ed(n,this._parent):[n]}};t.\u0275fac=function(r){return new(r||t)(y(Ft,9),y(Kr,10),y(ao,10),y(Ba,10),y(Cn,8),y(Ha,8))},t.\u0275dir=de({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gi([Y_]),Vt,gt]});let e=t;return e})(),tt=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=de({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})();var rE=new V("");var Z_={provide:Ft,useExisting:qt(()=>ct)},ct=(()=>{let t=class t extends Ft{get submitted(){return Ui(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,s){super(),this.callSetDisabledState=s,this._submitted=Hs(()=>this._submittedReactive()),this._submittedReactive=xi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ce,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Cd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){_1(n.control||null,n,!1),$_(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),iE(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new zm(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new jm(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,s=this.form.get(n.path);r!==s&&(_1(r||null,n),K_(s)&&(Cd(s,n,this.callSetDisabledState),n.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);eE(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&W_(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ym(this.form,this),this._oldForm&&yd(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(r){return new(r||t)(y(Kr,10),y(ao,10),y(Ha,8))},t.\u0275dir=de({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&T("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gi([Z_]),Vt,gt]});let e=t;return e})(),X_={provide:Ft,useExisting:qt(()=>lo)},lo=(()=>{let t=class t extends Q_{constructor(n,r,s){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(s)}_checkParentType(){sE(this._parent)}};t.\u0275fac=function(r){return new(r||t)(y(Ft,13),y(Kr,10),y(ao,10))},t.\u0275dir=de({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[gi([X_]),Vt]});let e=t;return e})(),J_={provide:Ft,useExisting:qt(()=>co)},co=(()=>{let t=class t extends Ft{constructor(n,r,s){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ed(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){sE(this._parent)}};t.\u0275fac=function(r){return new(r||t)(y(Ft,13),y(Kr,10),y(ao,10))},t.\u0275dir=de({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[gi([J_]),Vt]});let e=t;return e})();function sE(e){return!(e instanceof lo)&&!(e instanceof ct)&&!(e instanceof co)}var eO={provide:qr,useExisting:qt(()=>mt)},mt=(()=>{let t=class t extends qr{set isDisabled(n){}constructor(n,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ce,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=nE(this,o)}ngOnChanges(n){this._added||this._setUpControl(),tE(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Ed(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(y(Ft,13),y(Kr,10),y(ao,10),y(Ba,10),y(rE,8))},t.\u0275dir=de({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[gi([eO]),Vt,gt]});let e=t;return e})();var tO=(()=>{let t=class t{constructor(){this._validator=pd}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pd,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=de({type:t,features:[gt]});let e=t;return e})();var iO={provide:Kr,useExisting:qt(()=>Zm),multi:!0};var Zm=(()=>{let t=class t extends tO{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ae,this.createValidator=n=>G1}enabled(n){return n}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=qn(t)))(s||t)}})(),t.\u0275dir=de({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&Bt("required",s._enabled?"":null)},inputs:{required:"required"},features:[gi([iO]),Vt]});let e=t;return e})();var oE=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Be({type:t}),t.\u0275inj=Ve({});let e=t;return e})(),Um=class extends so{constructor(t,i,n){super(Km(i),Qm(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,n={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){X1(this,!1,t),t.forEach((n,r)=>{Z1(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,n)=>{t(i,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function V1(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var St=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let s=this._reduceControls(n),o={};return V1(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new oo(s,o)}record(n,r=null){let s=this._reduceControls(n);return new Wm(s,r)}control(n,r,s){let o={};return this.useNonNullable?(V1(r)?o=r:(o.validators=r,o.asyncValidators=s),new Va(n,B(b({},o),{nonNullable:!0}))):new Va(n,r,s)}array(n,r,s){let o=n.map(a=>this._createControl(a));return new Um(o,r,s)}_reduceControls(n){let r={};return Object.keys(n).forEach(s=>{r[s]=this._createControl(n[s])}),r}_createControl(n){if(n instanceof Va)return n;if(n instanceof so)return n;if(Array.isArray(n)){let r=n[0],s=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,s,o)}else return this.control(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var aE=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ha,useValue:n.callSetDisabledState??bd}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Be({type:t}),t.\u0275inj=Ve({imports:[oE]});let e=t;return e})(),lE=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:rE,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ha,useValue:n.callSetDisabledState??bd}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Be({type:t}),t.\u0275inj=Ve({imports:[oE]});let e=t;return e})();var ae=class e{constructor(t){this.http=t}url="https://apimysql-12ky.onrender.com/";users(){return this.http.get(this.url+"todos")}paymentmode(){return this.http.get(this.url+"paymentmode")}uservalidation(t){return this.http.post(this.url+"user/uservalidate",t)}productcategory(){return this.http.get(this.url+"productcategory")}productcategoryadd(t){return this.http.post(this.url+"productcategory",t)}productcategoryedit(t){return this.http.put(this.url+"productcategory",t)}productcategorydelete(t){return this.http.delete(this.url+"productcategory",t)}customer(){return this.http.get(this.url+"customer")}customerbyID(t){return this.http.get(this.url+"customer/"+t)}savecustomer(t){return t.custno===""||t.custno===null?(console.log("Empty"),this.http.post(this.url+"customer",t)):this.http.put(this.url+"customer/"+t.custno,t)}cusstomeradd(t){return this.http.post(this.url+"customer",t)}customeredit(t){return this.http.put(this.url+"customer",t)}customerdelete(t){return this.http.delete(this.url+"customer",t)}center(){return this.http.get(this.url+"center")}centerbyID(t){return this.http.get(this.url+"center/"+t)}product(){return this.http.get(this.url+"product")}productbyID(t){return this.http.get(this.url+"product/"+t)}productadd(t){return this.http.post(this.url+"product",t)}productedit(t){return this.http.put(this.url+"product",t)}productdelete(t){return this.http.delete(this.url+"product",t)}saveproduct(t){return t.productno===""||t.productno===null?(console.log("Empty"),this.http.post(this.url+"product",t)):this.http.put(this.url+"product",t)}invoice(){return this.http.get(this.url+"invoice")}invoicebyID(t,i){return this.http.get(this.url+"invoice/"+t+"/"+i)}invoiceItembyID(t,i){return this.http.get(this.url+"invoice/"+t+"/"+i)}invoicebyIDHeader(t){return this.http.get(this.url+"invoice/"+t)}saveinvoice(t){return this.http.post(this.url+"invoice",t)}invoiceedit(t){return this.http.put(this.url+"invoice/"+t.invoiceno,t)}invoicedelete(t){return this.http.delete(this.url+"invoice/"+t)}invoicesummary(t){return console.log(t),this.http.post(this.url+"invoice/reportinvoicesummary",t)}receipt(){return this.http.get(this.url+"customerreceipt")}receiptbyID(t){return this.http.get(this.url+"customerreceipt/"+t)}receiptadd(t){return this.http.post(this.url+"customerreceipt",t)}receiptedit(t){return this.http.put(this.url+"customerreceipt",t)}receiptdelete(t){return this.http.delete(this.url+"customerreceipt",t)}savereceipt(t){console.log(t);let i=t.customerreceiptno?0:t.customerreceiptno;return t.customerreceiptno===""||t.customerreceiptno===null||t.customerreceiptno==0?(console.log("Empty"),this.http.post(this.url+"customerreceipt",t)):this.http.put(this.url+"customerreceipt/"+t.customerreceiptno,t)}payment(){return this.http.get(this.url+"supplierpayment")}paymentbyID(t){return this.http.get(this.url+"supplierpayment/"+t)}paymentadd(t){return this.http.post(this.url+"supplierpayment",t)}paymentedit(t){return this.http.put(this.url+"supplierpayment",t)}paymentdelete(t){return this.http.delete(this.url+"supplierpayment",t)}savepayment(t){return console.log(t),t.supplierpaymentno===""||t.supplierpaymentno===null||t.supplierpaymentno==0?(console.log("Empty"),this.http.post(this.url+"supplierpayment",t)):this.http.put(this.url+"supplierpayment",t)}supplier(){return this.http.get(this.url+"supplier")}supplierbyID(t){return this.http.get(this.url+"supplier/"+t)}savesupplier(t){return t.supplierno===""||t.supplierno===null?(console.log("Empty"),this.http.post(this.url+"supplier",t)):this.http.put(this.url+"supplier",t)}supplieradd(t){return this.http.post(this.url+"supplier",t)}supplieredit(t){return this.http.put(this.url+"supplier",t)}supplierdelete(t){return this.http.delete(this.url+"supplier",t)}purchase(){return this.http.get(this.url+"purchase")}purchasebyID(t,i){return this.http.get(this.url+"purchase/"+t+"/"+i)}purchaseItembyID(t,i){return this.http.get(this.url+"purchase/"+t+"/"+i)}purchasebyIDHeader(t){return this.http.get(this.url+"purchase/"+t)}savepurchase(t){return this.http.post(this.url+"purchase",t)}purchaseedit(t){return this.http.put(this.url+"purchase/"+t.purchaseno,t)}purchasedelete(t,i){return this.http.delete(this.url+"purchase/"+t+"/"+i)}purchasesummary(t){return console.log(t),this.http.post(this.url+"purchase/reportpurchasesummary",t)}static \u0275fac=function(i){return new(i||e)(_(ff))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})};var cE=["toast-component",""];function nO(e,t){if(e&1){let i=De();p(0,"button",5),T("click",function(){G(i);let r=F();return z(r.remove())}),p(1,"span",6),g(2,"\xD7"),h()()}}function rO(e,t){if(e&1&&(_r(0),g(1),Or()),e&2){let i=F(2);C(),at("[",i.duplicatesCount+1,"]")}}function sO(e,t){if(e&1&&(p(0,"div"),g(1),J(2,rO,2,1,"ng-container",4),h()),e&2){let i=F();mn(i.options.titleClass),Bt("aria-label",i.title),C(),at(" ",i.title," "),C(),M("ngIf",i.duplicatesCount)}}function oO(e,t){if(e&1&&D(0,"div",7),e&2){let i=F();mn(i.options.messageClass),M("innerHTML",i.message,Sg)}}function aO(e,t){if(e&1&&(p(0,"div",8),g(1),h()),e&2){let i=F();mn(i.options.messageClass),Bt("aria-label",i.message),C(),at(" ",i.message," ")}}function lO(e,t){if(e&1&&(p(0,"div"),D(1,"div",9),h()),e&2){let i=F();C(),kr("width",i.width()+"%")}}function cO(e,t){if(e&1){let i=De();p(0,"button",5),T("click",function(){G(i);let r=F();return z(r.remove())}),p(1,"span",6),g(2,"\xD7"),h()()}}function uO(e,t){if(e&1&&(_r(0),g(1),Or()),e&2){let i=F(2);C(),at("[",i.duplicatesCount+1,"]")}}function dO(e,t){if(e&1&&(p(0,"div"),g(1),J(2,uO,2,1,"ng-container",4),h()),e&2){let i=F();mn(i.options.titleClass),Bt("aria-label",i.title),C(),at(" ",i.title," "),C(),M("ngIf",i.duplicatesCount)}}function hO(e,t){if(e&1&&D(0,"div",7),e&2){let i=F();mn(i.options.messageClass),M("innerHTML",i.message,Sg)}}function pO(e,t){if(e&1&&(p(0,"div",8),g(1),h()),e&2){let i=F();mn(i.options.messageClass),Bt("aria-label",i.message),C(),at(" ",i.message," ")}}function gO(e,t){if(e&1&&(p(0,"div"),D(1,"div",9),h()),e&2){let i=F();C(),kr("width",i.width()+"%")}}var Xm=class{_attachedHost;component;viewContainerRef;injector;constructor(t,i){this.component=t,this.injector=i}attach(t,i){return this._attachedHost=t,t.attach(this,i)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Jm=class{_attachedPortal;_disposeFn;attach(t,i){return this._attachedPortal=t,this.attachComponentPortal(t,i)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},ev=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Ee;_activate=new Ee;_manualClose=new Ee;_resetTimeout=new Ee;_countDuplicate=new Ee;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,i){t&&this._resetTimeout.next(),i&&this._countDuplicate.next(++this.duplicatesCount)}},uo=class{toastId;config;message;title;toastType;toastRef;_onTap=new Ee;_onAction=new Ee;constructor(t,i,n,r,s,o){this.toastId=t,this.config=i,this.message=n,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},uE={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},dE=new V("ToastConfig"),tv=class extends Jm{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,i,n){super(),this._hostDomElement=t,this._componentFactoryResolver=i,this._appRef=n}attachComponentPortal(t,i){let n=this._componentFactoryResolver.resolveComponentFactory(t.component),r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),i?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},fO=(()=>{class e{_document=x(Oe);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i=this._document.createElement("div");i.classList.add("overlay-container"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),this._containerElement=i}static \u0275fac=function(n){return new(n||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iv=class{_portalHost;constructor(t){this._portalHost=t}attach(t,i=!0){return this._portalHost.attach(t,i)}detach(){return this._portalHost.detach()}},mO=(()=>{class e{_overlayContainer=x(fO);_componentFactoryResolver=x(zn);_appRef=x(ti);_document=x(Oe);_paneElements=new Map;create(i,n){return this._createOverlayRef(this.getPaneElement(i,n))}getPaneElement(i="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[i]||(this._paneElements.get(n)[i]=this._createPaneElement(i,n)),this._paneElements.get(n)[i]}_createPaneElement(i,n){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(i),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(i){return new tv(i,this._componentFactoryResolver,this._appRef)}_createOverlayRef(i){return new iv(this._createPortalHost(i))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ge=(()=>{class e{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(i,n,r,s,o){this.overlay=n,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig=b(b({},i.default),i.config),i.config.iconClasses&&(this.toastrConfig.iconClasses=b(b({},i.default.iconClasses),i.config.iconClasses))}show(i,n,r={},s=""){return this._preBuildNotification(s,i,n,this.applyConfig(r))}success(i,n,r={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,i,n,this.applyConfig(r))}error(i,n,r={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,i,n,this.applyConfig(r))}info(i,n,r={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,i,n,this.applyConfig(r))}warning(i,n,r={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,i,n,this.applyConfig(r))}clear(i){for(let n of this.toasts)if(i!==void 0){if(n.toastId===i){n.toastRef.manualClose();return}}else n.toastRef.manualClose()}remove(i){let n=this._findToast(i);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(i="",n="",r,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let l=o&&a.title===i;if((!o||l)&&a.message===n)return a.toastRef.onDuplicate(r,s),a}return null}applyConfig(i={}){return b(b({},this.toastrConfig),i)}_findToast(i){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===i)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(i,n,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(i,n,r,s)):this._buildNotification(i,n,r,s)}_buildNotification(i,n,r,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=n;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=n;n&&s.enableHtml&&(c=this.sanitizer.sanitize(Qt.HTML,n));let u=new ev(l),d=new uo(this.index,s,c,r,i,u),f=[{provide:uo,useValue:d}],m=pt.create({providers:f,parent:this._injector}),v=new Xm(s.toastComponent,m),S=l.attach(v,s.newestOnTop);u.componentInstance=S.instance;let w={toastId:this.index,title:r||"",message:n||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:S};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{w.toastRef.activate()})),this.toasts.push(w),w}static \u0275fac=function(n){return new(n||e)(_(dE),_(mO),_(pt),_(Ef),_(fe))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vO=(()=>{class e{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=xi(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(i,n,r){this.toastrService=i,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=xi({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(i=>B(b({},i),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let i=new Date().getTime(),n=this.hideTime-i;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(i=>B(b({},i),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(i=>B(b({},i),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(i,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(i),n)):this.timeout=setTimeout(()=>i(),n)}outsideInterval(i,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(i),n)):this.intervalId=setInterval(()=>i(),n)}runInsideAngular(i){this.ngZone?this.ngZone.run(()=>i()):i()}static \u0275fac=function(n){return new(n||e)(y(Ge),y(uo),y(fe))};static \u0275cmp=q({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){n&1&&T("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(Hg("@flyInOut",r._state),mn(r.toastClasses),kr("display",r.displayStyle))},standalone:!0,features:[Wi],attrs:cE,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&J(0,nO,3,0,"button",0)(1,sO,3,5,"div",1)(2,oO,1,3,"div",2)(3,aO,2,4,"div",3)(4,lO,2,2,"div",4),n&2&&(M("ngIf",r.options.closeButton),C(),M("ngIf",r.title),C(),M("ngIf",r.message&&r.options.enableHtml),C(),M("ngIf",r.message&&!r.options.enableHtml),C(),M("ngIf",r.options.progressBar))},dependencies:[af],encapsulation:2,data:{animation:[ub("flyInOut",[Iu("inactive",Vr({opacity:0})),Iu("active",Vr({opacity:1})),Iu("removed",Vr({opacity:0})),Rf("inactive => active",xf("{{ easeTime }}ms {{ easing }}")),Rf("active => removed",xf("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return e})(),CO=B(b({},uE),{toastComponent:vO}),wO=(e={})=>ks([{provide:dE,useValue:{default:CO,config:e}}]),hE=(()=>{class e{static forRoot(i={}){return{ngModule:e,providers:[wO(i)]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=Be({type:e});static \u0275inj=Ve({})}return e})();var yO=(()=>{class e{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=xi(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=xi("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(i,n,r){this.toastrService=i,this.toastPackage=n,this.appRef=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let i=new Date().getTime(),n=this.hideTime-i;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(n){return new(n||e)(y(Ge),y(uo),y(ti))};static \u0275cmp=q({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,r){n&1&&T("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(mn(r.toastClasses),kr("display",r.displayStyle))},standalone:!0,features:[Wi],attrs:cE,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&J(0,cO,3,0,"button",0)(1,dO,3,5,"div",1)(2,hO,1,3,"div",2)(3,pO,2,4,"div",3)(4,gO,2,2,"div",4),n&2&&(M("ngIf",r.options.closeButton),C(),M("ngIf",r.title),C(),M("ngIf",r.message&&r.options.enableHtml),C(),M("ngIf",r.message&&!r.options.enableHtml),C(),M("ngIf",r.options.progressBar))},dependencies:[af],encapsulation:2,changeDetection:0})}return e})(),cK=B(b({},uE),{toastComponent:yO});var SO=["content"],bO=["scroll"],EO=["padding"],fE=["*"],ja=e=>({searchTerm:e});function DO(e,t){if(e&1&&(p(0,"div",3),cu(1,6),h()),e&2){let i=F();C(),M("ngTemplateOutlet",i.headerTemplate)("ngTemplateOutletContext",Vs(2,ja,i.filterValue))}}function xO(e,t){if(e&1&&(p(0,"div",5),cu(1,6),h()),e&2){let i=F();C(),M("ngTemplateOutlet",i.footerTemplate)("ngTemplateOutletContext",Vs(2,ja,i.filterValue))}}var RO=["searchInput"],MO=["clearButton"],IO=(e,t,i)=>({item:e,clear:t,label:i}),FO=(e,t)=>({items:e,clear:t}),TO=(e,t,i,n)=>({item:e,item$:t,index:i,searchTerm:n});function AO(e,t){if(e&1&&(p(0,"div",20),g(1),h()),e&2){let i=F(2);C(),O(i.placeholder)}}function PO(e,t){}function kO(e,t){if(e&1&&J(0,AO,2,1,"ng-template",null,1,vn)(2,PO,0,0,"ng-template",19),e&2){let i=Xt(1),n=F();C(2),M("ngTemplateOutlet",n.placeholderTemplate||i)}}function _O(e,t){if(e&1){let i=De();p(0,"span",23),T("click",function(){G(i);let r=F().$implicit,s=F(2);return z(s.unselect(r))}),g(1,"\xD7"),h(),D(2,"span",24)}if(e&2){let i=F().$implicit,n=F(2);C(2),M("ngItemLabel",i.label)("escape",n.escapeHTML)}}function OO(e,t){}function LO(e,t){if(e&1&&(p(0,"div",22),J(1,_O,3,2,"ng-template",null,2,vn)(3,OO,0,0,"ng-template",12),h()),e&2){let i=t.$implicit,n=Xt(2),r=F(2);Yt("ng-value-disabled",i.disabled),C(3),M("ngTemplateOutlet",r.labelTemplate||n)("ngTemplateOutletContext",wS(4,IO,i.value,r.clearItem,i.label))}}function NO(e,t){if(e&1&&Vg(0,LO,4,8,"div",21,Ng().trackByOption,!0),e&2){let i=F();Bg(i.selectedItems)}}function VO(e,t){}function BO(e,t){if(e&1&&J(0,VO,0,0,"ng-template",12),e&2){let i=F();M("ngTemplateOutlet",i.multiLabelTemplate)("ngTemplateOutletContext",CS(2,FO,i.selectedValues,i.clearItem))}}function HO(e,t){e&1&&D(0,"div",25)}function GO(e,t){}function zO(e,t){if(e&1&&J(0,HO,1,0,"ng-template",null,3,vn)(2,GO,0,0,"ng-template",19),e&2){let i=Xt(1),n=F();C(2),M("ngTemplateOutlet",n.loadingSpinnerTemplate||i)}}function jO(e,t){if(e&1&&(p(0,"span",15,4)(2,"span",26),g(3,"\xD7"),h()()),e&2){let i=F();jg("title",i.clearAllText)}}function WO(e,t){if(e&1&&D(0,"span",31),e&2){let i=F().$implicit,n=F(2);M("ngItemLabel",i.label)("escape",n.escapeHTML)}}function UO(e,t){}function $O(e,t){if(e&1){let i=De();p(0,"div",30),T("click",function(){let r=G(i).$implicit,s=F(2);return z(s.toggleItem(r))})("mouseover",function(){let r=G(i).$implicit,s=F(2);return z(s.onItemHover(r))}),J(1,WO,1,2,"ng-template",null,5,vn)(3,UO,0,0,"ng-template",12),h()}if(e&2){let i=t.$implicit,n=Xt(2),r=F(2);Yt("ng-option-disabled",i.disabled)("ng-option-selected",i.selected)("ng-optgroup",i.children)("ng-option",!i.children)("ng-option-child",!!i.parent)("ng-option-marked",i===r.itemsList.markedItem),Bt("role",i.children?"group":"option")("aria-selected",i.selected)("id",i==null?null:i.htmlId),C(3),M("ngTemplateOutlet",i.children?r.optgroupTemplate||n:r.optionTemplate||n)("ngTemplateOutletContext",yS(17,TO,i.value,i,i.index,r.searchTerm))}}function qO(e,t){if(e&1&&(p(0,"span")(1,"span",33),g(2),h(),g(3),h()),e&2){let i=F(3);C(2),O(i.addTagText),C(),at('"',i.searchTerm,'"')}}function KO(e,t){}function QO(e,t){if(e&1){let i=De();p(0,"div",32),T("mouseover",function(){G(i);let r=F(2);return z(r.itemsList.unmarkItem())})("click",function(){G(i);let r=F(2);return z(r.selectTag())}),J(1,qO,4,2,"ng-template",null,6,vn)(3,KO,0,0,"ng-template",12),h()}if(e&2){let i=Xt(2),n=F(2);Yt("ng-option-marked",!n.itemsList.markedItem),C(3),M("ngTemplateOutlet",n.tagTemplate||i)("ngTemplateOutletContext",Vs(4,ja,n.searchTerm))}}function YO(e,t){if(e&1&&(p(0,"div",34),g(1),h()),e&2){let i=F(3);C(),O(i.notFoundText)}}function ZO(e,t){}function XO(e,t){if(e&1&&J(0,YO,2,1,"ng-template",null,7,vn)(2,ZO,0,0,"ng-template",12),e&2){let i=Xt(1),n=F(2);C(2),M("ngTemplateOutlet",n.notFoundTemplate||i)("ngTemplateOutletContext",Vs(2,ja,n.searchTerm))}}function JO(e,t){if(e&1&&(p(0,"div",34),g(1),h()),e&2){let i=F(3);C(),O(i.typeToSearchText)}}function eL(e,t){}function tL(e,t){if(e&1&&J(0,JO,2,1,"ng-template",null,8,vn)(2,eL,0,0,"ng-template",19),e&2){let i=Xt(1),n=F(2);C(2),M("ngTemplateOutlet",n.typeToSearchTemplate||i)}}function iL(e,t){if(e&1&&(p(0,"div",34),g(1),h()),e&2){let i=F(3);C(),O(i.loadingText)}}function nL(e,t){}function rL(e,t){if(e&1&&J(0,iL,2,1,"ng-template",null,9,vn)(2,nL,0,0,"ng-template",12),e&2){let i=Xt(1),n=F(2);C(2),M("ngTemplateOutlet",n.loadingTextTemplate||i)("ngTemplateOutletContext",Vs(2,ja,n.searchTerm))}}function sL(e,t){if(e&1){let i=De();p(0,"ng-dropdown-panel",27),T("update",function(r){G(i);let s=F();return z(s.viewPortItems=r)})("scroll",function(r){G(i);let s=F();return z(s.scroll.emit(r))})("scrollToEnd",function(r){G(i);let s=F();return z(s.scrollToEnd.emit(r))})("outsideClick",function(){G(i);let r=F();return z(r.close())}),_r(1),Vg(2,$O,4,22,"div",28,Ng().trackByOption,!0),J(4,QO,4,6,"div",29),Or(),J(5,XO,3,4)(6,tL,3,1)(7,rL,3,4),h()}if(e&2){let i=F();Yt("ng-select-multiple",i.multiple),M("virtualScroll",i.virtualScroll)("bufferAmount",i.bufferAmount)("appendTo",i.appendTo)("position",i.dropdownPosition)("headerTemplate",i.headerTemplate)("footerTemplate",i.footerTemplate)("filterValue",i.searchTerm)("items",i.itemsList.filteredItems)("markedItem",i.itemsList.markedItem)("ngClass",i.appendTo?i.ngClass?i.ngClass:i.classes:null)("id",i.dropdownId),C(2),Bg(i.viewPortItems),C(2),Zt(i.showAddTag?4:-1),C(),Zt(i.showNoItemsFound()?5:-1),C(),Zt(i.showTypeToSearch()?6:-1),C(),Zt(i.loading&&i.itemsList.filteredItems.length===0?7:-1)}}var mE=/[&<>"']/g,oL=RegExp(mE.source),aL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function lL(e){return e&&oL.test(e)?e.replace(mE,t=>aL[t]):e}function Ue(e){return e!=null}function za(e){return typeof e=="object"&&Ue(e)}function cL(e){return e instanceof Promise}function xd(e){return e instanceof Function}var uL=(()=>{let t=class t{constructor(n){this.element=n,this.escape=!0}ngOnChanges(n){this.element.nativeElement.innerHTML=this.escape?lL(this.ngItemLabel):this.ngItemLabel}};t.\u0275fac=function(r){return new(r||t)(y(We))},t.\u0275dir=de({type:t,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},standalone:!0,features:[gt]});let e=t;return e})(),dL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-option-tmp",""]],standalone:!0});let e=t;return e})(),hL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-optgroup-tmp",""]],standalone:!0});let e=t;return e})(),pL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-label-tmp",""]],standalone:!0});let e=t;return e})(),gL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-multi-label-tmp",""]],standalone:!0});let e=t;return e})(),fL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-header-tmp",""]],standalone:!0});let e=t;return e})(),mL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-footer-tmp",""]],standalone:!0});let e=t;return e})(),vL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-notfound-tmp",""]],standalone:!0});let e=t;return e})(),CL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-placeholder-tmp",""]],standalone:!0});let e=t;return e})(),wL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-typetosearch-tmp",""]],standalone:!0});let e=t;return e})(),yL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-loadingtext-tmp",""]],standalone:!0});let e=t;return e})(),SL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-tag-tmp",""]],standalone:!0});let e=t;return e})(),bL=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(r){return new(r||t)(y(Se))},t.\u0275dir=de({type:t,selectors:[["","ng-loadingspinner-tmp",""]],standalone:!0});let e=t;return e})();function vE(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}var EL={"\u24B6":"A",\uFF21:"A",\u00C0:"A",\u00C1:"A",\u00C2:"A",\u1EA6:"A",\u1EA4:"A",\u1EAA:"A",\u1EA8:"A",\u00C3:"A",\u0100:"A",\u0102:"A",\u1EB0:"A",\u1EAE:"A",\u1EB4:"A",\u1EB2:"A",\u0226:"A",\u01E0:"A",\u00C4:"A",\u01DE:"A",\u1EA2:"A",\u00C5:"A",\u01FA:"A",\u01CD:"A",\u0200:"A",\u0202:"A",\u1EA0:"A",\u1EAC:"A",\u1EB6:"A",\u1E00:"A",\u0104:"A","\u023A":"A","\u2C6F":"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B",\uFF22:"B",\u1E02:"B",\u1E04:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0181:"B","\u24B8":"C",\uFF23:"C",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0187:"C","\u023B":"C","\uA73E":"C","\u24B9":"D",\uFF24:"D",\u1E0A:"D",\u010E:"D",\u1E0C:"D",\u1E10:"D",\u1E12:"D",\u1E0E:"D",\u0110:"D",\u018B:"D",\u018A:"D",\u0189:"D","\uA779":"D",\u01F1:"DZ",\u01C4:"DZ",\u01F2:"Dz",\u01C5:"Dz","\u24BA":"E",\uFF25:"E",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u1EC0:"E",\u1EBE:"E",\u1EC4:"E",\u1EC2:"E",\u1EBC:"E",\u0112:"E",\u1E14:"E",\u1E16:"E",\u0114:"E",\u0116:"E",\u00CB:"E",\u1EBA:"E",\u011A:"E",\u0204:"E",\u0206:"E",\u1EB8:"E",\u1EC6:"E",\u0228:"E",\u1E1C:"E",\u0118:"E",\u1E18:"E",\u1E1A:"E",\u0190:"E",\u018E:"E","\u24BB":"F",\uFF26:"F",\u1E1E:"F",\u0191:"F","\uA77B":"F","\u24BC":"G",\uFF27:"G",\u01F4:"G",\u011C:"G",\u1E20:"G",\u011E:"G",\u0120:"G",\u01E6:"G",\u0122:"G",\u01E4:"G",\u0193:"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H",\uFF28:"H",\u0124:"H",\u1E22:"H",\u1E26:"H",\u021E:"H",\u1E24:"H",\u1E28:"H",\u1E2A:"H",\u0126:"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I",\uFF29:"I",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u0128:"I",\u012A:"I",\u012C:"I",\u0130:"I",\u00CF:"I",\u1E2E:"I",\u1EC8:"I",\u01CF:"I",\u0208:"I",\u020A:"I",\u1ECA:"I",\u012E:"I",\u1E2C:"I",\u0197:"I","\u24BF":"J",\uFF2A:"J",\u0134:"J","\u0248":"J","\u24C0":"K",\uFF2B:"K",\u1E30:"K",\u01E8:"K",\u1E32:"K",\u0136:"K",\u1E34:"K",\u0198:"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L",\uFF2C:"L",\u013F:"L",\u0139:"L",\u013D:"L",\u1E36:"L",\u1E38:"L",\u013B:"L",\u1E3C:"L",\u1E3A:"L",\u0141:"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L",\u01C7:"LJ",\u01C8:"Lj","\u24C2":"M",\uFF2D:"M",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u019C:"M","\u24C3":"N",\uFF2E:"N",\u01F8:"N",\u0143:"N",\u00D1:"N",\u1E44:"N",\u0147:"N",\u1E46:"N",\u0145:"N",\u1E4A:"N",\u1E48:"N","\u0220":"N",\u019D:"N","\uA790":"N","\uA7A4":"N",\u01CA:"NJ",\u01CB:"Nj","\u24C4":"O",\uFF2F:"O",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u1ED2:"O",\u1ED0:"O",\u1ED6:"O",\u1ED4:"O",\u00D5:"O",\u1E4C:"O",\u022C:"O",\u1E4E:"O",\u014C:"O",\u1E50:"O",\u1E52:"O",\u014E:"O",\u022E:"O",\u0230:"O",\u00D6:"O",\u022A:"O",\u1ECE:"O",\u0150:"O",\u01D1:"O",\u020C:"O",\u020E:"O",\u01A0:"O",\u1EDC:"O",\u1EDA:"O",\u1EE0:"O",\u1EDE:"O",\u1EE2:"O",\u1ECC:"O",\u1ED8:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u0186:"O",\u019F:"O","\uA74A":"O","\uA74C":"O",\u01A2:"OI","\uA74E":"OO",\u0222:"OU","\u24C5":"P",\uFF30:"P",\u1E54:"P",\u1E56:"P",\u01A4:"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q",\uFF31:"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R",\uFF32:"R",\u0154:"R",\u1E58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1E5A:"R",\u1E5C:"R",\u0156:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S",\uFF33:"S","\u1E9E":"S",\u015A:"S",\u1E64:"S",\u015C:"S",\u1E60:"S",\u0160:"S",\u1E66:"S",\u1E62:"S",\u1E68:"S",\u0218:"S",\u015E:"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T",\uFF34:"T",\u1E6A:"T",\u0164:"T",\u1E6C:"T",\u021A:"T",\u0162:"T",\u1E70:"T",\u1E6E:"T",\u0166:"T",\u01AC:"T",\u01AE:"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U",\uFF35:"U",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u0168:"U",\u1E78:"U",\u016A:"U",\u1E7A:"U",\u016C:"U",\u00DC:"U",\u01DB:"U",\u01D7:"U",\u01D5:"U",\u01D9:"U",\u1EE6:"U",\u016E:"U",\u0170:"U",\u01D3:"U",\u0214:"U",\u0216:"U",\u01AF:"U",\u1EEA:"U",\u1EE8:"U",\u1EEE:"U",\u1EEC:"U",\u1EF0:"U",\u1EE4:"U",\u1E72:"U",\u0172:"U",\u1E76:"U",\u1E74:"U","\u0244":"U","\u24CB":"V",\uFF36:"V",\u1E7C:"V",\u1E7E:"V",\u01B2:"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W",\uFF37:"W",\u1E80:"W",\u1E82:"W",\u0174:"W",\u1E86:"W",\u1E84:"W",\u1E88:"W","\u2C72":"W","\u24CD":"X",\uFF38:"X",\u1E8A:"X",\u1E8C:"X","\u24CE":"Y",\uFF39:"Y",\u1EF2:"Y",\u00DD:"Y",\u0176:"Y",\u1EF8:"Y",\u0232:"Y",\u1E8E:"Y",\u0178:"Y",\u1EF6:"Y",\u1EF4:"Y",\u01B3:"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z",\uFF3A:"Z",\u0179:"Z",\u1E90:"Z",\u017B:"Z",\u017D:"Z",\u1E92:"Z",\u1E94:"Z",\u01B5:"Z",\u0224:"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a",\uFF41:"a",\u1E9A:"a",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u1EA7:"a",\u1EA5:"a",\u1EAB:"a",\u1EA9:"a",\u00E3:"a",\u0101:"a",\u0103:"a",\u1EB1:"a",\u1EAF:"a",\u1EB5:"a",\u1EB3:"a",\u0227:"a",\u01E1:"a",\u00E4:"a",\u01DF:"a",\u1EA3:"a",\u00E5:"a",\u01FB:"a",\u01CE:"a",\u0201:"a",\u0203:"a",\u1EA1:"a",\u1EAD:"a",\u1EB7:"a",\u1E01:"a",\u0105:"a","\u2C65":"a",\u0250:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b",\uFF42:"b",\u1E03:"b",\u1E05:"b",\u1E07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24D2":"c",\uFF43:"c",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0188:"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d",\uFF44:"d",\u1E0B:"d",\u010F:"d",\u1E0D:"d",\u1E11:"d",\u1E13:"d",\u1E0F:"d",\u0111:"d",\u018C:"d",\u0256:"d",\u0257:"d","\uA77A":"d",\u01F3:"dz",\u01C6:"dz","\u24D4":"e",\uFF45:"e",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u1EC1:"e",\u1EBF:"e",\u1EC5:"e",\u1EC3:"e",\u1EBD:"e",\u0113:"e",\u1E15:"e",\u1E17:"e",\u0115:"e",\u0117:"e",\u00EB:"e",\u1EBB:"e",\u011B:"e",\u0205:"e",\u0207:"e",\u1EB9:"e",\u1EC7:"e",\u0229:"e",\u1E1D:"e",\u0119:"e",\u1E19:"e",\u1E1B:"e","\u0247":"e",\u025B:"e",\u01DD:"e","\u24D5":"f",\uFF46:"f",\u1E1F:"f",\u0192:"f","\uA77C":"f","\u24D6":"g",\uFF47:"g",\u01F5:"g",\u011D:"g",\u1E21:"g",\u011F:"g",\u0121:"g",\u01E7:"g",\u0123:"g",\u01E5:"g",\u0260:"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h",\uFF48:"h",\u0125:"h",\u1E23:"h",\u1E27:"h",\u021F:"h",\u1E25:"h",\u1E29:"h",\u1E2B:"h",\u1E96:"h",\u0127:"h","\u2C68":"h","\u2C76":"h",\u0265:"h",\u0195:"hv","\u24D8":"i",\uFF49:"i",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u0129:"i",\u012B:"i",\u012D:"i",\u00EF:"i",\u1E2F:"i",\u1EC9:"i",\u01D0:"i",\u0209:"i",\u020B:"i",\u1ECB:"i",\u012F:"i",\u1E2D:"i",\u0268:"i",\u0131:"i","\u24D9":"j",\uFF4A:"j",\u0135:"j",\u01F0:"j","\u0249":"j","\u24DA":"k",\uFF4B:"k",\u1E31:"k",\u01E9:"k",\u1E33:"k",\u0137:"k",\u1E35:"k",\u0199:"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l",\uFF4C:"l",\u0140:"l",\u013A:"l",\u013E:"l",\u1E37:"l",\u1E39:"l",\u013C:"l",\u1E3D:"l",\u1E3B:"l",\u017F:"l",\u0142:"l",\u019A:"l",\u026B:"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l",\u01C9:"lj","\u24DC":"m",\uFF4D:"m",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m",\u026F:"m","\u24DD":"n",\uFF4E:"n",\u01F9:"n",\u0144:"n",\u00F1:"n",\u1E45:"n",\u0148:"n",\u1E47:"n",\u0146:"n",\u1E4B:"n",\u1E49:"n",\u019E:"n",\u0272:"n",\u0149:"n","\uA791":"n","\uA7A5":"n",\u01CC:"nj","\u24DE":"o",\uFF4F:"o",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u1ED3:"o",\u1ED1:"o",\u1ED7:"o",\u1ED5:"o",\u00F5:"o",\u1E4D:"o",\u022D:"o",\u1E4F:"o",\u014D:"o",\u1E51:"o",\u1E53:"o",\u014F:"o",\u022F:"o",\u0231:"o",\u00F6:"o",\u022B:"o",\u1ECF:"o",\u0151:"o",\u01D2:"o",\u020D:"o",\u020F:"o",\u01A1:"o",\u1EDD:"o",\u1EDB:"o",\u1EE1:"o",\u1EDF:"o",\u1EE3:"o",\u1ECD:"o",\u1ED9:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u0254:"o","\uA74B":"o","\uA74D":"o",\u0275:"o",\u01A3:"oi",\u0223:"ou","\uA74F":"oo","\u24DF":"p",\uFF50:"p",\u1E55:"p",\u1E57:"p",\u01A5:"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q",\uFF51:"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r",\uFF52:"r",\u0155:"r",\u1E59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1E5B:"r",\u1E5D:"r",\u0157:"r",\u1E5F:"r","\u024D":"r",\u027D:"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s",\uFF53:"s",\u00DF:"s",\u015B:"s",\u1E65:"s",\u015D:"s",\u1E61:"s",\u0161:"s",\u1E67:"s",\u1E63:"s",\u1E69:"s",\u0219:"s",\u015F:"s","\u023F":"s","\uA7A9":"s","\uA785":"s",\u1E9B:"s","\u24E3":"t",\uFF54:"t",\u1E6B:"t",\u1E97:"t",\u0165:"t",\u1E6D:"t",\u021B:"t",\u0163:"t",\u1E71:"t",\u1E6F:"t",\u0167:"t",\u01AD:"t",\u0288:"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u",\uFF55:"u",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u0169:"u",\u1E79:"u",\u016B:"u",\u1E7B:"u",\u016D:"u",\u00FC:"u",\u01DC:"u",\u01D8:"u",\u01D6:"u",\u01DA:"u",\u1EE7:"u",\u016F:"u",\u0171:"u",\u01D4:"u",\u0215:"u",\u0217:"u",\u01B0:"u",\u1EEB:"u",\u1EE9:"u",\u1EEF:"u",\u1EED:"u",\u1EF1:"u",\u1EE5:"u",\u1E73:"u",\u0173:"u",\u1E77:"u",\u1E75:"u",\u0289:"u","\u24E5":"v",\uFF56:"v",\u1E7D:"v",\u1E7F:"v",\u028B:"v","\uA75F":"v",\u028C:"v","\uA761":"vy","\u24E6":"w",\uFF57:"w",\u1E81:"w",\u1E83:"w",\u0175:"w",\u1E87:"w",\u1E85:"w",\u1E98:"w",\u1E89:"w","\u2C73":"w","\u24E7":"x",\uFF58:"x",\u1E8B:"x",\u1E8D:"x","\u24E8":"y",\uFF59:"y",\u1EF3:"y",\u00FD:"y",\u0177:"y",\u1EF9:"y",\u0233:"y",\u1E8F:"y",\u00FF:"y",\u1EF7:"y",\u1E99:"y",\u1EF5:"y",\u01B4:"y","\u024F":"y","\u1EFF":"y","\u24E9":"z",\uFF5A:"z",\u017A:"z",\u1E91:"z",\u017C:"z",\u017E:"z",\u1E93:"z",\u1E95:"z",\u01B6:"z",\u0225:"z","\u0240":"z","\u2C6C":"z","\uA763":"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038A:"\u0399",\u03AA:"\u0399",\u038C:"\u039F",\u038E:"\u03A5",\u03AB:"\u03A5",\u038F:"\u03A9",\u03AC:"\u03B1",\u03AD:"\u03B5",\u03AE:"\u03B7",\u03AF:"\u03B9",\u03CA:"\u03B9",\u0390:"\u03B9",\u03CC:"\u03BF",\u03CD:"\u03C5",\u03CB:"\u03C5",\u03B0:"\u03C5",\u03C9:"\u03C9",\u03C2:"\u03C3"};function Dd(e){let t=i=>EL[i]||i;return e.replace(/[^\u0000-\u007E]/g,t)}var nv=class{constructor(t,i){this._ngSelect=t,this._selectionModel=i,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){let i=this.selectedItems[t];if(!i.disabled)return i}return null}setItems(t){this._items=t.map((i,n)=>this.mapItem(i,n)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;let i=this._ngSelect.multiple;i||this.clearSelected(),this._selectionModel.select(t,i,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&Ue(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let i;return this._ngSelect.compareWith?i=n=>this._ngSelect.compareWith(n.value,t):this._ngSelect.bindValue?i=n=>!n.children&&this.resolveNested(n.value,this._ngSelect.bindValue)===t:i=n=>n.value===t||!n.children&&n.label&&n.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(n=>i(n))}addItem(t){let i=this.mapItem(t,this._items.length);return this._items.push(i),this._filteredItems.push(i),i}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(i=>{i.selected=t&&i.selected&&i.disabled,i.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=Dd(t).toLocaleLowerCase(),this.filteredItems.find(i=>Dd(i.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t){this.resetFilteredItems();return}this._filteredItems=[],t=this._ngSelect.searchFn?t:Dd(t).toLocaleLowerCase();let i=this._ngSelect.searchFn||this._defaultSearchFn,n=this._ngSelect.hideSelected;for(let r of Array.from(this._groups.keys())){let s=[];for(let o of this._groups.get(r)){if(n&&(o.parent&&o.parent.selected||o.selected))continue;let a=this._ngSelect.searchFn?o.value:o;i(t,a)&&s.push(o)}if(s.length>0){let[o]=s.slice(-1);if(o.parent){let a=this._items.find(l=>l===o.parent);this._filteredItems.push(a)}this._filteredItems.push(...s)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter(t=>!t.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(this._filteredItems.length===0)return;let i=this._getLastMarkedIndex();i>-1?this._markedIndex=i:this._markedIndex=t?this.filteredItems.findIndex(n=>!n.disabled):-1}resolveNested(t,i){if(!za(t))return t;if(i.indexOf(".")===-1)return t[i];{let n=i.split("."),r=t;for(let s=0,o=n.length;s<o;++s){if(r==null)return null;r=r[n[s]]}return r}}mapItem(t,i){let n=Ue(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),r=Ue(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:i,label:Ue(n)?n.toString():"",value:r,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${i}`}}mapSelectedItems(){let t=this._ngSelect.multiple;for(let i of this.selectedItems){let n=this._ngSelect.bindValue?this.resolveNested(i.value,this._ngSelect.bindValue):i.value,r=Ue(n)?this.findItem(n):null;this._selectionModel.unselect(i,t),this._selectionModel.select(r||i,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(i=>this.selectedItems.indexOf(i)===-1))}_showSelected(t){if(this._filteredItems.push(t),t.parent){let i=t.parent;this._filteredItems.find(r=>r===i)||this._filteredItems.push(i)}else if(t.children)for(let i of t.children)i.selected=!1,this._filteredItems.push(i);this._filteredItems=[...this._filteredItems.sort((i,n)=>i.index-n.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(i=>i!==t),t.parent?t.parent.children.every(n=>n.selected)&&(this._filteredItems=this._filteredItems.filter(n=>n!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(i=>i.parent!==t))}_defaultSearchFn(t,i){return Dd(i.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){this._filteredItems.length===0||this._filteredItems.every(i=>i.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&this.markedItem===void 0)return-1;let t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,i){let n=new Map;if(t.length===0)return n;if(Array.isArray(t[0].value[i])){for(let o of t){let a=(o.value[i]||[]).map((l,c)=>this.mapItem(l,c));n.set(o,a)}return n}let r=xd(this._ngSelect.groupBy),s=o=>{let a=r?i(o.value):o.value[i];return Ue(a)?a:void 0};for(let o of t){let a=s(o),l=n.get(a);l?l.push(o):n.set(a,[o])}return n}_flatten(t){let i=xd(this._ngSelect.groupBy),n=[];for(let r of Array.from(t.keys())){let s=n.length;if(r===void 0){let d=t.get(void 0)||[];n.push(...d.map(f=>(f.index=s++,f)));continue}let o=za(r),a={label:o?"":String(r),children:void 0,parent:null,index:s++,disabled:!this._ngSelect.selectableGroup,htmlId:vE()},l=i?this._ngSelect.bindLabel:this._ngSelect.groupBy,c=this._ngSelect.groupValue||(()=>o?r.value:{[l]:r}),u=t.get(r).map(d=>(d.parent=a,d.children=void 0,d.index=s++,d));a.children=u,a.value=c(r,u.map(d=>d.value)),n.push(a),n.push(...u)}return n}},Zi=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowDown=40]="ArrowDown",e[e.Backspace=8]="Backspace",e}(Zi||{}),CE=(()=>{let t=class t{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(n,r,s){let o=this._dimensions,a=o.itemHeight*r,c=Math.max(0,n)/a*r,u=Math.min(r,Math.ceil(c)+(o.itemsPerViewport+1)),f=Math.max(0,u-o.itemsPerViewport),m=Math.min(f,Math.floor(c)),v=o.itemHeight*Math.ceil(m)-o.itemHeight*Math.min(m,s);return v=isNaN(v)?0:v,m=isNaN(m)?-1:m,u=isNaN(u)?-1:u,m-=s,m=Math.max(0,m),u+=s,u=Math.min(r,u),{topPadding:v,scrollHeight:a,start:m,end:u}}setDimensions(n,r){let s=Math.max(1,Math.floor(r/n));this._dimensions={itemHeight:n,panelHeight:r,itemsPerViewport:s}}getScrollTo(n,r,s){let{panelHeight:o}=this.dimensions,a=n+r,l=s,c=l+o;return o>=a&&s===n?null:a>c?l+a-c:n<=l?n:null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),pE=["top","right","bottom","left"],DL=typeof requestAnimationFrame<"u"?Sh:yh,gE=(()=>{let t=class t{constructor(n,r,s,o,a){this._renderer=n,this._zone=r,this._panelService=s,this._document=a,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new ce,this.scroll=new ce,this.scrollToEnd=new ce,this.outsideClick=new ce,this._destroy$=new Ee,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(n){n!==this._itemsLength&&(this._itemsLength=n,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){let{itemHeight:n,panelHeight:r}=this._panelService.dimensions,s=this.markedItem.index*n;return r>s?0:s}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(n){if(n.items){let r=n.items;this._onItemsChange(r.currentValue,r.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(n,r=!1){if(!n)return;let s=this.items.indexOf(n);if(s<0||s>=this.itemsLength)return;let o;if(this.virtualScroll){let a=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(s*a,a,this._lastScrollPosition)}else{let a=this._dropdown.querySelector(`#${n.htmlId}`),l=r?a.offsetTop:this._lastScrollPosition;o=this._panelService.getScrollTo(a.offsetTop,a.clientHeight,l)}Ue(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){let n=this._scrollablePanel;n.scrollTop=n.scrollHeight-n.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),pE.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(n){pE.forEach(s=>{let o=`ng-select-${s}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});let r=`ng-select-${n}`;this._renderer.addClass(this._dropdown,r),this._renderer.addClass(this._select,r)}_handleScroll(){this._zone.runOutsideAngular(()=>{Pn(this.scrollElementRef.nativeElement,"scroll").pipe(_i(this._destroy$),xh(0,DL)).subscribe(n=>{let r=n.path||n.composedPath&&n.composedPath();if(!r||r.length===0&&!n.target)return;let s=!r||r.length===0?n.target.scrollTop:r[0].scrollTop;this._onContentScrolled(s)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{Fo(Pn(this._document,"touchstart",{capture:!0}),Pn(this._document,"click",{capture:!0})).pipe(_i(this._destroy$)).subscribe(n=>this._checkToClose(n))})}_checkToClose(n){if(this._select.contains(n.target)||this._dropdown.contains(n.target))return;let r=n.path||n.composedPath&&n.composedPath();n.target&&n.target.shadowRoot&&r&&r[0]&&this._select.contains(r[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(n,r){this.items=n||[],this._scrollToEndFired=!1,this.itemsLength=n.length,this.virtualScroll?this._updateItemsRange(r):(this._setVirtualHeight(),this._updateItems(r))}_updateItems(n){this.update.emit(this.items),n!==!1&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{let r=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,r),this._handleDropdownPosition(),this.scrollTo(this.markedItem,n)})})}_updateItemsRange(n){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{n?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(n){this.virtualScroll&&this._renderItemsRange(n),this._lastScrollPosition=n,this._fireScrollToEnd(n)}_updateVirtualHeight(n){this._updateScrollHeight&&(this._virtualPadding.style.height=`${n}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(n=null){if(n&&this._lastScrollPosition===n)return;n=n||this._scrollablePanel.scrollTop;let r=this._panelService.calculateItems(n,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(r.scrollHeight),this._contentPanel.style.transform=`translateY(${r.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(r.start,r.end)),this.scroll.emit({start:r.start,end:r.end})}),Ue(n)&&this._lastScrollPosition===0&&(this._scrollablePanel.scrollTop=n,this._lastScrollPosition=n)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||this.itemsLength===0)return Promise.resolve(this._panelService.dimensions);let[n]=this.items;return this.update.emit([n]),Promise.resolve().then(()=>{let s=this._dropdown.querySelector(`#${n.htmlId}`).clientHeight;this._virtualPadding.style.height=`${s*this.itemsLength}px`;let o=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(s,o),this._panelService.dimensions})}_fireScrollToEnd(n){if(this._scrollToEndFired||n===0)return;let r=this.virtualScroll?this._virtualPadding:this._contentPanel;n+this._dropdown.clientHeight>=r.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(n){if(this.position!=="auto")return this.position;let r=this._select.getBoundingClientRect(),s=document.documentElement.scrollTop||document.body.scrollTop,o=r.top+window.pageYOffset,a=r.height,l=n.getBoundingClientRect().height;return o+a+l>s+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){let n=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect(),s=n.left-r.left;this._dropdown.style.left=s+"px",this._dropdown.style.width=n.width+"px",this._dropdown.style.minWidth=n.width+"px"}_updateYPosition(){let n=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect(),s=n.height;if(this._currentPosition==="top"){let o=r.bottom-n.bottom;this._dropdown.style.bottom=o+s+"px",this._dropdown.style.top="auto"}else if(this._currentPosition==="bottom"){let o=n.top-r.top;this._dropdown.style.top=o+s+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{Pn(this._dropdown,"mousedown").pipe(_i(this._destroy$)).subscribe(n=>{n.target.tagName!=="INPUT"&&n.preventDefault()})})}};t.\u0275fac=function(r){return new(r||t)(y(zi),y(fe),y(CE),y(We),y(Oe,8))},t.\u0275cmp=q({type:t,selectors:[["ng-dropdown-panel"]],viewQuery:function(r,s){if(r&1&&(Lr(SO,7,We),Lr(bO,7,We),Lr(EO,7,We)),r&2){let o;Qe(o=Ye())&&(s.contentElementRef=o.first),Qe(o=Ye())&&(s.scrollElementRef=o.first),Qe(o=Ye())&&(s.paddingElementRef=o.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:[2,"virtualScroll","virtualScroll",Ae],headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},standalone:!0,features:[Pr,gt,Wi],ngContentSelectors:fE,decls:9,vars:6,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,s){r&1&&(Gg(),J(0,DO,2,4,"div",3),p(1,"div",4,0),D(3,"div",null,1),p(5,"div",null,2),zg(7),h()(),J(8,xO,2,4,"div",5)),r&2&&(Zt(s.headerTemplate?0:-1),C(3),Yt("total-padding",s.virtualScroll),C(2),Yt("scrollable-content",s.virtualScroll&&s.items.length),C(3),Zt(s.footerTemplate?8:-1))},dependencies:[lf],encapsulation:2,changeDetection:0});let e=t;return e})(),xL=(()=>{let t=class t{constructor(n){this.elementRef=n,this.disabled=!1,this.stateChange$=new Ee}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(n){n.disabled&&this.stateChange$.next({value:this.value,disabled:this.disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this.disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}};t.\u0275fac=function(r){return new(r||t)(y(We))},t.\u0275cmp=q({type:t,selectors:[["ng-option"]],inputs:{value:"value",disabled:[2,"disabled","disabled",Ae]},standalone:!0,features:[Pr,gt,Wi],ngContentSelectors:fE,decls:1,vars:0,template:function(r,s){r&1&&(Gg(),zg(0))},encapsulation:2,changeDetection:0});let e=t;return e})();function wE(){return new rv}var rv=class{constructor(){this._selected=[]}get value(){return this._selected}select(t,i,n){if(t.selected=!0,(!t.children||!i&&n)&&this._selected.push(t),i)if(t.parent){let r=t.parent.children.length,s=t.parent.children.filter(o=>o.selected).length;t.parent.selected=r===s}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),n&&this._activeChildren(t)?this._selected=[...this._selected.filter(r=>r.parent!==t),t]:this._selected=[...this._selected,...t.children.filter(r=>!r.disabled)])}unselect(t,i){if(this._selected=this._selected.filter(n=>n!==t),t.selected=!1,i)if(t.parent&&t.parent.selected){let n=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...n.filter(r=>r!==t&&!r.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(i=>i.disabled):[]}_setChildrenSelectedState(t,i){for(let n of t)n.disabled||(n.selected=i)}_removeChildren(t){this._selected=[...this._selected.filter(i=>i.parent!==t),...t.children.filter(i=>i.parent===t&&i.disabled&&i.selected)]}_removeParent(t){this._selected=this._selected.filter(i=>i!==t)}_activeChildren(t){return t.children.every(i=>!i.disabled||i.selected)}},RL=(()=>{let t=class t{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ML=(()=>{let t=class t{warn(n){console.warn(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),yE=new V("ng-select-selection-model"),ut=(()=>{let t=class t{get items(){return this._items}set items(n){this._itemsAreUsed=!0,this._items=n??[]}get compareWith(){return this._compareWith}set compareWith(n){if(n!=null&&!xd(n))throw Error("`compareWith` must be a function.");this._compareWith=n}get clearSearchOnAdd(){return Ue(this._clearSearchOnAdd)?this._clearSearchOnAdd:Ue(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(n){this._clearSearchOnAdd=n}get deselectOnClick(){return Ue(this._deselectOnClick)?this._deselectOnClick:Ue(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(n){this._deselectOnClick=n}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}constructor(n,r,s,o,a,l,c){this.classes=n,this.autoFocus=r,this.config=s,this._cd=l,this._console=c,this.markFirst=!0,this.preventToggleOnRightClick=!1,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=u=>!0,this.ngClass=null,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new ce,this.focusEvent=new ce,this.changeEvent=new ce,this.openEvent=new ce,this.closeEvent=new ce,this.searchEvent=new ce,this.clearEvent=new ce,this.addEvent=new ce,this.removeEvent=new ce,this.scroll=new ce,this.scrollToEnd=new ce,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=vE(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Ee,this._keyPress$=new Ee,this._onChange=u=>{},this._onTouched=()=>{},this.clearItem=u=>{let d=this.selectedItems.find(f=>f.value===u);this.unselect(d)},this.trackByOption=(u,d)=>this.trackByFn?this.trackByFn(d.value):d,this._mergeGlobalConfig(s),this.itemsList=new nv(this,o?o():wE()),this.element=a.nativeElement}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(n=>n.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(n){n.multiple&&this.itemsList.clearSelected(),n.items&&this._setItems(n.items.currentValue||[]),n.isOpen&&(this._manualOpen=Ue(n.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Ue(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(n){if(Zi[n.which]){if(this.keyDownFn(n)===!1)return;this.handleKeyCode(n)}else n.key&&n.key.length===1&&this._keyPress$.next(n.key.toLocaleLowerCase())}handleKeyCode(n){let r=n.target;this.clearButton&&this.clearButton.nativeElement===r?this.handleKeyCodeClear(n):this.handleKeyCodeInput(n)}handleKeyCodeInput(n){switch(n.which){case Zi.ArrowDown:this._handleArrowDown(n);break;case Zi.ArrowUp:this._handleArrowUp(n);break;case Zi.Space:this._handleSpace(n);break;case Zi.Enter:this._handleEnter(n);break;case Zi.Tab:this._handleTab(n);break;case Zi.Esc:this.close(),n.preventDefault();break;case Zi.Backspace:this._handleBackspace();break}}handleKeyCodeClear(n){switch(n.which){case Zi.Enter:this.handleClearClick(),n.preventDefault();break}}handleMousedown(n){if(this.preventToggleOnRightClick&&n.button===2)return!1;let r=n.target;if(r.tagName!=="INPUT"&&n.preventDefault(),r.classList.contains("ng-clear-wrapper")){this.handleClearClick();return}if(r.classList.contains("ng-arrow-wrapper")){this.handleArrowClick();return}r.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(n){this.itemsList.clearSelected(),this._handleWriteValue(n),this._cd.markForCheck()}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this._disabled=n,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(n){!n||n.disabled||this.disabled||(this.deselectOnClick&&n.selected?this.unselect(n):this.select(n),this._editableSearchTerm&&this._setSearchTermFromItems())}select(n){n.selected||(this.itemsList.select(n),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(n.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close(),this._onSelectionChanged()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(n){n&&(this.itemsList.unselect(n),this.focus(),this._updateNgModel(),this.removeEvent.emit(n.value),this._onSelectionChanged())}selectTag(){let n;xd(this.addTag)?n=this.addTag(this.searchTerm):n=this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};let r=s=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(s,null):this.itemsList.addItem(s);cL(n)?n.then(s=>this.select(r(s))).catch(()=>{}):n&&this.select(r(n))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}get showAddTag(){if(!this._validTerm)return!1;let n=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(r=>r.label.toLowerCase()===n)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(r=>r.label.toLowerCase()===n))&&!this.loading}showNoItemsFound(){let n=this.itemsList.filteredItems.length===0;return(n&&!this._isTypeahead&&!this.loading||n&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return this.itemsList.filteredItems.length===0&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(n){this._isComposing=!1,!this.searchWhileComposing&&this.filter(n)}filter(n){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=n,this._isTypeahead&&(this._validTerm||this.minTermLength===0)&&this.typeahead.next(n),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:n,items:this.itemsList.filteredItems.map(r=>r.value)}),this.open())}onInputFocus(n){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(n),this.focused=!0)}onInputBlur(n){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(n),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(n){n.disabled||this.itemsList.markItem(n)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){let n=this.selectedItems&&this.selectedItems[0];this.searchTerm=n&&n.label||null}_setItems(n){let r=n[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Ue(r)?!za(r):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(n),n.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Ue(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){let n=s=>{this.items=s.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},r=()=>{let s=Fo(this.ngOptions.changes,this._destroy$);Fo(...this.ngOptions.map(o=>o.stateChange$)).pipe(_i(s)).subscribe(o=>{let a=this.itemsList.findItem(o.value);a.disabled=o.disabled,a.label=o.label||a.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(To(this.ngOptions),_i(this._destroy$)).subscribe(s=>{this.bindLabel=this._defaultLabel,n(s),r()})}_isValidWriteValue(n){if(!Ue(n)||this.multiple&&n===""||Array.isArray(n)&&n.length===0)return!1;let r=s=>!Ue(this.compareWith)&&za(s)&&this.bindValue?(this._console.warn(`Setting object(${JSON.stringify(s)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1):!0;return this.multiple?Array.isArray(n)?n.every(s=>r(s)):(this._console.warn("Multiple select ngModel should be array."),!1):r(n)}_handleWriteValue(n){if(!this._isValidWriteValue(n))return;let r=s=>{let o=this.itemsList.findItem(s);if(o)this.itemsList.select(o);else{let a=za(s),l=!a&&!this.bindValue;a||l?this.itemsList.select(this.itemsList.mapItem(s,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:s},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?n.forEach(s=>r(s)):r(n)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(_i(this._destroy$),Xe(n=>this._pressedKeys.push(n)),Rh(200),Ct(()=>this._pressedKeys.length>0),ee(()=>this._pressedKeys.join(""))).subscribe(n=>{let r=this.itemsList.findByLabel(n);r&&(this.isOpen?(this.itemsList.markItem(r),this._scrollToMarked(),this._cd.markForCheck()):this.select(r)),this._pressedKeys=[]})}_setInputAttributes(){let n=this.searchInput.nativeElement,r=b({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(let s of Object.keys(r))n.setAttribute(s,r[s])}_updateNgModel(){let n=[];for(let s of this.selectedItems)if(this.bindValue){let o=null;if(s.children){let a=this.groupValue?this.bindValue:this.groupBy;o=s.value[a||this.groupBy]}else o=this.itemsList.resolveNested(s.value,this.bindValue);n.push(o)}else n.push(s.value);let r=this.selectedItems.map(s=>s.value);this.multiple?(this._onChange(n),this.changeEvent.emit(r)):(this._onChange(Ue(n[0])?n[0]:null),this.changeEvent.emit(r[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(n){this.searchTerm=n,this._isTypeahead&&this.typeahead.next(n)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(n){if(this.isOpen===!1){if(this.showClear()&&!n.shiftKey)this.focusOnClear(),n.preventDefault();else if(!this.addTag)return}this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),n.preventDefault()):this.showAddTag?(this.selectTag(),n.preventDefault()):this.close():this.close()}_handleEnter(n){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else if(this.openOnEnter)this.open();else return;n.preventDefault()}_handleSpace(n){this.isOpen||this._manualOpen||(this.open(),n.preventDefault())}_handleArrowDown(n){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),n.preventDefault()}_handleArrowUp(n){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),n.preventDefault())}_nextItemIsTag(n){let r=this.itemsList.markedIndex+n;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(r<0||r===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){let n=this.searchTerm&&this.searchTerm.trim();return n&&n.length>=this.minTermLength}_mergeGlobalConfig(n){this.placeholder=this.placeholder||n.placeholder,this.notFoundText=this.notFoundText||n.notFoundText,this.typeToSearchText=this.typeToSearchText||n.typeToSearchText,this.addTagText=this.addTagText||n.addTagText,this.loadingText=this.loadingText||n.loadingText,this.clearAllText=this.clearAllText||n.clearAllText,this.virtualScroll=Ue(this.virtualScroll)?this.virtualScroll:Ue(n.disableVirtualScroll)?!n.disableVirtualScroll:!1,this.openOnEnter=Ue(this.openOnEnter)?this.openOnEnter:n.openOnEnter,this.appendTo=this.appendTo||n.appendTo,this.bindValue=this.bindValue||n.bindValue,this.bindLabel=this.bindLabel||n.bindLabel,this.appearance=this.appearance||n.appearance}};t.\u0275fac=function(r){return new(r||t)(Os("class"),Os("autofocus"),y(RL),y(yE,8),y(We),y(Cn),y(ML))},t.\u0275cmp=q({type:t,selectors:[["ng-select"]],contentQueries:function(r,s,o){if(r&1&&(It(o,dL,5,Se),It(o,hL,5,Se),It(o,pL,5,Se),It(o,gL,5,Se),It(o,fL,5,Se),It(o,mL,5,Se),It(o,vL,5,Se),It(o,CL,5,Se),It(o,wL,5,Se),It(o,yL,5,Se),It(o,SL,5,Se),It(o,bL,5,Se),It(o,xL,5)),r&2){let a;Qe(a=Ye())&&(s.optionTemplate=a.first),Qe(a=Ye())&&(s.optgroupTemplate=a.first),Qe(a=Ye())&&(s.labelTemplate=a.first),Qe(a=Ye())&&(s.multiLabelTemplate=a.first),Qe(a=Ye())&&(s.headerTemplate=a.first),Qe(a=Ye())&&(s.footerTemplate=a.first),Qe(a=Ye())&&(s.notFoundTemplate=a.first),Qe(a=Ye())&&(s.placeholderTemplate=a.first),Qe(a=Ye())&&(s.typeToSearchTemplate=a.first),Qe(a=Ye())&&(s.loadingTextTemplate=a.first),Qe(a=Ye())&&(s.tagTemplate=a.first),Qe(a=Ye())&&(s.loadingSpinnerTemplate=a.first),Qe(a=Ye())&&(s.ngOptions=a)}},viewQuery:function(r,s){if(r&1&&(Lr(gE,5),Lr(RO,7),Lr(MO,5)),r&2){let o;Qe(o=Ye())&&(s.dropdownPanel=o.first),Qe(o=Ye())&&(s.searchInput=o.first),Qe(o=Ye())&&(s.clearButton=o.first)}},hostVars:20,hostBindings:function(r,s){r&1&&T("keydown",function(a){return s.handleKeyDown(a)}),r&2&&Yt("ng-select-typeahead",s.typeahead)("ng-select-multiple",s.multiple)("ng-select-taggable",s.addTag)("ng-select-searchable",s.searchable)("ng-select-clearable",s.clearable)("ng-select-opened",s.isOpen)("ng-select",s.useDefaultClass)("ng-select-disabled",s.disabled)("ng-select-filtered",s.filtered)("ng-select-single",s.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:[2,"markFirst","markFirst",Ae],placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",preventToggleOnRightClick:"preventToggleOnRightClick",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:[2,"loading","loading",Ae],closeOnSelect:[2,"closeOnSelect","closeOnSelect",Ae],hideSelected:[2,"hideSelected","hideSelected",Ae],selectOnTab:[2,"selectOnTab","selectOnTab",Ae],openOnEnter:[2,"openOnEnter","openOnEnter",Ae],maxSelectedItems:[2,"maxSelectedItems","maxSelectedItems",Bs],groupBy:"groupBy",groupValue:"groupValue",bufferAmount:[2,"bufferAmount","bufferAmount",Bs],virtualScroll:[2,"virtualScroll","virtualScroll",Ae],selectableGroup:[2,"selectableGroup","selectableGroup",Ae],selectableGroupAsModel:[2,"selectableGroupAsModel","selectableGroupAsModel",Ae],searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:[2,"clearOnBackspace","clearOnBackspace",Ae],labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:[2,"tabIndex","tabIndex",Bs],readonly:[2,"readonly","readonly",Ae],searchWhileComposing:[2,"searchWhileComposing","searchWhileComposing",Ae],minTermLength:[2,"minTermLength","minTermLength",Bs],editableSearchTerm:[2,"editableSearchTerm","editableSearchTerm",Ae],keyDownFn:"keyDownFn",ngClass:"ngClass",typeahead:"typeahead",multiple:[2,"multiple","multiple",Ae],addTag:"addTag",searchable:[2,"searchable","searchable",Ae],clearable:[2,"clearable","clearable",Ae],isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},standalone:!0,features:[gi([{provide:Ba,useExisting:qt(()=>t),multi:!0},CE]),Pr,gt,Wi],decls:13,vars:19,consts:[["searchInput",""],["defaultPlaceholderTemplate",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-haspopup","listbox","role","combobox",1,"ng-input"],["aria-autocomplete","list",3,"blur","change","compositionend","compositionstart","focus","input","disabled","readOnly","value"],["tabindex","0",1,"ng-clear-wrapper",3,"title"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id"],[3,"ngTemplateOutlet"],[1,"ng-placeholder"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[1,"ng-spinner-loader"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(r,s){if(r&1){let o=De();p(0,"div",10),T("mousedown",function(l){return G(o),z(s.handleMousedown(l))}),p(1,"div",11),J(2,kO,3,1)(3,NO,2,0)(4,BO,1,5,null,12),p(5,"div",13)(6,"input",14,0),T("blur",function(l){return G(o),z(s.onInputBlur(l))})("change",function(l){return G(o),z(l.stopPropagation())})("compositionend",function(){G(o);let l=Xt(7);return z(s.onCompositionEnd(l.value))})("compositionstart",function(){return G(o),z(s.onCompositionStart())})("focus",function(l){return G(o),z(s.onInputFocus(l))})("input",function(){G(o);let l=Xt(7);return z(s.filter(l.value))}),h()()(),J(8,zO,3,1)(9,jO,4,1,"span",15),p(10,"span",16),D(11,"span",17),h()(),J(12,sL,8,17,"ng-dropdown-panel",18)}r&2&&(Yt("ng-appearance-outline",s.appearance==="outline")("ng-has-value",s.hasValue),C(2),Zt(s.selectedItems.length===0&&!s.searchTerm?2:-1),C(),Zt((!s.multiLabelTemplate||!s.multiple)&&s.selectedItems.length>0?3:-1),C(),Zt(s.multiple&&s.multiLabelTemplate&&s.selectedValues.length>0?4:-1),C(),Bt("aria-expanded",s.isOpen)("aria-owns",s.isOpen?s.dropdownId:null),C(),M("disabled",s.disabled)("readOnly",!s.searchable||s.itemsList.maxItemsSelected)("value",s.searchTerm?s.searchTerm:""),Bt("aria-activedescendant",s.isOpen?s.itemsList==null||s.itemsList.markedItem==null?null:s.itemsList.markedItem.htmlId:null)("aria-controls",s.isOpen?s.dropdownId:null)("id",s.labelForId)("tabindex",s.tabIndex),C(2),Zt(s.loading?8:-1),C(),Zt(s.showClear()?9:-1),C(3),Zt(s.isOpen?12:-1))},dependencies:[lf,uL,gE,zS],styles:[`@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:unset;user-select:unset;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),SE=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Be({type:t}),t.\u0275inj=Ve({providers:[{provide:yE,useValue:wE}]});let e=t;return e})();function IL(e,t){if(e&1){let i=De();p(0,"tr",29)(1,"td"),g(2),h(),p(3,"td")(4,"ng-select",30),T("change",function(){let r=G(i).index,s=F();return z(s.productchange(r))}),h()(),p(5,"td")(6,"input",31),T("change",function(){let r=G(i).index,s=F();return z(s.Itemcalculation(r))}),h()(),p(7,"td")(8,"input",32),T("change",function(){let r=G(i).index,s=F();return z(s.Itemcalculation(r))}),h()(),p(9,"td"),D(10,"input",24),h(),p(11,"td")(12,"a",33),T("click",function(){let r=G(i).index,s=F();return z(s.Removeproduct(r))}),g(13,"Remove"),h()()()}if(e&2){let i=t.index,n=F();M("formGroupName",i),C(2),O(i+1),C(2),M("items",n.masterproduct)}}var Wa=class e{constructor(t,i,n,r){this.userdata=t;this.alert=i;this.router=n;this.activeroute=r}formBuilder=x(St);invoiceform=this.formBuilder.group({invoiceno:this.formBuilder.control({value:"",disabled:!0}),centerno:this.formBuilder.control({value:"",disabled:!0}),invoicedate:this.formBuilder.control(new Date,ne.required),custno:this.formBuilder.control("",ne.required),remarks:this.formBuilder.control("",ne.required),details:this.formBuilder.array([]),total:this.formBuilder.control(""),tax:this.formBuilder.control(""),netTotal:this.formBuilder.control("")});invoicedetail;invoiceproduct;pagetitle="Create Invoice";mastercustomer;mastercenter;masterproduct;isedit=!1;editinvoiceno;editinvdetail;invoiceno;center;ngOnInit(){this.center=window.history.state,this.GetCustomers(),this.GetCenters(),this.GetProducts(),this.invoiceform.get("invoicedate")?.setValue(new Date),this.invoiceform.get("centerno")?.setValue(this.center.centerno),this.editinvoiceno=this.activeroute.snapshot.paramMap.get("invoiceno"),this.editinvoiceno!=null&&(this.pagetitle="Edit Invoice",this.isedit=!0,this.SetEditInfo(this.editinvoiceno,this.center.centerno))}GetCustomers(){this.userdata.customer().subscribe(t=>{this.mastercustomer=t,console.log(this.mastercustomer)})}GetCenters(){this.userdata.center().subscribe(t=>{this.mastercenter=t,console.log(this.mastercenter)})}GetProducts(){this.userdata.product().subscribe(t=>{this.masterproduct=t})}SaveInvoice(){console.log(this.invoiceform.getRawValue()),this.invoiceform.valid?this.userdata.saveinvoice(this.invoiceform.getRawValue()).subscribe(t=>{let i;i=t,console.log("return"),console.log(i),console.log(i.result),i.result=="pass"?(this.isedit?this.alert.success("Updated Successfully.","Invoice :"+i.kyValue):this.alert.success("Created Successfully.","Invoice :"+i.kyValue),this.router.navigate(["/appmenu/invoicelisting"],{state:this.center})):this.alert.error("Failed to save.","Invoice")}):this.alert.warning("Please enter values in all mandatory filed","Validation")}customerchange(){let t=Number(this.invoiceform.get("custno")?.value);if(console.log(t),t===0||t===null){this.invoiceproduct.get("productrate")?.setValue(0);return}this.userdata.customerbyID(t).subscribe(i=>{let n;n=i})}Removeproduct(t){confirm("Do you want to remove?")&&(this.invproducts.removeAt(t),this.summarycalculation())}summarycalculation(){let t=this.invoiceform.getRawValue().details,i=0;t.forEach(s=>{i=i+Number(s.total)});let n=7/100*i,r=i+n;this.invoiceform.get("total")?.setValue(String(i)),this.invoiceform.get("tax")?.setValue(String(n)),this.invoiceform.get("netTotal")?.setValue(String(r))}SetEditInfo(t,i){return Ke(this,null,function*(){this.userdata.invoiceItembyID(t,i).subscribe(n=>{this.editinvdetail=n,console.log(this.editinvdetail);for(let r=0;r<this.editinvdetail[0].details.length;r++)this.addnewproduct()}),yield this.userdata.invoicebyID(t,i).subscribe(n=>{let r;r=n,console.log("Master"),console.log(r[0]),console.log("details"),console.log(r[0].details),this.editinvdetail!=null&&this.invoiceform.setValue({invoiceno:r[0].invoiceno,centerno:r[0].centerno,invoicedate:r[0].invoicedate,custno:r[0].custno,remarks:r[0].remarks,details:this.editinvdetail[0].details,total:r[0].total,tax:r[0].total,netTotal:r[0].total},{onlySelf:!0,emitEvent:!1}),console.log("Invoice form data"),console.log(this.invoiceform.value)})})}addnewproduct(){this.invoicedetail=this.invoiceform.get("details");let t=this.invoiceform.get("custno")?.value;t!=null&&t!=""||this.isedit?this.invoicedetail.push(this.Generaterow()):this.alert.warning("Please select the customer","Validation")}Generaterow(){return this.formBuilder.group({productno:this.formBuilder.control(""),productqty:this.formBuilder.control(1),productrate:this.formBuilder.control(0),total:this.formBuilder.control({value:0,disabled:!0})})}Itemcalculation(t){this.invoicedetail=this.invoiceform.get("details"),this.invoiceproduct=this.invoicedetail.at(t);let i=this.invoiceproduct.get("productqty")?.value,n=this.invoiceproduct.get("productrate")?.value,r=i*n;this.invoiceproduct.get("total")?.setValue(r),this.summarycalculation()}productchange(t){this.invoicedetail=this.invoiceform.get("details"),this.invoiceproduct=this.invoicedetail.at(t);let i=this.invoiceproduct.get("productno")?.value;if(i===""||i===null){this.invoiceproduct.get("productrate")?.setValue(0);return}this.userdata.productbyID(i).subscribe(n=>{let r;r=n,r!=null&&(this.invoiceproduct.get("productrate")?.setValue(r[0].salerate),this.Itemcalculation(t))})}get invproducts(){return this.invoiceform.get("details")}static \u0275fac=function(i){return new(i||e)(y(ae),y(Ge),y(Y),y(Ze))};static \u0275cmp=q({type:e,selectors:[["app-billing"]],decls:90,vars:8,consts:[[1,"container",3,"ngSubmit","formGroup"],[1,"card"],[1,"card-header","col-lg-12"],["routerLink","/appmenu/invoicelisting",1,"btn","btn-info"],["routerLink","/appmenu/customer",1,"btn","btn-warning"],["routerLink","/appmenu/product",1,"btn","btn-secondary"],[1,"card-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["bindLabel","centername","bindValue","centerno","clearAllText","Clear","formControlName","centerno",1,"form-control",3,"items","clearable"],["formControlName","invoiceno",1,"form-control"],[1,"text-danger"],["type","date","formControlName","invoicedate",1,"form-control"],["bindLabel","customername","bindValue","custno","clearAllText","Clear","formControlName","custno",1,"form-control",3,"change","items","clearable"],["formControlName","remarks",1,"form-control"],[1,"col-lg-12"],["formArrayName","details",1,"table","table-bordered"],[1,"bg-primary","text-white"],[2,"width","20%"],[3,"formGroupName",4,"ngFor","ngForOf"],["colspan","6"],[1,"btn","btn-success",3,"click"],[1,"col-lg-4"],["formControlName","total",1,"form-control"],["formControlName","tax",1,"form-control"],["formControlName","netTotal",1,"form-control"],["type","submit",1,"btn","btn-success"],["routerLink","/appmenu/invoicelisting",1,"btn","btn-danger",3,"state"],[3,"formGroupName"],["bindLabel","name","bindValue","productno","clearAllText","Clear","formControlName","productno",1,"form-control",3,"change","items"],["formControlName","productqty",1,"form-control",3,"change"],["formControlName","productrate",1,"form-control",3,"change"],[1,"btn","btn-danger",3,"click"]],template:function(i,n){i&1&&(p(0,"form",0),T("ngSubmit",function(){return n.SaveInvoice()}),p(1,"div",1)(2,"h3"),g(3),h(),p(4,"div",2)(5,"a",3),g(6,"Back to Listing"),h(),p(7,"a",4),g(8,"Customers"),h(),p(9,"a",5),g(10,"Products"),h()(),p(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"label"),g(16,"Center"),h(),D(17,"ng-select",10),h()(),p(18,"div",8)(19,"div",9)(20,"label"),g(21,"Invoice No"),h(),D(22,"input",11),h()(),p(23,"div",8)(24,"div",9)(25,"label"),g(26,"Invoice Date"),h(),p(27,"span",12),g(28,"*"),h(),D(29,"input",13),h()(),p(30,"div",8)(31,"div",9)(32,"label"),g(33,"Customer"),h(),p(34,"span",12),g(35,"*"),h(),p(36,"ng-select",14),T("change",function(){return n.customerchange()}),h()()(),p(37,"div",8)(38,"div",9)(39,"label"),g(40,"Remarks"),h(),D(41,"textarea",15),h()()(),p(42,"div",7)(43,"div",16)(44,"table",17)(45,"thead",18)(46,"tr")(47,"td"),g(48,"Sl.No"),h(),p(49,"td",19),g(50,"Product Code"),h(),p(51,"td"),g(52,"Qty"),h(),p(53,"td"),g(54,"Price"),h(),p(55,"td"),g(56,"Total"),h(),p(57,"td"),g(58,"Action"),h()()(),p(59,"tbody"),J(60,IL,14,3,"tr",20),h(),p(61,"tfoot")(62,"tr")(63,"td",21)(64,"a",22),T("click",function(){return n.addnewproduct()}),g(65,"[+]"),h()()()()()()(),D(66,"br"),p(67,"div",7)(68,"div",23)(69,"div",9)(70,"label"),g(71,"Summary Total"),h(),D(72,"input",24),h()(),p(73,"div",23)(74,"div",9)(75,"label"),g(76,"Summary Tax"),h(),D(77,"input",25),h()(),p(78,"div",23)(79,"div",9)(80,"label"),g(81,"Summary NetTotal"),h(),D(82,"input",26),h()(),p(83,"div",16),D(84,"br"),p(85,"button",27),g(86,"Save"),h(),g(87," | "),p(88,"a",28),g(89,"Back"),h()()()()()()),i&2&&(M("formGroup",n.invoiceform),C(3),O(n.pagetitle),C(14),M("items",n.mastercenter)("clearable",!1),C(19),M("items",n.mastercustomer)("clearable",!1),C(24),M("ngForOf",n.invproducts.controls),C(28),M("state",n.center))},dependencies:[qe,Ce,tt,ke,He,et,ct,mt,lo,co,ut]});static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})};function FL(e,t){if(e&1&&(p(0,"tr")(1,"td"),g(2),h()()),e&2){let i=t.$implicit;C(2),at(" ",i.name," ")}}var Rd=class e{constructor(t){this.userdata=t;this.userdata.productcategory().subscribe(i=>{console.warn("data",i),this.users=i})}users;name="";productcategoryno=0;onSubmit(t){console.log(t),this.userdata.productcategoryadd(t).subscribe(i=>{console.log(i)})}static \u0275fac=function(i){return new(i||e)(y(ae))};static \u0275cmp=q({type:e,selectors:[["app-productcategory"]],decls:9,vars:1,consts:[["categoryForm","ngForm"],[3,"ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","ngModel","","name","name","id","name","aria-describedby","emailHelp",1,"form-control"],["type","submit",1,"btn","btn-primary"],[4,"ngFor","ngForOf"]],template:function(i,n){if(i&1){let r=De();p(0,"form",1,0),T("ngSubmit",function(){G(r);let o=Xt(1);return z(n.onSubmit(o.value))}),p(2,"div",2)(3,"label",3),g(4,"Product Category"),h(),D(5,"input",4),h(),p(6,"button",5),g(7,"Submit"),h()(),J(8,FL,3,1,"tr",6)}i&2&&(C(8),M("ngForOf",n.users))},dependencies:[qe,tt,ke,He,et,xn,Ga]})};function TL(e,t){if(e&1){let i=De();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td"),g(10),h(),p(11,"td",11)(12,"a",6),T("click",function(){let r=G(i).$implicit,s=F();return z(s.Editinvoice(r.invoiceno))}),g(13,"Edit"),h(),g(14," | "),p(15,"a",12),T("click",function(){let r=G(i).$implicit,s=F();return z(s.invoiceremove(r.invoiceno))}),g(16,"Delete"),h(),g(17," | "),p(18,"a",13),T("click",function(){let r=G(i).$implicit,s=F();return z(s.PreviewInvoice(r.invoiceno))}),g(19,"Print"),h(),g(20," | "),p(21,"a",13),T("click",function(){let r=G(i).$implicit,s=F();return z(s.DownloadInvoice(r.invoiceno))}),g(22,"Download"),h()()()}if(e&2){let i=t.$implicit;C(2),O(i.invoiceno),C(2),O(i.invoicedate),C(2),O(i.customername),C(2),O(i.totalSAmount),C(2),O(i.description)}}var Md=class e{constructor(t,i,n){this.userdata=t;this.router=i;this.alert=n;new Date(Date.now()),new Date(Date.now())}vfromdate=new Date(Date.now());vtodate=new Date(Date.now());fromdate=new Date(this.vfromdate.getFullYear(),this.vfromdate.getMonth(),this.vfromdate.getDate());todate=new Date(Date.now());mastercustomer;custno;center;Invoiceheader;sumtotal=0;cnttotal=0;sumtotalp=0;profit=0;ngOnInit(){this.center=window.history.state,console.log(this.center),this.GetCustomers(),this.loadInvoice(this.fromdate,this.todate,this.custno)}GetCustomers(){this.userdata.customer().subscribe(t=>{this.mastercustomer=t})}loadInvoice(t,i,n){let r={fromdate:t,todate:i,custno:n,centerno:this.center.centerno};console.log("from load invoice",r),this.userdata.invoicesummary(r).subscribe(s=>{this.Invoiceheader=s,console.log(this.Invoiceheader),this.cnttotal=0,this.sumtotal=0,this.sumtotalp=0,this.Invoiceheader.forEach(o=>{this.cnttotal=this.cnttotal+1,this.sumtotal=this.sumtotal+Number(o.totalSAmount),this.sumtotalp=this.sumtotalp+Number(o.totalPAmount)}),this.profit=this.sumtotal-this.sumtotalp})}Editinvoice(t){this.router.navigateByUrl("/appmenu/editbilling/"+t,{state:this.center})}invoiceremove(t){confirm("Do you want to remove this Invoice :"+t)&&this.userdata.invoicedelete(t).subscribe(i=>{let n;n=i,n.result=="pass"?(this.alert.success("Removed Successfully.","Remove Invoice"),this.loadInvoice(this.fromdate,this.todate,this.custno)):this.alert.error("Failed to Remove.","Invoice")})}PreviewInvoice(t){}DownloadInvoice(t){}static \u0275fac=function(i){return new(i||e)(y(ae),y(Y),y(Ge))};static \u0275cmp=q({type:e,selectors:[["app-listing"]],decls:42,vars:9,consts:[[1,"card",2,"width","1800px"],[1,"card-header"],["routerLink","/appmenu/billing",1,"btn","btn-success",3,"state"],["type","date","placeholder","yyyy-M-d",3,"ngModelChange","ngModel"],[1,"form-group"],["bindLabel","customername","bindValue","custno","clearAllText","Clear",3,"ngModelChange","items","clearable","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"card-body"],["datatable","",1,"table","table-bordered"],[1,"bg-dark","text-white"],[4,"ngFor","ngForOf"],[2,"width","30%"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(i,n){i&1&&(p(0,"div",0)(1,"h3"),g(2,"Listing Invoice"),h(),p(3,"div",1)(4,"a",2),g(5,"Create New [+]"),h(),g(6," From Date : "),p(7,"input",3),ei("ngModelChange",function(s){return pi(n.fromdate,s)||(n.fromdate=s),s}),h(),g(8," To Date : "),p(9,"input",3),ei("ngModelChange",function(s){return pi(n.todate,s)||(n.todate=s),s}),h(),p(10,"div",4)(11,"label"),g(12,"Customer"),h(),p(13,"ng-select",5),ei("ngModelChange",function(s){return pi(n.custno,s)||(n.custno=s),s}),h()(),p(14,"a",6),T("click",function(){return n.loadInvoice(n.fromdate,n.todate,n.custno)}),g(15,"Go"),h()(),p(16,"div",7)(17,"table",8)(18,"thead",9)(19,"tr")(20,"td"),g(21,"Invoice No"),h(),p(22,"td"),g(23,"Date"),h(),p(24,"td"),g(25,"Customer Name"),h(),p(26,"td"),g(27,"STotal"),h(),p(28,"td"),g(29,"Description"),h(),p(30,"td"),g(31,"Action"),h()()(),p(32,"tbody"),J(33,TL,23,5,"tr",10),p(34,"tr")(35,"td"),g(36,"Total "),h(),p(37,"td"),g(38),h(),D(39,"td"),p(40,"td"),g(41),h()()()()()()),i&2&&(C(4),M("state",n.center),C(3),Jt("ngModel",n.fromdate),C(2),Jt("ngModel",n.todate),C(4),M("items",n.mastercustomer)("clearable",!1),Jt("ngModel",n.custno),C(20),M("ngForOf",n.Invoiceheader),C(5),O(n.cnttotal),C(3),O(n.sumtotal))},dependencies:[qe,Ce,ke,He,xn,ut]})};function AL(e,t){if(e&1){let i=De();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td",7)(10,"a",8),T("click",function(){let r=G(i).$implicit,s=F();return z(s.Editproduct(r.productno))}),g(11,"Edit"),h(),g(12," | "),p(13,"a",9),T("click",function(){let r=G(i).$implicit,s=F();return z(s.productremove(r.productno))}),g(14,"Delete"),h(),g(15," | "),h()()}if(e&2){let i=t.$implicit;C(2),O(i.productno),C(2),O(i.name),C(2),O(i.salerate),C(2),O(i.purchaserate)}}var Id=class e{constructor(t,i){this.userdata=t;this.router=i}ngOnInit(){this.loadProduct()}productlisting;loadProduct(){this.userdata.product().subscribe(t=>{this.productlisting=t}),console.log(this.productlisting)}Editproduct(t){this.router.navigateByUrl("/appmenu/editproduct/"+t)}productremove(t){}static \u0275fac=function(i){return new(i||e)(y(ae),y(Y))};static \u0275cmp=q({type:e,selectors:[["app-productlisting"]],decls:20,vars:1,consts:[[1,"card",2,"width","1200px"],[1,"card-header"],["routerLink","/appmenu/product",1,"btn","btn-success"],[1,"card-body"],["datatable","",1,"table","table-bordered"],[1,"bg-dark","text-white"],[4,"ngFor","ngForOf"],[2,"width","30%"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(i,n){i&1&&(p(0,"div",0)(1,"h3"),g(2,"Listing Product"),h(),p(3,"div",1)(4,"a",2),g(5,"Create New [+]"),h()(),p(6,"div",3)(7,"table",4)(8,"thead",5)(9,"tr")(10,"td"),g(11,"Product No"),h(),p(12,"td"),g(13,"Name"),h(),p(14,"td"),g(15,"Sale Rate"),h(),p(16,"td"),g(17,"Purchase Rate"),h()()(),p(18,"tbody"),J(19,AL,16,4,"tr",6),h()()()()),i&2&&(C(19),M("ngForOf",n.productlisting))},dependencies:[qe,Ce]})};var Ua=class e{constructor(t,i,n,r){this.userdata=t;this.alert=i;this.router=n;this.activeroute=r}pagetitle="Product Details";formBuilder=x(St);productform=this.formBuilder.group({productno:this.formBuilder.control({value:"",disabled:!0}),name:this.formBuilder.control("",ne.required),description:this.formBuilder.control("",ne.required),salerate:this.formBuilder.control(0,ne.required),purchaserate:this.formBuilder.control(0,ne.required),productcategoryno:this.formBuilder.control(1),openingstock:this.formBuilder.control(0,ne.required)});editproductno;isedit=!1;ngOnInit(){this.loadProductCategory(),this.editproductno=this.activeroute.snapshot.paramMap.get("productno"),this.editproductno!=null&&(this.pagetitle="Edit Product",this.isedit=!0,this.SetEditInfo(this.editproductno))}SetEditInfo(t){return Ke(this,null,function*(){console.log(t),yield this.userdata.productbyID(t).subscribe(i=>{let n;n=i,console.log(n),n!=null&&this.productform.setValue({productno:n[0].productno,name:n[0].name,description:n[0].description,salerate:n[0].salerate,purchaserate:n[0].purchaserate,productcategoryno:n[0].productcategoryno,openingstock:n[0].openingstock},{onlySelf:!0,emitEvent:!1})})})}SaveProduct(){console.log(this.productform.getRawValue()),this.productform.valid?this.userdata.saveproduct(this.productform.getRawValue()).subscribe(t=>{let i;i=t,i.result=="pass"?(this.isedit?this.alert.success("Updated Successfully.","Product :"+i.productno):this.alert.success("Created Successfully.","Product :"+i.productno),this.router.navigate(["/appmenu/productlisting"])):this.alert.error("Failed to save.","Product")}):this.alert.warning("Please enter values in all mandatory filed","Validation")}masterproductcategory;loadProductCategory(){this.userdata.productcategory().subscribe(t=>{this.masterproductcategory=t})}static \u0275fac=function(i){return new(i||e)(y(ae),y(Ge),y(Y),y(Ze))};static \u0275cmp=q({type:e,selectors:[["app-product"]],decls:57,vars:3,consts:[[1,"container",3,"ngSubmit","formGroup"],[1,"card"],[1,"card-header"],["routerLink","/productlisting",1,"btn","btn-success"],[1,"card-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["formControlName","productno",1,"form-control"],[1,"text-danger"],["formControlName","name",1,"form-control"],["formControlName","description",1,"form-control"],["formControlName","salerate",1,"form-control"],["formControlName","purchaserate",1,"form-control"],["bindLabel","productcategoryname","bindValue","productcategoryno","clearAllText","Clear","formControlName","productcategoryno",1,"form-control",3,"items"],[1,"col-lg-12"],["type","submit",1,"btn","btn-success"],["routerLink","/appmenu/productlisting",1,"btn","btn-danger"]],template:function(i,n){i&1&&(p(0,"form",0),T("ngSubmit",function(){return n.SaveProduct()}),p(1,"div",1)(2,"h3"),g(3),h(),p(4,"div",2)(5,"a",3),g(6,"Back to Listing"),h()(),p(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"label"),g(12,"Product No"),h(),D(13,"input",8),h()(),p(14,"div",6)(15,"div",7)(16,"label"),g(17,"Product Name"),h(),p(18,"span",9),g(19,"*"),h(),D(20,"input",10),h()(),D(21,"div",6),p(22,"div",7)(23,"label"),g(24,"Description"),h(),p(25,"span",9),g(26,"*"),h(),D(27,"input",11),h(),D(28,"div",6),p(29,"div",7)(30,"label"),g(31,"Sale Rate"),h(),p(32,"span",9),g(33,"*"),h(),D(34,"input",12),h(),D(35,"div",6),p(36,"div",7)(37,"label"),g(38,"Purchase Rate"),h(),p(39,"span",9),g(40,"*"),h(),D(41,"input",13),h(),p(42,"div",6)(43,"div",7)(44,"label"),g(45,"Product Category"),h(),p(46,"span",9),g(47,"*"),h(),D(48,"ng-select",14),h()()(),D(49,"br"),p(50,"div",15),D(51,"br"),p(52,"button",16),g(53,"Save"),h(),g(54," | "),p(55,"a",17),g(56,"Back"),h()()()()()),i&2&&(M("formGroup",n.productform),C(3),O(n.pagetitle),C(45),M("items",n.masterproductcategory))},dependencies:[Ce,tt,ke,He,et,ct,mt,ut]})};function PL(e,t){if(e&1){let i=De();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td",7)(6,"a",8),T("click",function(){let r=G(i).$implicit,s=F();return z(s.Editcustomer(r.custno))}),g(7,"Edit"),h(),g(8," | "),p(9,"a",9),T("click",function(){let r=G(i).$implicit,s=F();return z(s.customerremove(r.custno))}),g(10,"Delete"),h(),g(11," | "),h()()}if(e&2){let i=t.$implicit;C(2),O(i.custno),C(2),O(i.customername)}}var Fd=class e{constructor(t,i){this.userdata=t;this.router=i}ngOnInit(){this.loadCustomer()}customerlisting;loadCustomer(){this.userdata.customer().subscribe(t=>{this.customerlisting=t}),console.log(this.customerlisting)}Editcustomer(t){this.router.navigateByUrl("/appmenu/editcustomer/"+t)}customerremove(t){}static \u0275fac=function(i){return new(i||e)(y(ae),y(Y))};static \u0275cmp=q({type:e,selectors:[["app-customerlisting"]],decls:16,vars:1,consts:[[1,"card",2,"width","1200px"],[1,"card-header"],["routerLink","/appmenu/customer",1,"btn","btn-success"],[1,"card-body"],["datatable","",1,"table","table-bordered"],[1,"bg-dark","text-white"],[4,"ngFor","ngForOf"],[2,"width","30%"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(i,n){i&1&&(p(0,"div",0)(1,"h3"),g(2,"Listing Customer"),h(),p(3,"div",1)(4,"a",2),g(5,"Create New [+]"),h()(),p(6,"div",3)(7,"table",4)(8,"thead",5)(9,"tr")(10,"td"),g(11,"Customer No"),h(),p(12,"td"),g(13,"Name"),h()()(),p(14,"tbody"),J(15,PL,12,2,"tr",6),h()()()()),i&2&&(C(15),M("ngForOf",n.customerlisting))},dependencies:[qe,Ce]})};var $a=class e{constructor(t,i,n,r){this.userdata=t;this.alert=i;this.router=n;this.activeroute=r}pagetitle="Customer Details";formBuilder=x(St);customerform=this.formBuilder.group({custno:this.formBuilder.control({value:"",disabled:!0}),customername:this.formBuilder.control("",ne.required),customeraddress:this.formBuilder.control("",ne.required),customerphone1:this.formBuilder.control(0,ne.required),customerphone2:this.formBuilder.control(0,ne.required),customeremail:this.formBuilder.control(1),openingbalance:this.formBuilder.control(0,ne.required)});editcustno;isedit=!1;ngOnInit(){this.editcustno=this.activeroute.snapshot.paramMap.get("custno"),console.log(this.editcustno),this.editcustno!=null&&(this.pagetitle="Edit Customer",this.isedit=!0,this.SetEditInfo(this.editcustno))}SetEditInfo(t){return Ke(this,null,function*(){yield this.userdata.customerbyID(t).subscribe(i=>{let n;n=i,n!=null&&this.customerform.setValue({custno:n[0].custno,customername:n[0].customername,customeraddress:n[0].customeraddress,customerphone1:n[0].customerphone1,customerphone2:n[0].customerphone2,customeremail:n[0].customeremail,openingbalance:n[0].openingbalance},{onlySelf:!0,emitEvent:!1})})})}SaveCustomer(){console.log(this.customerform.getRawValue()),this.customerform.valid?this.userdata.savecustomer(this.customerform.getRawValue()).subscribe(t=>{let i;i=t,i.result=="pass"?(this.isedit?this.alert.success("Updated Successfully.","Customer :"+i.kyValue):this.alert.success("Created Successfully.","Customer :"+i.kyValue),this.router.navigate(["/appmenu/customerlisting"])):this.alert.error("Failed to save.","Customer")}):this.alert.warning("Please enter values in all mandatory filed","Validation")}masterproductcategory;static \u0275fac=function(i){return new(i||e)(y(ae),y(Ge),y(Y),y(Ze))};static \u0275cmp=q({type:e,selectors:[["app-customer"]],decls:57,vars:2,consts:[[1,"container",3,"ngSubmit","formGroup"],[1,"card"],[1,"card-header"],["routerLink","/customerlisting",1,"btn","btn-success"],[1,"card-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["formControlName","custno",1,"form-control"],[1,"text-danger"],["formControlName","customername",1,"form-control"],["formControlName","customeraddress",1,"form-control"],["formControlName","customerphone1",1,"form-control"],["formControlName","customerphone2",1,"form-control"],["formControlName","customeremail",1,"form-control"],[1,"col-lg-12"],["type","submit",1,"btn","btn-success"],["routerLink","/appmenu/customerlisting",1,"btn","btn-danger"]],template:function(i,n){i&1&&(p(0,"form",0),T("ngSubmit",function(){return n.SaveCustomer()}),p(1,"div",1)(2,"h3"),g(3),h(),p(4,"div",2)(5,"a",3),g(6,"Back to Listing"),h()(),p(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"label"),g(12,"Customer No"),h(),D(13,"input",8),h()(),p(14,"div",6)(15,"div",7)(16,"label"),g(17,"Customer Name"),h(),p(18,"span",9),g(19,"*"),h(),D(20,"input",10),h()(),D(21,"div",6),p(22,"div",7)(23,"label"),g(24,"Address"),h(),p(25,"span",9),g(26,"*"),h(),D(27,"input",11),h(),D(28,"div",6),p(29,"div",7)(30,"label"),g(31,"Phone 1"),h(),p(32,"span",9),g(33,"*"),h(),D(34,"input",12),h(),D(35,"div",6),p(36,"div",7)(37,"label"),g(38,"Phone 2"),h(),p(39,"span",9),g(40,"*"),h(),D(41,"input",13),h(),D(42,"div",6),p(43,"div",7)(44,"label"),g(45,"Email"),h(),p(46,"span",9),g(47,"*"),h(),D(48,"input",14),h()(),D(49,"br"),p(50,"div",15),D(51,"br"),p(52,"button",16),g(53,"Save"),h(),g(54," | "),p(55,"a",17),g(56,"Back"),h()()()()()),i&2&&(M("formGroup",n.customerform),C(3),O(n.pagetitle))},dependencies:[Ce,tt,ke,He,et,ct,mt]})};var qa=class e{constructor(t,i,n,r){this.userdata=t;this.alert=i;this.router=n;this.activeroute=r}pagetitle="Receipt Details";formBuilder=x(St);receiptform=this.formBuilder.group({customerreceiptno:this.formBuilder.control({value:"",disabled:!0}),customerreceiptdate:this.formBuilder.control("",ne.required),custno:this.formBuilder.control("",ne.required),receiptamount:this.formBuilder.control(0,ne.required),paymentmodeno:this.formBuilder.control(0,ne.required),documentnumber:this.formBuilder.control(0,ne.required),remarks:this.formBuilder.control(1)});editreceiptno;isedit=!1;ngOnInit(){this.loadReceiptCategory(),this.loadPaymentmode(),this.editreceiptno=this.activeroute.snapshot.paramMap.get("receiptno"),this.editreceiptno!=null&&(this.pagetitle="Edit Receipt",this.isedit=!0,this.SetEditInfo(this.editreceiptno))}SetEditInfo(t){return Ke(this,null,function*(){yield this.userdata.receiptbyID(t).subscribe(i=>{let n;n=i,console.log(n),n!=null&&this.receiptform.setValue({customerreceiptno:n[0].customerreceiptno,customerreceiptdate:n[0].customerreceiptdate,custno:n[0].custno,receiptamount:n[0].receiptamount,paymentmodeno:n[0].paymentmodeno,documentnumber:n[0].documentnumber,remarks:n[0].remarks},{onlySelf:!0,emitEvent:!1})})})}SaveReceipt(){console.log(this.receiptform.getRawValue()),this.receiptform.valid?this.userdata.savereceipt(this.receiptform.getRawValue()).subscribe(t=>{let i;i=t,i.result=="pass"?(this.isedit?this.alert.success("Updated Successfully.","Receipt :"+i.receiptno):this.alert.success("Created Successfully.","Receipt :"+i.receiptno),this.router.navigate(["/appmenu/receiptlisting"])):this.alert.error("Failed to save.","Receipt")}):this.alert.warning("Please enter values in all mandatory filed","Validation")}mastercustomer;loadReceiptCategory(){this.userdata.customer().subscribe(t=>{this.mastercustomer=t})}paymentmode;loadPaymentmode(){this.userdata.paymentmode().subscribe(t=>{this.paymentmode=t})}static \u0275fac=function(i){return new(i||e)(y(ae),y(Ge),y(Y),y(Ze))};static \u0275cmp=q({type:e,selectors:[["app-receipt"]],decls:64,vars:4,consts:[[1,"container",3,"ngSubmit","formGroup"],[1,"card"],[1,"card-header"],["routerLink","/appmenu/receiptlisting",1,"btn","btn-success"],[1,"card-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["formControlName","customerreceiptno",1,"form-control"],[1,"text-danger"],["type","date","formControlName","customerreceiptdate",1,"form-control"],["bindLabel","customername","bindValue","custno","clearAllText","Clear","formControlName","custno",1,"form-control",3,"items"],["formControlName","receiptamount",1,"form-control"],["bindLabel","paymentmodedescription","bindValue","paymentmodeno","clearAllText","Clear","formControlName","paymentmodeno",1,"form-control",3,"items"],["formControlName","documentnumber",1,"form-control"],["formControlName","remarks",1,"form-control"],[1,"col-lg-12"],["type","submit",1,"btn","btn-success"],["routerLink","/appmenu/receiptlisting",1,"btn","btn-danger"]],template:function(i,n){i&1&&(p(0,"form",0),T("ngSubmit",function(){return n.SaveReceipt()}),p(1,"div",1)(2,"h3"),g(3),h(),p(4,"div",2)(5,"a",3),g(6,"Back to Listing"),h()(),p(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"label"),g(12,"Receipt No"),h(),D(13,"input",8),h()(),p(14,"div",6)(15,"div",7)(16,"label"),g(17,"Receipt Date"),h(),p(18,"span",9),g(19,"*"),h(),D(20,"input",10),h()(),p(21,"div",6)(22,"div",7)(23,"label"),g(24,"Customer"),h(),p(25,"span",9),g(26,"*"),h(),D(27,"ng-select",11),h()(),p(28,"div",6)(29,"div",7)(30,"label"),g(31,"Amount"),h(),p(32,"span",9),g(33,"*"),h(),D(34,"input",12),h()(),p(35,"div",6)(36,"div",7)(37,"label"),g(38,"Payment mode"),h(),p(39,"span",9),g(40,"*"),h(),D(41,"ng-select",13),h()(),p(42,"div",6)(43,"div",7)(44,"label"),g(45,"Document No"),h(),p(46,"span",9),g(47,"*"),h(),D(48,"input",14),h()(),D(49,"div",6),p(50,"div",7)(51,"label"),g(52,"Remarks"),h(),p(53,"span",9),g(54,"*"),h(),D(55,"input",15),h()(),D(56,"br"),p(57,"div",16),D(58,"br"),p(59,"button",17),g(60,"Save"),h(),g(61," | "),p(62,"a",18),g(63,"Back"),h()()()()()),i&2&&(M("formGroup",n.receiptform),C(3),O(n.pagetitle),C(24),M("items",n.mastercustomer),C(14),M("items",n.paymentmode))},dependencies:[Ce,tt,ke,He,et,ct,mt,ut]})};function kL(e,t){if(e&1){let i=De();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td"),g(10),h(),p(11,"td"),g(12),h(),p(13,"td"),g(14),h(),p(15,"td",7)(16,"a",8),T("click",function(){let r=G(i).$implicit,s=F();return z(s.Editreceipt(r.customerreceiptno))}),g(17,"Edit"),h(),g(18," | "),p(19,"a",9),T("click",function(){let r=G(i).$implicit,s=F();return z(s.receiptremove(r.customerreceiptno))}),g(20,"Delete"),h(),g(21," | "),h()()}if(e&2){let i=t.$implicit;C(2),O(i.customerreceiptno),C(2),O(i.customerreceiptdate),C(2),O(i.customername),C(2),O(i.receiptamount),C(2),O(i.paymentmodeno),C(2),O(i.documentnumber),C(2),O(i.remarks)}}var Td=class e{constructor(t,i){this.userdata=t;this.router=i}ngOnInit(){this.loadReceipt()}receiptlisting;loadReceipt(){this.userdata.receipt().subscribe(t=>{this.receiptlisting=t}),console.log(this.receiptlisting)}Editreceipt(t){this.router.navigateByUrl("/appmenu/editreceipt/"+t)}receiptremove(t){}static \u0275fac=function(i){return new(i||e)(y(ae),y(Y))};static \u0275cmp=q({type:e,selectors:[["app-receiptlisting"]],decls:26,vars:1,consts:[[1,"card",2,"width","1200px"],[1,"card-header"],["routerLink","/appmenu/receipt",1,"btn","btn-success"],[1,"card-body"],["datatable","",1,"table","table-bordered"],[1,"bg-dark","text-white"],[4,"ngFor","ngForOf"],[2,"width","30%"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(i,n){i&1&&(p(0,"div",0)(1,"h3"),g(2,"Listing Receipts"),h(),p(3,"div",1)(4,"a",2),g(5,"Create New [+]"),h()(),p(6,"div",3)(7,"table",4)(8,"thead",5)(9,"tr")(10,"td"),g(11,"Receipt No"),h(),p(12,"td"),g(13,"Receipt Date"),h(),p(14,"td"),g(15,"Customer"),h(),p(16,"td"),g(17,"Amount"),h(),p(18,"td"),g(19,"Payment Mode"),h(),p(20,"td"),g(21,"Document No"),h(),p(22,"td"),g(23,"Remarks"),h()()(),p(24,"tbody"),J(25,kL,22,7,"tr",6),h()()()()),i&2&&(C(25),M("ngForOf",n.receiptlisting))},dependencies:[qe,Ce]})};function _L(e,t){if(e&1){let i=De();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td",11)(10,"a",6),T("click",function(){let r=G(i).$implicit,s=F();return z(s.Editpurchase(r.purchaseno))}),g(11,"Edit"),h(),g(12," | "),p(13,"a",12),T("click",function(){let r=G(i).$implicit,s=F();return z(s.purchaseremove(r.purchaseno))}),g(14,"Delete"),h(),g(15," | "),p(16,"a",13),T("click",function(){let r=G(i).$implicit,s=F();return z(s.PreviewPurchase(r.purchaseno))}),g(17,"Print"),h(),g(18," | "),p(19,"a",13),T("click",function(){let r=G(i).$implicit,s=F();return z(s.DownloadPurchase(r.purchaseno))}),g(20,"Download"),h()()()}if(e&2){let i=t.$implicit;C(2),O(i.purchaseno),C(2),O(i.purchasedate),C(2),O(i.suppliername),C(2),O(i.total)}}var Ad=class e{constructor(t,i,n){this.userdata=t;this.router=i;this.alert=n;new Date(Date.now()),new Date(Date.now())}vfromdate=new Date(Date.now());vtodate=new Date(Date.now());fromdate=new Date(this.vfromdate.getFullYear(),this.vfromdate.getMonth(),this.vfromdate.getDate());todate=new Date(Date.now());supplierno;mastercustomer;Purchaseheader;center;sumtotal=0;cnttotal=0;sumtotalp=0;ngOnInit(){this.center=window.history.state,console.log(this.center),this.GetSuppliers(),this.loadPurchase(this.fromdate,this.todate,this.supplierno)}GetSuppliers(){this.userdata.supplier().subscribe(t=>{this.mastercustomer=t})}loadPurchase(t,i,n){let r={fromdate:t,todate:i,supplierno:n};console.log("from load purchase",r),this.userdata.purchasesummary(r).subscribe(s=>{this.Purchaseheader=s,console.log(this.Purchaseheader),this.cnttotal=0,this.sumtotal=0,this.Purchaseheader.forEach(o=>{this.cnttotal=this.cnttotal+1,this.sumtotal=this.sumtotal+o.total})}),console.log(this.Purchaseheader)}Editpurchase(t){this.router.navigateByUrl("/appmenu/editpurchase/"+t,{state:this.center})}purchaseremove(t){confirm("Do you want to remove this Purchase :"+t)&&this.userdata.purchasedelete(t,this.center.centerno).subscribe(i=>{let n;n=i,n.result=="pass"?(this.alert.success("Removed Successfully.","Remove Purchase"),this.loadPurchase(this.fromdate,this.todate,this.supplierno)):this.alert.error("Failed to Remove.","Purchase")})}PreviewPurchase(t){}DownloadPurchase(t){}static \u0275fac=function(i){return new(i||e)(y(ae),y(Y),y(Ge))};static \u0275cmp=q({type:e,selectors:[["app-purchaselisting"]],decls:41,vars:9,consts:[[1,"card",2,"width","1200px"],[1,"card-header"],["routerLink","/appmenu/purchase",1,"btn","btn-success",3,"state"],["type","date","placeholder","yyyy-M-d",3,"ngModelChange","ngModel"],[1,"form-group"],["bindLabel","suppliername","bindValue","supplierno","clearAllText","Clear",3,"ngModelChange","items","clearable","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"card-body"],["datatable","",1,"table","table-bordered"],[1,"bg-dark","text-white"],[4,"ngFor","ngForOf"],[2,"width","30%"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(i,n){i&1&&(p(0,"div",0)(1,"h3"),g(2,"Listing Purchase"),h(),p(3,"div",1)(4,"a",2),g(5,"Create New [+]"),h(),g(6," From Date : "),p(7,"input",3),ei("ngModelChange",function(s){return pi(n.fromdate,s)||(n.fromdate=s),s}),h(),g(8," To Date : "),p(9,"input",3),ei("ngModelChange",function(s){return pi(n.todate,s)||(n.todate=s),s}),h(),p(10,"div",4)(11,"label"),g(12,"Customer"),h(),p(13,"ng-select",5),ei("ngModelChange",function(s){return pi(n.supplierno,s)||(n.supplierno=s),s}),h()(),p(14,"a",6),T("click",function(){return n.loadPurchase(n.fromdate,n.todate,n.supplierno)}),g(15,"Go"),h()(),p(16,"div",7)(17,"table",8)(18,"thead",9)(19,"tr")(20,"td"),g(21,"Purchase No"),h(),p(22,"td"),g(23,"Date"),h(),p(24,"td"),g(25,"Supplier Name"),h(),p(26,"td"),g(27,"Total Amount"),h(),p(28,"td"),g(29,"Action"),h()()(),p(30,"tbody"),J(31,_L,21,4,"tr",10),p(32,"tr")(33,"td"),g(34,"Total "),h(),p(35,"td"),g(36),h(),D(37,"td"),p(38,"td"),g(39),h(),D(40,"td"),h()()()()()),i&2&&(C(4),M("state",n.center),C(3),Jt("ngModel",n.fromdate),C(2),Jt("ngModel",n.todate),C(4),M("items",n.mastercustomer)("clearable",!1),Jt("ngModel",n.supplierno),C(18),M("ngForOf",n.Purchaseheader),C(5),O(n.cnttotal),C(3),O(n.sumtotal))},dependencies:[qe,Ce,ke,He,xn,ut]})};function OL(e,t){if(e&1){let i=De();p(0,"tr",29)(1,"td"),g(2),h(),p(3,"td")(4,"ng-select",30),T("change",function(){let r=G(i).index,s=F();return z(s.productchange(r))}),h()(),p(5,"td")(6,"input",31),T("change",function(){let r=G(i).index,s=F();return z(s.Itemcalculation(r))}),h()(),p(7,"td")(8,"input",32),T("change",function(){let r=G(i).index,s=F();return z(s.Itemcalculation(r))}),h()(),p(9,"td"),D(10,"input",24),h(),p(11,"td")(12,"a",33),T("click",function(){let r=G(i).index,s=F();return z(s.Removeproduct(r))}),g(13,"Remove"),h()()()}if(e&2){let i=t.index,n=F();M("formGroupName",i),C(2),O(i+1),C(2),M("items",n.masterproduct)}}var Ka=class e{constructor(t,i,n,r){this.userdata=t;this.alert=i;this.router=n;this.activeroute=r}formBuilder=x(St);purchaseform=this.formBuilder.group({purchaseno:this.formBuilder.control({value:"",disabled:!0}),centerno:this.formBuilder.control({value:"",disabled:!0}),purchasedate:this.formBuilder.control(new Date,ne.required),supplierno:this.formBuilder.control("",ne.required),remarks:this.formBuilder.control("",ne.required),details:this.formBuilder.array([]),total:this.formBuilder.control(""),tax:this.formBuilder.control(""),netTotal:this.formBuilder.control("")});purchasedetail;purchaseproduct;pagetitle="Create Purchase";mastercustomer;mastercenter;masterproduct;isedit=!1;editpurchaseno;editinvdetail;purchaseno;center;ngOnInit(){this.center=window.history.state,console.log(this.center),this.GetCustomers(),this.GetCenters(),this.GetProducts(),this.purchaseform.get("purchasedate")?.setValue(new Date),this.purchaseform.get("centerno")?.setValue(this.center.centerno),this.editpurchaseno=this.activeroute.snapshot.paramMap.get("purchaseno"),this.editpurchaseno!=null&&(this.pagetitle="Edit Purchase",this.isedit=!0,this.SetEditInfo(this.editpurchaseno,this.center.centerno))}GetCustomers(){this.userdata.supplier().subscribe(t=>{this.mastercustomer=t,console.log(this.mastercustomer)})}GetCenters(){this.userdata.center().subscribe(t=>{this.mastercenter=t,console.log(this.mastercenter)})}GetProducts(){this.userdata.product().subscribe(t=>{this.masterproduct=t})}SavePurchase(){console.log(this.purchaseform.getRawValue()),this.purchaseform.valid?this.userdata.savepurchase(this.purchaseform.getRawValue()).subscribe(t=>{let i;i=t,console.log("return"),console.log(i),console.log(i.result),i.result=="pass"?(this.isedit?this.alert.success("Updated Successfully.","Purchase :"+i.kyValue):this.alert.success("Created Successfully.","Purchase :"+i.kyValue),this.router.navigate(["/appmenu/purchaselisting"],{state:this.center})):this.alert.error("Failed to save.","Purchase")}):this.alert.warning("Please enter values in all mandatory filed","Validation")}customerchange(){let t=Number(this.purchaseform.get("supplierno")?.value);if(console.log(t),t===0||t===null){this.purchaseproduct.get("productrate")?.setValue(0);return}this.userdata.supplierbyID(t).subscribe(i=>{let n;n=i})}Removeproduct(t){confirm("Do you want to remove?")&&(this.invproducts.removeAt(t),this.summarycalculation())}summarycalculation(){let t=this.purchaseform.getRawValue().details,i=0;t.forEach(s=>{i=i+Number(s.total)});let n=7/100*i,r=i+n;this.purchaseform.get("total")?.setValue(String(i)),this.purchaseform.get("tax")?.setValue(String(n)),this.purchaseform.get("netTotal")?.setValue(String(r))}SetEditInfo(t,i){return Ke(this,null,function*(){this.userdata.purchaseItembyID(t,i).subscribe(n=>{this.editinvdetail=n,console.log("Invdetail",this.editinvdetail);for(let r=0;r<this.editinvdetail[0].details.length;r++)this.addnewproduct()}),yield this.userdata.purchasebyID(t,i).subscribe(n=>{let r;r=n,console.log("Master"),console.log(r[0]),console.log("details"),console.log(r[0].details),this.editinvdetail!=null&&this.purchaseform.setValue({purchaseno:r[0].purchaseno,centerno:r[0].centerno,purchasedate:r[0].purchasedate,supplierno:r[0].supplierno,remarks:r[0].remarks,details:this.editinvdetail[0].details,total:r[0].total,tax:r[0].total,netTotal:r[0].total},{onlySelf:!0,emitEvent:!1}),console.log("Purchase form data"),console.log(this.purchaseform.value)})})}addnewproduct(){this.purchasedetail=this.purchaseform.get("details");let t=this.purchaseform.get("supplierno")?.value;t!=null&&t!=""||this.isedit?this.purchasedetail.push(this.Generaterow()):this.alert.warning("Please select the supplier","Validation")}Generaterow(){return this.formBuilder.group({productno:this.formBuilder.control(""),productqty:this.formBuilder.control(1),productrate:this.formBuilder.control(0),total:this.formBuilder.control({value:0,disabled:!0})})}Itemcalculation(t){this.purchasedetail=this.purchaseform.get("details"),this.purchaseproduct=this.purchasedetail.at(t);let i=this.purchaseproduct.get("productqty")?.value,n=this.purchaseproduct.get("productrate")?.value,r=i*n;this.purchaseproduct.get("total")?.setValue(r),this.summarycalculation()}productchange(t){this.purchasedetail=this.purchaseform.get("details"),this.purchaseproduct=this.purchasedetail.at(t);let i=this.purchaseproduct.get("productno")?.value;if(i===""||i===null){this.purchaseproduct.get("productrate")?.setValue(0);return}this.userdata.productbyID(i).subscribe(n=>{let r;r=n,r!=null&&(this.purchaseproduct.get("productrate")?.setValue(r[0].salerate),this.Itemcalculation(t))})}get invproducts(){return this.purchaseform.get("details")}static \u0275fac=function(i){return new(i||e)(y(ae),y(Ge),y(Y),y(Ze))};static \u0275cmp=q({type:e,selectors:[["app-purchase"]],decls:90,vars:8,consts:[[1,"container",3,"ngSubmit","formGroup"],[1,"card"],[1,"card-header","col-lg-12"],["routerLink","/appmenu/purchaselisting",1,"btn","btn-info"],["routerLink","/appmenu/supplier",1,"btn","btn-warning"],["routerLink","/appmenu/product",1,"btn","btn-secondary"],[1,"card-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["bindLabel","centername","bindValue","centerno","clearAllText","Clear","formControlName","centerno",1,"form-control",3,"items","clearable"],["formControlName","purchaseno",1,"form-control"],[1,"text-danger"],["type","date","formControlName","purchasedate",1,"form-control"],["bindLabel","suppliername","bindValue","supplierno","clearAllText","Clear","formControlName","supplierno",1,"form-control",3,"change","items","clearable"],["formControlName","remarks",1,"form-control"],[1,"col-lg-12"],["formArrayName","details",1,"table","table-bordered"],[1,"bg-primary","text-white"],[2,"width","20%"],[3,"formGroupName",4,"ngFor","ngForOf"],["colspan","6"],[1,"btn","btn-success",3,"click"],[1,"col-lg-4"],["formControlName","total",1,"form-control"],["formControlName","tax",1,"form-control"],["formControlName","netTotal",1,"form-control"],["type","submit",1,"btn","btn-success"],["routerLink","/appmenu/purchaselisting",1,"btn","btn-danger",3,"state"],[3,"formGroupName"],["bindLabel","name","bindValue","productno","clearAllText","Clear","formControlName","productno",1,"form-control",3,"change","items"],["formControlName","productqty",1,"form-control",3,"change"],["formControlName","productrate",1,"form-control",3,"change"],[1,"btn","btn-danger",3,"click"]],template:function(i,n){i&1&&(p(0,"form",0),T("ngSubmit",function(){return n.SavePurchase()}),p(1,"div",1)(2,"h3"),g(3),h(),p(4,"div",2)(5,"a",3),g(6,"Back to Listing"),h(),p(7,"a",4),g(8,"Suppliers"),h(),p(9,"a",5),g(10,"Products"),h()(),p(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"label"),g(16,"Center"),h(),D(17,"ng-select",10),h()(),p(18,"div",8)(19,"div",9)(20,"label"),g(21,"Purchase No"),h(),D(22,"input",11),h()(),p(23,"div",8)(24,"div",9)(25,"label"),g(26,"Purchase Date"),h(),p(27,"span",12),g(28,"*"),h(),D(29,"input",13),h()(),p(30,"div",8)(31,"div",9)(32,"label"),g(33,"Customer"),h(),p(34,"span",12),g(35,"*"),h(),p(36,"ng-select",14),T("change",function(){return n.customerchange()}),h()()(),p(37,"div",8)(38,"div",9)(39,"label"),g(40,"Remarks"),h(),D(41,"textarea",15),h()()(),p(42,"div",7)(43,"div",16)(44,"table",17)(45,"thead",18)(46,"tr")(47,"td"),g(48,"Sl.No"),h(),p(49,"td",19),g(50,"Product Code"),h(),p(51,"td"),g(52,"Qty"),h(),p(53,"td"),g(54,"Price"),h(),p(55,"td"),g(56,"Total"),h(),p(57,"td"),g(58,"Action"),h()()(),p(59,"tbody"),J(60,OL,14,3,"tr",20),h(),p(61,"tfoot")(62,"tr")(63,"td",21)(64,"a",22),T("click",function(){return n.addnewproduct()}),g(65,"[+]"),h()()()()()()(),D(66,"br"),p(67,"div",7)(68,"div",23)(69,"div",9)(70,"label"),g(71,"Summary Total"),h(),D(72,"input",24),h()(),p(73,"div",23)(74,"div",9)(75,"label"),g(76,"Summary Tax"),h(),D(77,"input",25),h()(),p(78,"div",23)(79,"div",9)(80,"label"),g(81,"Summary NetTotal"),h(),D(82,"input",26),h()(),p(83,"div",16),D(84,"br"),p(85,"button",27),g(86,"Save"),h(),g(87," | "),p(88,"a",28),g(89,"Back"),h()()()()()()),i&2&&(M("formGroup",n.purchaseform),C(3),O(n.pagetitle),C(14),M("items",n.mastercenter)("clearable",!1),C(19),M("items",n.mastercustomer)("clearable",!1),C(24),M("ngForOf",n.invproducts.controls),C(28),M("state",n.center))},dependencies:[qe,Ce,tt,ke,He,et,ct,mt,lo,co,ut]})};function LL(e,t){if(e&1){let i=De();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td",7)(6,"a",8),T("click",function(){let r=G(i).$implicit,s=F();return z(s.Editsupplier(r.supplierno))}),g(7,"Edit"),h(),g(8," | "),p(9,"a",9),T("click",function(){let r=G(i).$implicit,s=F();return z(s.supplierremove(r.supplierno))}),g(10,"Delete"),h(),g(11," | "),h()()}if(e&2){let i=t.$implicit;C(2),O(i.supplierno),C(2),O(i.suppliername)}}var Pd=class e{constructor(t,i){this.userdata=t;this.router=i}ngOnInit(){this.loadSupplier()}supplierlisting;loadSupplier(){this.userdata.supplier().subscribe(t=>{this.supplierlisting=t}),console.log(this.supplierlisting)}Editsupplier(t){this.router.navigateByUrl("/appmenu/editsupplier/"+t)}supplierremove(t){}static \u0275fac=function(i){return new(i||e)(y(ae),y(Y))};static \u0275cmp=q({type:e,selectors:[["app-supplierlisting"]],decls:16,vars:1,consts:[[1,"card",2,"width","1200px"],[1,"card-header"],["routerLink","/appmenu/supplier",1,"btn","btn-success"],[1,"card-body"],["datatable","",1,"table","table-bordered"],[1,"bg-dark","text-white"],[4,"ngFor","ngForOf"],[2,"width","30%"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(i,n){i&1&&(p(0,"div",0)(1,"h3"),g(2,"Listing Supplier"),h(),p(3,"div",1)(4,"a",2),g(5,"Create New [+]"),h()(),p(6,"div",3)(7,"table",4)(8,"thead",5)(9,"tr")(10,"td"),g(11,"Supplier No"),h(),p(12,"td"),g(13,"Name"),h()()(),p(14,"tbody"),J(15,LL,12,2,"tr",6),h()()()()),i&2&&(C(15),M("ngForOf",n.supplierlisting))},dependencies:[qe,Ce]})};var Qa=class e{constructor(t,i,n,r){this.userdata=t;this.alert=i;this.router=n;this.activeroute=r}pagetitle="Supplier Details";formBuilder=x(St);supplierform=this.formBuilder.group({supplierno:this.formBuilder.control({value:"",disabled:!0}),suppliername:this.formBuilder.control("",ne.required),supplieraddress:this.formBuilder.control("",ne.required),supplierphone1:this.formBuilder.control(0,ne.required),supplierphone2:this.formBuilder.control(0,ne.required),supplieremail:this.formBuilder.control(1),openingbalance:this.formBuilder.control(1)});editsupplierno;isedit=!1;ngOnInit(){this.editsupplierno=this.activeroute.snapshot.paramMap.get("supplierno"),console.log(this.editsupplierno),this.editsupplierno!=null&&(this.pagetitle="Edit Supplier",this.isedit=!0,this.SetEditInfo(this.editsupplierno))}SetEditInfo(t){return Ke(this,null,function*(){yield this.userdata.supplierbyID(t).subscribe(i=>{let n;n=i,n!=null&&this.supplierform.setValue({supplierno:n[0].supplierno,suppliername:n[0].suppliername,supplieraddress:n[0].supplieraddress,supplierphone1:n[0].supplierphone1,supplierphone2:n[0].supplierphone2,supplieremail:n[0].supplieremail,openingbalance:n[0].openingbalance},{onlySelf:!0,emitEvent:!1})})})}SaveSupplier(){console.log(this.supplierform.getRawValue()),this.supplierform.valid?this.userdata.savesupplier(this.supplierform.getRawValue()).subscribe(t=>{let i;i=t,i.result=="pass"?(this.isedit?this.alert.success("Updated Successfully.","Supplier :"+i.kyValue):this.alert.success("Created Successfully.","Supplier :"+i.kyValue),this.router.navigate(["/appmenu/supplierlisting"])):this.alert.error("Failed to save.","Supplier")}):this.alert.warning("Please enter values in all mandatory filed","Validation")}masterproductcategory;static \u0275fac=function(i){return new(i||e)(y(ae),y(Ge),y(Y),y(Ze))};static \u0275cmp=q({type:e,selectors:[["app-supplier"]],decls:63,vars:2,consts:[[1,"container",3,"ngSubmit","formGroup"],[1,"card"],[1,"card-header"],["routerLink","/appmenu/supplierlisting",1,"btn","btn-success"],[1,"card-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["formControlName","supplierno",1,"form-control"],[1,"text-danger"],["formControlName","suppliername",1,"form-control"],["formControlName","supplieraddress",1,"form-control"],["formControlName","supplierphone1",1,"form-control"],["formControlName","supplierphone2",1,"form-control"],["formControlName","supplieremail",1,"form-control"],["formControlName","openingbalance",1,"form-control"],[1,"col-lg-12"],["type","submit",1,"btn","btn-success"],["routerLink","/appmenu/supplierlisting",1,"btn","btn-danger"]],template:function(i,n){i&1&&(p(0,"form",0),T("ngSubmit",function(){return n.SaveSupplier()}),p(1,"div",1)(2,"h3"),g(3),h(),p(4,"div",2)(5,"a",3),g(6,"Back to Listing"),h()(),p(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"label"),g(12,"Supplier No"),h(),D(13,"input",8),h()(),p(14,"div",6)(15,"div",7)(16,"label"),g(17,"Supplier Name"),h(),p(18,"span",9),g(19,"*"),h(),D(20,"input",10),h()(),D(21,"div",6),p(22,"div",7)(23,"label"),g(24,"Address"),h(),p(25,"span",9),g(26,"*"),h(),D(27,"input",11),h(),D(28,"div",6),p(29,"div",7)(30,"label"),g(31,"Phone 1"),h(),p(32,"span",9),g(33,"*"),h(),D(34,"input",12),h(),D(35,"div",6),p(36,"div",7)(37,"label"),g(38,"Phone 2"),h(),p(39,"span",9),g(40,"*"),h(),D(41,"input",13),h(),D(42,"div",6),p(43,"div",7)(44,"label"),g(45,"Email"),h(),p(46,"span",9),g(47,"*"),h(),D(48,"input",14),h(),p(49,"div",7)(50,"label"),g(51,"Opening Balance"),h(),p(52,"span",9),g(53,"*"),h(),D(54,"input",15),h()(),D(55,"br"),p(56,"div",16),D(57,"br"),p(58,"button",17),g(59,"Save"),h(),g(60," | "),p(61,"a",18),g(62,"Back"),h()()()()()),i&2&&(M("formGroup",n.supplierform),C(3),O(n.pagetitle))},dependencies:[Ce,tt,ke,He,et,ct,mt]})};var Xi=class e{isAuthenticated=!1;userDetails;login(t){this.isAuthenticated=!0,this.userDetails=t}logout(){this.isAuthenticated=!1,this.userDetails=null}isLoggedIn(){return this.isAuthenticated}getUserDetails(){return this.userDetails}static \u0275fac=function(i){return new(i||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})};var Qr=class e{constructor(t,i){this.authService=t;this.router=i}canActivate(){return this.authService.isLoggedIn()?(console.log("auth guard"),!0):(this.router.navigate(["/login"]),!1)}static \u0275fac=function(i){return new(i||e)(_(Xi),_(Y))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})};var _d=class e{constructor(t,i,n,r){this.authService=t;this.router=i;this.userdata=n;this.alert=r}mastercenter;fb=x(St);loginForm=this.fb.group({username:["",ne.required],password:["",ne.required],centerno:[1,ne.required]});ngOnInit(){this.Getcenters()}onLogin(){return Ke(this,null,function*(){let t;if(this.loginForm.valid){let i=this.loginForm.value;this.userdata.uservalidation(i).subscribe(n=>{t=n,t.result==="pass"?(this.alert.success(`Welcome ${i.username}!`),this.authService.login(i),this.router.navigate(["appmenu"],{state:this.loginForm.value})):this.alert.error("Sorry! this is restricted area")})}})}Getcenters(){this.userdata.center().subscribe(t=>{this.mastercenter=t})}static \u0275fac=function(i){return new(i||e)(y(Xi),y(Y),y(ae),y(Ge))};static \u0275cmp=q({type:e,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","400px"],[1,"text-center","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","username","required","",1,"form-control"],["type","password","formControlName","password","required","",1,"form-control"],["bindLabel","centername","bindValue","centerno","clearAllText","Clear","formControlName","centerno",1,"form-control",3,"items","clearable"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"btn","btn-primary",3,"click"]],template:function(i,n){i&1&&(p(0,"div",0)(1,"div",1)(2,"h3",2),g(3,"ERP Login"),h(),p(4,"form",3),T("ngSubmit",function(){return n.onLogin()}),p(5,"div",4)(6,"label",5),g(7,"Username"),h(),D(8,"input",6),h(),p(9,"div",4)(10,"label",5),g(11,"Password"),h(),D(12,"input",7),h(),p(13,"div")(14,"label",5),g(15,"Center"),h(),D(16,"ng-select",8),h(),p(17,"button",9),g(18,"Login"),h()()()(),p(19,"a",10),T("click",function(){return n.onLogin()}),g(20,"Login"),h(),g(21," |")),i&2&&(C(4),M("formGroup",n.loginForm),C(12),M("items",n.mastercenter)("clearable",!1),C(),M("disabled",!n.loginForm.valid))},dependencies:[tt,ke,He,et,Zm,ct,mt,ut],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.forgot-password[_ngcontent-%COMP%]{margin-top:10px}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}"]})};var Od=class e{constructor(t,i,n){this.authservice=t;this.router=i;this.userdata=n}center;user;ngOnInit(){this.user=window.history.state,this.GetCenter(),console.log(this.user)}logout(){this.authservice.logout(),this.router.navigate(["/"])}GetCenter(){this.userdata.centerbyID(this.user.centerno).subscribe(t=>{this.center=t,console.log(this.center)})}static \u0275fac=function(i){return new(i||e)(y(Xi),y(Y),y(ae))};static \u0275cmp=q({type:e,selectors:[["app-appmenu"]],decls:54,vars:5,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/appmenu",1,"nav-link","active"],["routerLink","invoicelisting",1,"nav-link",3,"state"],[1,"nav-item","dropdown"],["role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["routerLink","productcategory",1,"dropdown-item"],["routerLink","productlisting",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","customerlisting",1,"dropdown-item"],["routerLink","supplierlisting",1,"dropdown-item"],["routerLink","receiptlisting",1,"dropdown-item"],["routerLink","paymentlisting",1,"dropdown-item"],["routerLink","purchaselisting",1,"dropdown-item",3,"state"],["routerLink","invoicelistingp",1,"dropdown-item",3,"state"],["role","search",1,"d-flex"],[1,"btn","btn-outline-success",3,"click"]],template:function(i,n){i&1&&(p(0,"nav",0)(1,"div",1)(2,"button",2),D(3,"span",3),h(),p(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),g(8,"Home"),h()(),p(9,"li",6)(10,"a",8),g(11,"Invoice"),h()(),p(12,"li",9)(13,"a",10),g(14," Masters "),h(),p(15,"ul",11)(16,"li")(17,"a",12),g(18,"Product Category"),h()(),p(19,"li")(20,"a",13),g(21,"Product"),h()(),p(22,"li"),D(23,"hr",14),h(),p(24,"li")(25,"a",15),g(26,"Customer"),h()(),p(27,"li")(28,"a",16),g(29,"Supplier"),h()(),p(30,"li")(31,"a",17),g(32,"Receipt"),h()(),p(33,"li")(34,"a",18),g(35,"Payment"),h()(),p(36,"li")(37,"a",19),g(38,"Purchase"),h()()()(),p(39,"li",9)(40,"a",10),g(41," Admin & Reports "),h(),p(42,"ul",11)(43,"li")(44,"a",20),g(45,"Listing P"),h()()()()(),p(46,"form",21)(47,"h6"),g(48),h(),p(49,"h6"),g(50),h(),p(51,"button",22),T("click",function(){return n.logout()}),g(52,"Logout"),h()()()()(),D(53,"router-outlet")),i&2&&(C(10),M("state",n.center),C(27),M("state",n.center),C(7),M("state",n.center),C(4),at("",n.center==null?null:n.center.centername,"|"),C(2),at("Welcome,",n.user==null?null:n.user.username,""))},dependencies:[Ia,Ce,tt,et,Ga]})};var Ya=class e{constructor(t,i,n,r){this.userdata=t;this.alert=i;this.router=n;this.activeroute=r}pagetitle="Receipt Details";formBuilder=x(St);paymentform=this.formBuilder.group({supplierpaymentno:this.formBuilder.control({value:"",disabled:!0}),supplierpaymentdate:this.formBuilder.control("",ne.required),supplierno:this.formBuilder.control("",ne.required),paymentamount:this.formBuilder.control(0,ne.required),paymentmodeno:this.formBuilder.control(0,ne.required),documentnumber:this.formBuilder.control(0,ne.required),remarks:this.formBuilder.control(1)});editpaymentno;isedit=!1;ngOnInit(){this.loadReceiptCategory(),this.loadPaymentmode(),this.editpaymentno=this.activeroute.snapshot.paramMap.get("paymentno"),this.editpaymentno!=null&&(this.pagetitle="Edit Receipt",this.isedit=!0,this.SetEditInfo(this.editpaymentno))}SetEditInfo(t){return Ke(this,null,function*(){yield this.userdata.paymentbyID(t).subscribe(i=>{let n;n=i,console.log(n),n!=null&&this.paymentform.setValue({supplierpaymentno:n[0].supplierpaymentno,supplierpaymentdate:n[0].supplierpaymentdate,supplierno:n[0].supplierno,paymentamount:n[0].paymentamount,paymentmodeno:n[0].paymentmodeno,documentnumber:n[0].documentnumber,remarks:n[0].remarks},{onlySelf:!0,emitEvent:!1})})})}SaveReceipt(){console.log(this.paymentform.getRawValue()),this.paymentform.valid?this.userdata.savepayment(this.paymentform.getRawValue()).subscribe(t=>{let i;i=t,i.result=="pass"?(this.isedit?this.alert.success("Updated Successfully.","Receipt :"+i.paymentno):this.alert.success("Created Successfully.","Receipt :"+i.paymentno),this.router.navigate(["/appmenu/paymentlisting"])):this.alert.error("Failed to save.","Receipt")}):this.alert.warning("Please enter values in all mandatory filed","Validation")}mastersupplier;loadReceiptCategory(){this.userdata.supplier().subscribe(t=>{this.mastersupplier=t})}paymentmode;loadPaymentmode(){this.userdata.paymentmode().subscribe(t=>{this.paymentmode=t})}static \u0275fac=function(i){return new(i||e)(y(ae),y(Ge),y(Y),y(Ze))};static \u0275cmp=q({type:e,selectors:[["app-supplierpayment"]],decls:64,vars:4,consts:[[1,"container",3,"ngSubmit","formGroup"],[1,"card"],[1,"card-header"],["routerLink","/appmenu/paymentlisting",1,"btn","btn-success"],[1,"card-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["formControlName","supplierpaymentno",1,"form-control"],[1,"text-danger"],["type","date","formControlName","supplierpaymentdate",1,"form-control"],["bindLabel","suppliername","bindValue","supplierno","clearAllText","Clear","formControlName","supplierno",1,"form-control",3,"items"],["formControlName","paymentamount",1,"form-control"],["bindLabel","paymentmodedescription","bindValue","paymentmodeno","clearAllText","Clear","formControlName","paymentmodeno",1,"form-control",3,"items"],["formControlName","documentnumber",1,"form-control"],["formControlName","remarks",1,"form-control"],[1,"col-lg-12"],["type","submit",1,"btn","btn-success"],["routerLink","/appmenu/paymentlisting",1,"btn","btn-danger"]],template:function(i,n){i&1&&(p(0,"form",0),T("ngSubmit",function(){return n.SaveReceipt()}),p(1,"div",1)(2,"h3"),g(3),h(),p(4,"div",2)(5,"a",3),g(6,"Back to Listing"),h()(),p(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"label"),g(12,"Receipt No"),h(),D(13,"input",8),h()(),p(14,"div",6)(15,"div",7)(16,"label"),g(17,"Receipt Date"),h(),p(18,"span",9),g(19,"*"),h(),D(20,"input",10),h()(),p(21,"div",6)(22,"div",7)(23,"label"),g(24,"Customer"),h(),p(25,"span",9),g(26,"*"),h(),D(27,"ng-select",11),h()(),p(28,"div",6)(29,"div",7)(30,"label"),g(31,"Amount"),h(),p(32,"span",9),g(33,"*"),h(),D(34,"input",12),h()(),p(35,"div",6)(36,"div",7)(37,"label"),g(38,"Payment mode"),h(),p(39,"span",9),g(40,"*"),h(),D(41,"ng-select",13),h()(),p(42,"div",6)(43,"div",7)(44,"label"),g(45,"Document No"),h(),p(46,"span",9),g(47,"*"),h(),D(48,"input",14),h()(),D(49,"div",6),p(50,"div",7)(51,"label"),g(52,"Remarks"),h(),p(53,"span",9),g(54,"*"),h(),D(55,"input",15),h()(),D(56,"br"),p(57,"div",16),D(58,"br"),p(59,"button",17),g(60,"Save"),h(),g(61," | "),p(62,"a",18),g(63,"Back"),h()()()()()),i&2&&(M("formGroup",n.paymentform),C(3),O(n.pagetitle),C(24),M("items",n.mastersupplier),C(14),M("items",n.paymentmode))},dependencies:[Ce,tt,ke,He,et,ct,mt,ut]})};function NL(e,t){if(e&1){let i=De();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td"),g(10),h(),p(11,"td"),g(12),h(),p(13,"td"),g(14),h(),p(15,"td",7)(16,"a",8),T("click",function(){let r=G(i).$implicit,s=F();return z(s.Editpayment(r.supplierpaymentno))}),g(17,"Edit"),h(),g(18," | "),p(19,"a",9),T("click",function(){let r=G(i).$implicit,s=F();return z(s.paymentremove(r.supplierpaymentno))}),g(20,"Delete"),h(),g(21," | "),h()()}if(e&2){let i=t.$implicit;C(2),O(i.supplierpaymentno),C(2),O(i.supplierpaymentdate),C(2),O(i.suppliername),C(2),O(i.paymentamount),C(2),O(i.paymentmodeno),C(2),O(i.documentnumber),C(2),O(i.remarks)}}var Ld=class e{constructor(t,i){this.userdata=t;this.router=i}ngOnInit(){this.loadPayment()}paymentlisting;loadPayment(){this.userdata.payment().subscribe(t=>{this.paymentlisting=t}),console.log(this.paymentlisting)}Editpayment(t){this.router.navigateByUrl("/appmenu/editpayment/"+t)}paymentremove(t){}static \u0275fac=function(i){return new(i||e)(y(ae),y(Y))};static \u0275cmp=q({type:e,selectors:[["app-supplierpaymentlisting"]],decls:26,vars:1,consts:[[1,"card",2,"width","1200px"],[1,"card-header"],["routerLink","/appmenu/payment",1,"btn","btn-success"],[1,"card-body"],["datatable","",1,"table","table-bordered"],[1,"bg-dark","text-white"],[4,"ngFor","ngForOf"],[2,"width","30%"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(i,n){i&1&&(p(0,"div",0)(1,"h3"),g(2,"Listing Payments"),h(),p(3,"div",1)(4,"a",2),g(5,"Create New [+]"),h()(),p(6,"div",3)(7,"table",4)(8,"thead",5)(9,"tr")(10,"td"),g(11,"Payment No"),h(),p(12,"td"),g(13,"Payment Date"),h(),p(14,"td"),g(15,"Customer"),h(),p(16,"td"),g(17,"Amount"),h(),p(18,"td"),g(19,"Payment Mode"),h(),p(20,"td"),g(21,"Document No"),h(),p(22,"td"),g(23,"Remarks"),h()()(),p(24,"tbody"),J(25,NL,22,7,"tr",6),h()()()()),i&2&&(C(25),M("ngForOf",n.paymentlisting))},dependencies:[qe,Ce]})};function VL(e,t){if(e&1){let i=De();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td"),g(10),h(),p(11,"td"),g(12),h(),p(13,"td",11)(14,"a",6),T("click",function(){let r=G(i).$implicit,s=F();return z(s.Editinvoice(r.invoiceno))}),g(15,"Edit"),h(),g(16," | "),p(17,"a",12),T("click",function(){let r=G(i).$implicit,s=F();return z(s.invoiceremove(r.invoiceno))}),g(18,"Delete"),h(),g(19," | "),p(20,"a",13),T("click",function(){let r=G(i).$implicit,s=F();return z(s.PreviewInvoice(r.invoiceno))}),g(21,"Print"),h(),g(22," | "),p(23,"a",13),T("click",function(){let r=G(i).$implicit,s=F();return z(s.DownloadInvoice(r.invoiceno))}),g(24,"Download"),h()()()}if(e&2){let i=t.$implicit;C(2),O(i.invoiceno),C(2),O(i.invoicedate),C(2),O(i.customername),C(2),O(i.totalSAmount),C(2),O(i.totalPAmount),C(2),O(i.description)}}var Nd=class e{constructor(t,i,n){this.userdata=t;this.router=i;this.alert=n;new Date(Date.now()),new Date(Date.now())}vfromdate=new Date(Date.now());vtodate=new Date(Date.now());fromdate=new Date(this.vfromdate.getFullYear(),this.vfromdate.getMonth(),this.vfromdate.getDate());todate=new Date(Date.now());mastercustomer;custno;center;Invoiceheader;sumtotal=0;cnttotal=0;sumtotalp=0;profit=0;ngOnInit(){this.center=window.history.state,console.log(this.center),this.GetCustomers(),this.loadInvoice(this.fromdate,this.todate,this.custno)}GetCustomers(){this.userdata.customer().subscribe(t=>{this.mastercustomer=t})}loadInvoice(t,i,n){let r={fromdate:t,todate:i,custno:n,centerno:this.center.centerno};console.log("from load invoice",r),this.userdata.invoicesummary(r).subscribe(s=>{this.Invoiceheader=s,console.log(this.Invoiceheader),this.cnttotal=0,this.sumtotal=0,this.sumtotalp=0,this.Invoiceheader.forEach(o=>{this.cnttotal=this.cnttotal+1,this.sumtotal=this.sumtotal+Number(o.totalSAmount),this.sumtotalp=this.sumtotalp+Number(o.totalPAmount)}),this.profit=this.sumtotal-this.sumtotalp})}Editinvoice(t){this.router.navigateByUrl("/appmenu/editbilling/"+t,{state:this.center})}invoiceremove(t){confirm("Do you want to remove this Invoice :"+t)&&this.userdata.invoicedelete(t).subscribe(i=>{let n;n=i,n.result=="pass"?(this.alert.success("Removed Successfully.","Remove Invoice"),this.loadInvoice(this.fromdate,this.todate,this.custno)):this.alert.error("Failed to Remove.","Invoice")})}PreviewInvoice(t){}DownloadInvoice(t){}static \u0275fac=function(i){return new(i||e)(y(ae),y(Y),y(Ge))};static \u0275cmp=q({type:e,selectors:[["app-listinginvoiceprofit"]],decls:48,vars:11,consts:[[1,"card",2,"width","1800px"],[1,"card-header"],["routerLink","/appmenu/billing",1,"btn","btn-success",3,"state"],["type","date","placeholder","yyyy-M-d",3,"ngModelChange","ngModel"],[1,"form-group"],["bindLabel","customername","bindValue","custno","clearAllText","Clear",3,"ngModelChange","items","clearable","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"card-body"],["datatable","",1,"table","table-bordered"],[1,"bg-dark","text-white"],[4,"ngFor","ngForOf"],[2,"width","30%"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(i,n){i&1&&(p(0,"div",0)(1,"h3"),g(2,"Listing Invoice"),h(),p(3,"div",1)(4,"a",2),g(5,"Create New [+]"),h(),g(6," From Date : "),p(7,"input",3),ei("ngModelChange",function(s){return pi(n.fromdate,s)||(n.fromdate=s),s}),h(),g(8," To Date : "),p(9,"input",3),ei("ngModelChange",function(s){return pi(n.todate,s)||(n.todate=s),s}),h(),p(10,"div",4)(11,"label"),g(12,"Customer"),h(),p(13,"ng-select",5),ei("ngModelChange",function(s){return pi(n.custno,s)||(n.custno=s),s}),h()(),p(14,"a",6),T("click",function(){return n.loadInvoice(n.fromdate,n.todate,n.custno)}),g(15,"Go"),h()(),p(16,"div",7)(17,"table",8)(18,"thead",9)(19,"tr")(20,"td"),g(21,"Invoice No"),h(),p(22,"td"),g(23,"Date"),h(),p(24,"td"),g(25,"Customer Name"),h(),p(26,"td"),g(27,"STotal"),h(),p(28,"td"),g(29,"PTotal"),h(),p(30,"td"),g(31,"Description"),h(),p(32,"td"),g(33,"Action"),h()()(),p(34,"tbody"),J(35,VL,25,6,"tr",10),p(36,"tr")(37,"td"),g(38,"Total "),h(),p(39,"td"),g(40),h(),D(41,"td"),p(42,"td"),g(43),h(),p(44,"td"),g(45),h(),p(46,"td"),g(47),h()()()()()()),i&2&&(C(4),M("state",n.center),C(3),Jt("ngModel",n.fromdate),C(2),Jt("ngModel",n.todate),C(4),M("items",n.mastercustomer)("clearable",!1),Jt("ngModel",n.custno),C(22),M("ngForOf",n.Invoiceheader),C(5),O(n.cnttotal),C(3),O(n.sumtotal),C(2),at(" ",n.sumtotalp,""),C(2),O(n.profit))},dependencies:[qe,Ce,ke,He,xn,ut]})};var BL=[{path:"",component:Pa},{path:"login",component:_d},{path:"appmenu",component:Od,children:[{path:"invoicelisting",component:Md,canActivate:[Qr]},{path:"invoicelistingp",component:Nd,canActivate:[Qr]},{path:"billing",component:Wa},{path:"editbilling/:invoiceno",component:Wa},{path:"purchaselisting",component:Ad,canActivate:[Qr]},{path:"purchase",component:Ka},{path:"editpurchase/:purchaseno",component:Ka},{path:"productcategory",component:Rd},{path:"productlisting",component:Id},{path:"product",component:Ua},{path:"editproduct/:productno",component:Ua},{path:"receipt",component:qa},{path:"editreceipt/:receiptno",component:qa},{path:"receiptlisting",component:Td},{path:"payment",component:Ya},{path:"editpayment/:paymentno",component:Ya},{path:"paymentlisting",component:Ld},{path:"customerlisting",component:Fd},{path:"customer",component:$a},{path:"editcustomer/:custno",component:$a},{path:"supplierlisting",component:Pd},{path:"supplier",component:Qa},{path:"editsupplier/:supplierno",component:Qa}],canActivate:[Qr]},{path:"home",component:Pa}],Vd=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Be({type:e});static \u0275inj=Ve({imports:[Hm.forRoot(BL),Hm]})};var Bd=class e{constructor(t,i,n){this.userdata=t;this.authService=i;this.router=n;this.userDetails=this.authService.getUserDetails(),this.users=t.users(),this.GetCenter(),console.log(this.center)}title="Inventory Management";userDetails;users;center;login(){this.router.navigate(["/login"])}logout(){localStorage.clear(),this.authService.logout()}GetCenter(){this.userdata.centerbyID(1).subscribe(t=>{this.center=t,console.log(this.center)})}ngOnInit(){this.userDetails=localStorage.getItem("user"),console.log(this.userDetails)}static \u0275fac=function(i){return new(i||e)(y(ae),y(Xi),y(Y))};static \u0275cmp=q({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,n){i&1&&D(0,"router-outlet")},dependencies:[Ia]})};var Iv=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){let n=t?this.allAsyncListeners:this.allSyncListeners,r=n.get(e);return!r&&i&&(r=new Set,n.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){let n=this.getListeners(e,i,!1);n&&(n.delete(t),n.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let i=e.type;if(t&&"event"in e){let a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}let n=(a,l)=>a.forEach(c=>{if(!l.has(c))return;let u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(u):u()}),r=this.getListeners(i,t,!1)??new Set,s=new Set(r);s.size>0&&n(s,r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{let l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},GE=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(GE||{}),bE={};function zE(e,t){bE[t]||(e(),bE[t]=!0)}function Cv(e,...t){console.log("AG Grid: "+e,...t)}function L(e,...t){zE(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function _e(e,...t){zE(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}function jE(e){return!!(e&&e.constructor&&e.call&&e.apply)}function tn(e,t){let i;return function(...n){let r=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(r,n)},t)}}function HL(...e){return t=>e.reduce((i,n)=>n(i),t)}function Fv(e){return e==null||e===""?null:e}function j(e,t=!1){return e!=null&&(e!==""||t)}function st(e){return!j(e)}function fo(e){return e==null||e.length===0}function EE(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function DE(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;let t=parseInt(e,10);return isNaN(t)?void 0:t}function xE(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function ol(e,t){let i=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return i===n}function sv(e){if(e instanceof Set||e instanceof Map){let t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}function WE(e,t){return e.get("rowModelType")===t}function cr(e){return WE(e,"clientSide")}function $d(e){return WE(e,"serverSide")}function Tv(e,t){return e.get("domLayout")===t}function GL(e){return JL(e)!==void 0}function zL(e){return typeof e.get("getRowHeight")=="function"}function Gd(e,t,i=!1,n){if(n==null&&(n=e.environment.getDefaultRowHeight()),zL(e)){if(i)return{height:n,estimated:!0};let o={node:t,data:t.data},a=e.getCallback("getRowHeight")(o);if(wv(a))return a===0&&L("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&e.get("masterDetail"))return jL(e);let r=e.get("rowHeight");return{height:r&&wv(r)?r:n,estimated:!1}}function jL(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let t=e.get("detailRowHeight");return wv(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function mo(e){let{environment:t}=e,i=e.get("rowHeight");if(!i||st(i))return t.getDefaultRowHeight();let n=t.refreshRowHeightVariable();return n!==-1?n:(L("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function wv(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function WL(e,t,i){let n=t[e.getDomDataKey()];return n?n[i]:void 0}function al(e,t,i,n){let r=e.getDomDataKey(),s=t[r];st(s)&&(s={},t[r]=s),s[i]=n}function ur(e){let t=null,i=e.get("getDocument");return i&&j(i)?t=i():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&j(t)?t:document}function UL(e){return e.eGridDiv.getRootNode()}function Mn(e){return UL(e).activeElement}function $L(e){let t=ur(e),i=Mn(e);return i===null||i===t.body}function ov(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function qL(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function yv(e){let t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function UE(e){let t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function $E(e){let t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;let i=e.get("groupIncludeFooter");if(typeof i=="function"){let n=e.getCallback("groupIncludeFooter");return r=>n(r)?"bottom":void 0}return()=>i?"bottom":void 0}function qE(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function KL(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function qd(e){let t=e.getCallback("getRowId");return t===void 0?t:i=>{let n=t(i);return typeof n!="string"&&(L("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}function Av(e){return e?.checkboxes??!0}function QL(e){return e?.hideDisabledCheckboxes??!1}function YL(e){return e.get("cellSelection")!==void 0}function ZL(e){let t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?t?.suppressMultiRanges??!1:!1:e.get("suppressMultiRangeSelection")}function Kd(e){let t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function XL(e){let t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?t.handle?.mode==="range":!1:e.get("enableRangeHandle")}function RE(e){let t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?t.handle?.mode==="fill":!1:e.get("enableFillHandle")}function KE(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function JL(e){let t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t?.mode}function Pv(e){let t=e.get("rowSelection");if(typeof t=="string"){let i=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return i&&n?"filteredDescendants":i?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function Sv(e){let t=Pv(e);return t==="descendants"||t==="filteredDescendants"}function av(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function Xr(e){if(!(!e||!e.length))return e[e.length-1]}function kv(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,r)=>i?i(n,t[r]):t[r]===n)}function QE(e,t){let i=e.indexOf(t);i>=0&&e.splice(i,1)}function eN(e,t,i){e.splice(i,0,t)}function YE(e,t){return e.indexOf(t)>-1}var ZE="__ag_Grid_Stop_Propagation",tN=["touchstart","touchend","touchmove","touchcancel","scroll"],lv={};function bv(e){e[ZE]=!0}function XE(e){return e[ZE]===!0}var iN=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof lv[i]=="boolean")return lv[i];let n=document.createElement(e[i]||"div");return i="on"+i,lv[i]=i in n}})();function nN(e,t,i){let n=t;for(;n;){let r=WL(e,n,i);if(r)return r;n=n.parentElement}return null}function rN(e,t,i,n){let s=YE(tN,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,n,s)}var Z=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new Iv),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService&&this.localEventService.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let i=[];for(let n in t){let r=t[n];r&&i.push(this._setupListener(e,n,r))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?rN(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);let n=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==n),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);let i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let i=e.join("-")+this.propertyListenerId++,n=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=r.changeSet.id}let s={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(s)};e.forEach(r=>this.setupGridOptionListener(r,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){let i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};var sN="ag-Grid-ControlsColumn";var oN="ag-Grid-AutoColumn";function aN(e){return e.getId().startsWith(oN)}function _v(e){return e.getColId().startsWith(sN)}function cv(e){let t=[];return e instanceof Array?e.some(n=>typeof n!="string")?L("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):L("colDef.type should be of type 'string' | 'string[]'"),t}var JE=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=i=>{this.frameworkOverrides.wrapOutgoing(()=>e(i))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(i,n)=>{this.frameworkOverrides.wrapOutgoing(()=>e(i,n))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},eD=new Set(["__proto__","constructor","prototype"]);function Ov(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(let[i,n]of Object.entries(e))t(i,n)}}function tD(e){let t={},i=Object.keys(e);for(let n=0;n<i.length;n++){if(eD.has(i[n]))continue;let r=i[n],s=e[r];t[r]=s}return t}function lN(e){if(!e)return[];let t=Object;if(typeof t.values=="function")return t.values(e);let i=[];for(let n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&i.push(e[n]);return i}function ar(e,t,i=!0,n=!1){j(t)&&Ov(t,(r,s)=>{if(eD.has(r))return;let o=e[r];o!==s&&(n&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[r]=o),ME(s)&&ME(o)&&!Array.isArray(o)?ar(o,s,i,n):(i||s!==void 0)&&(e[r]=s))})}function iD(e,t,i){if(!t||!e)return;if(!i)return e[t];let n=t.split("."),r=e;for(let s=0;s<n.length;s++){if(r==null)return;r=r[n[s]]}return r}function ME(e){return typeof e=="object"&&e!==null}var cN={resizable:!0,sortable:!0},uN=0;function dN(){return uN++}function IE(e){return e instanceof hN}var hN=class extends Z{constructor(e,t,i,n){super(),this.isColumn=!0,this.instanceId=dN(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new Iv,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);let t=e.sortIndex,i=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):i!==null&&(this.sortIndex=i);let n=e.hide,r=e.initialHide;n!==void 0?this.visible=!n:this.visible=!r,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);let s=e.flex,o=e.initialFlex;s!==void 0?this.flex=s:o!==void 0&&(this.flex=o)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){let e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=j(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=j(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=j(this.colDef.tooltipField)||j(this.colDef.tooltipValueGetter)||j(this.colDef.tooltipComponent)}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,i=DE(e.width),n=DE(e.initialWidth);return i!=null?t=i:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(st(this.colDef)||st(this.colDef.showRowGroup))return!1;let t=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new JE(this.frameworkOverrides));let i=this.frameworkEventListenerService?.wrap(t)??t;this.columnEventService.addEventListener(e,i)}removeEventListener(e,t){let i=this.frameworkEventListenerService?.unwrap(t)??t;this.columnEventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){let t=this.createColumnFunctionCallbackParams(e),i=this.colDef.suppressNavigable;return i(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){let t=this.gos.get("rowSelection");if(t&&typeof t!="string"){let i=_v(this)&&Av(t);return this.isColumnFunc(e,i)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??cN[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){let i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return st(this.sort)}isSorting(){return j(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));let n=this.createColumnEvent("filterChanged",t);i&&ar(n,i),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){let i=e===!0;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){let e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(st(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(st(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}};function pN(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}var gN=/[&<>"']/g,fN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function nD(e,t){if(e==null)return null;let i=e.toString().toString();return t?i:i.replace(gN,n=>fN[n])}function mN(e,t){return e+"_"+t}function go(e){return e instanceof vN}var vN=class extends Z{constructor(e,t,i,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return mN(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{go(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let t=Xr(this.displayedChildren).getLeft();this.setLeft(t)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{IE(t)?e.push(t):go(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{IE(t)?e.push(t):go(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(go(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},CN=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}};var rD=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],wN=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],yN=[...rD,...wN];var bt=class{};bt.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];bt.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];bt.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];bt.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];bt.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];bt.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];bt.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];bt.ALL_PROPERTIES=[...bt.ARRAY_PROPERTIES,...bt.OBJECT_PROPERTIES,...bt.STRING_PROPERTIES,...bt.NUMBER_PROPERTIES,...bt.FUNCTION_PROPERTIES,...bt.BOOLEAN_PROPERTIES,...bt.OTHER_PROPERTIES];var ll=bt,vi=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};vi.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";vi.PUBLIC_EVENTS=rD;vi.EVENT_CALLBACKS=yN.map(e=>vi.getCallbackForEvent(e));vi.BOOLEAN_PROPERTIES=ll.BOOLEAN_PROPERTIES;vi.ALL_PROPERTIES=ll.ALL_PROPERTIES;vi.ALL_PROPERTIES_AND_CALLBACKS=[...vi.ALL_PROPERTIES,...vi.EVENT_CALLBACKS];vi.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(vi.ALL_PROPERTIES_AND_CALLBACKS);var SN=vi;function bN(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var EN=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){let t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){let n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){let t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){let n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){let t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){let n=(e||"").split(" ");if(n.length>1){n.forEach(r=>this.addOrRemoveCssClass(r,t));return}}if(this.cssClassStates[e]!==t&&e.length){let n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}};function Co(e,t,i){i==null||typeof i=="string"&&i==""?DN(e,t):wo(e,t,i)}function wo(e,t,i){e.setAttribute(sD(t),i.toString())}function DN(e,t){e.removeAttribute(sD(t))}function sD(e){return`aria-${e}`}function dr(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function xN(e){return e.getAttribute("aria-label")}function Lv(e,t){Co(e,"label",t)}function Ev(e,t){Co(e,"labelledby",t)}function RN(e,t){Co(e,"disabled",t)}function oD(e,t){Co(e,"hidden",t)}function FE(e,t){wo(e,"expanded",t)}function MN(e,t){wo(e,"setsize",t)}function IN(e,t){wo(e,"posinset",t)}function aD(e,t){wo(e,"colindex",t)}function FN(e,t){wo(e,"colspan",t)}function Dv(e,t){Co(e,"selected",t)}function TN(e,t){Co(e,"controls",t.id),Ev(t,e.id)}function lD(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var uv,Hd,dv,hv,pv,gv;function Jr(){return uv===void 0&&(uv=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),uv}function AN(){if(Hd===void 0)if(Jr()){let e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Hd=e[1]!=null?parseFloat(e[1]):0)}else Hd=0;return Hd}function PN(){if(dv===void 0){let e=window;dv=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return dv}function kN(){return hv===void 0&&(hv=/(firefox)/i.test(navigator.userAgent)),hv}function _N(){return pv===void 0&&(pv=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),pv}function cD(){return gv===void 0&&(gv=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),gv}var ON="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function LN(e){let t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),r=t.call(e,ON),s=zd(e);return n&&!r&&s}function hr(e,t,i={}){let{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||oD(e,!t)}function NN(e,t,i={}){let{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||oD(e,!t)}function cl(e,t){let i="disabled",n=t?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);n(e),dD(e.querySelectorAll("input"),r=>n(r))}function uD(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++n>i)break}else if(e===i)break}return!1}function yo(e){let{height:t,width:i,borderTopWidth:n,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:d,marginRight:f,marginBottom:m,marginLeft:v,boxSizing:S}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(f||"0"),marginBottom:parseFloat(m||"0"),marginLeft:parseFloat(v||"0"),boxSizing:S}}function VN(e){let t=yo(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function BN(e){let t=yo(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function HN(e){let{height:t,marginBottom:i,marginTop:n}=yo(e);return Math.floor(t+i+n)}function xv(e){let{width:t,marginLeft:i,marginRight:n}=yo(e);return Math.floor(t+i+n)}function hl(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function ul(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function GN(e){return!!e.offsetParent}function zd(e){let t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!GN(e)||window.getComputedStyle(e).visibility!=="visible")}function Nv(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function jd(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Wd(e,t)}function Wd(e,t){t=Vv(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function TE(e,t){t=Vv(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Vv(e){return typeof e=="number"?`${e}px`:e}function Bv(e){return e instanceof Node||e instanceof HTMLElement}function zN(e){if(e==null)return[];let t=[];return dD(e,i=>t.push(i)),t}function jN(e,t){if(e)for(let i=0;i<e.length;i++){let n=e[i];t(n.name,n.value)}}function Fi(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function dD(e,t){if(e!=null)for(let i=0;i<e.length;i++)t(e[i])}var dl=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){let e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},WN=1e3,UN=1e3,AE=100,$N=(()=>{let e=class Yr extends Z{constructor(i,n,r,s){super(),this.parentComp=i,this.tooltipShowDelayOverride=n,this.tooltipHideDelayOverride=r,this.shouldDisplayTooltip=s,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(i){this.popupService=i.popupService,this.userComponentFactory=i.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let i=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(i,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(i,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(i,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(i,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(i){let n=this.gos.get(i);return n<0&&L(`${i} should not be lower than 0`),Math.max(200,n)}getTooltipDelay(i){return i==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let i=this.gos.get("tooltipTrigger");return!i||i==="hover"?0:1}onMouseEnter(i){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!cD()&&(Yr.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(i)},AE):this.prepareToShowTooltip(i))}onMouseMove(i){this.lastMouseEvent&&(this.lastMouseEvent=i),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(i){let n=i.relatedTarget,r=this.parentComp.getGui(),s=this.tooltipComp?.getGui();this.isInteractingWithTooltip||r.contains(n)||this.interactionEnabled&&s?.contains(n)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(i){if(this.state!=0||Yr.isLocked)return;let n=0;i&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=i||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=1}isLastTooltipHiddenRecently(){let i=new Date().getTime(),n=Yr.lastTooltipHideTime;return i-n<WN}setToDoNothing(i){!i&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let i=b({},this.parentComp.getTooltipParams());if(!j(i.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;let n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(i).newAgStackInstance().then(n)}hideTooltip(i){!i&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),Yr.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),i&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(i,n){if(this.state!==2||this.tooltipInstanceCount!==i){this.destroyBean(n);return}let s=n.getGui();this.tooltipComp=n,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");let o=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:s,ariaLabel:o("ariaLabelTooltip","Tooltip")});if(a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let l=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:l,columnMoved:l})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(s,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(s,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:s,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let i=this.tooltipComp?.getGui(),n=Mn(this.gos);return!!i&&i.contains(n)}onTooltipFocusOut(i){let n=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,n.contains(i.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let i={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(B(b({},i),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(B(b({},i),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let i=this.tooltipPopupDestroyFunc,n=this.tooltipComp,r=this.tooltipTrigger===0?UN:0;window.setTimeout(()=>{i(),this.destroyBean(n)},r),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(i=>{i&&i()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Yr.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},AE)}unlockService(){Yr.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};return e.isLocked=!1,e})(),qN=$N,Hv=class extends Z{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){let t="title",i=this.ctrl.getGui();i&&(e!=null&&e!=""?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(this.tooltipManager!=null)return;let e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new qN(e,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){let e=this.ctrl,t=e.getColumn?.(),i=e.getColDef?.(),n=e.getRowNode?.();return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?.(),node:n,data:n?.data,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},KN=new dl,Re=null,zt=class hD extends Z{constructor(t,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=KN.next(),this.cssClassManager=new EN(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(n=>[n.selector,n])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,i){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){let{newTooltipText:i,showDelayOverride:n,hideDelayOverride:r,location:s,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);let a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new Hv({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getColDef:t?.getColDef,getColumn:t?.getColumn,getTooltipShowDelayOverride:n!=null?()=>n:void 0,getTooltipHideDelayOverride:r!=null?()=>r:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,i,n,r=null){if(i===void 0&&(i=this.getDataRefAttribute(t)),i){let s=this[i];if(s===Re)this[i]=r??t;else{let o=n&&n[i];!this.suppressDataRefValidation&&!o&&L(`Issue with data-ref: ${i} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(t,i){zN(t.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;let s=this.createComponentFromElement(r,o=>{o.getGui()&&this.copyAttributesFromNode(r,o.getGui())},i);if(s){if(s.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);let o=Array.prototype.slice.call(r.children);s.addItems(o)}this.swapComponentForNode(s,t,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(t,i,n){let r=t.nodeName,s=this.getDataRefAttribute(t),o=r.indexOf("AG-")===0,a=o?this.componentSelectors.get(r):null,l=null;if(a){hD.elementGettingCreated=t;let c=n&&s?n[s]:void 0;l=new a.component(c),l.setParentComponent(this),this.createBean(l,null,i)}else o&&L(`Missing selector: ${r}`);return this.applyElementsToComponent(t,s,n,l),l}copyAttributesFromNode(t,i){jN(t.attributes,(n,r)=>i.setAttribute(n,r))}swapComponentForNode(t,i,n){let r=t.getGui();i.replaceChild(r,n),i.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){let i=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",i.toString()))}setTemplate(t,i,n){let r=Nv(t);this.setTemplateFromElement(r,i,n)}setTemplateFromElement(t,i,n,r=!1){if(this.eGui=t,this.suppressDataRefValidation=r,i)for(let s=0;s<i.length;s++){let o=i[s];this.componentSelectors.set(o.selector,o)}this.wireTemplate(t,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,i){let n=i;return t==null?null:(n||(n=this.eGui),Bv(t)?{element:t,parent:n}:{element:t.getGui(),parent:n})}prependChild(t,i){let{element:n,parent:r}=this.getContainerAndElement(t,i)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(t,i){let{element:n,parent:r}=this.getContainerAndElement(t,i)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;let{skipAriaHidden:n}=i;NN(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;let{skipAriaHidden:n}=i;hr(this.eGui,t,{skipAriaHidden:n});let r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,i,n){this.eGui.addEventListener(t,i,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}},pD={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},QN=(()=>{let e=new Set(Object.values(pD));return e.add("eye"),e})();function lr(e,t,i,n){let r=null,s=i&&i.getColDef().icons;if(s&&(r=s[e]),t&&!r){let o=t.get("icons");o&&(r=o[e])}if(r){let o;if(typeof r=="function")o=r();else if(typeof r=="string")o=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return Nv(o);if(Bv(o))return o;L("iconRenderer should return back a string or a dom object")}else{let o=document.createElement("span"),a=pD[e]??(QN.has(e)?e:void 0);return a||(n?a=e:(L(`Did not find icon ${e}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),dr(o,"presentation"),o}}function Za(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var hY=`<span class="ag-sort-indicator-container">
        ${Za("Order","order")}
        ${Za("Asc","ascending-icon")}
        ${Za("Desc","descending-icon")}
        ${Za("Mixed","mixed-icon")}
        ${Za("None","none-icon")}
    </span>`;var k=(()=>{let e=class{};return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e.A="KeyA",e.C="KeyC",e.D="KeyD",e.V="KeyV",e.X="KeyX",e.Y="KeyY",e.Z="KeyZ",e})(),YN=class extends zt{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){hl(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(hr(this.eLabel,!1),dr(this.eLabel,"presentation")):(hr(this.eLabel,!0),dr(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(jd(this.eLabel,e),this)}setDisabled(e){e=!!e;let t=this.getGui();return cl(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},gD=class extends YN{constructor(e,t,i,n){super(e,t,i),this.className=n}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||xN(e)!==null?Ev(e,""):Ev(e,t??"")}setAriaLabel(e){return Lv(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Wd(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Zr=class extends gD{constructor(e,t,i="text",n="input"){super(e,e?.template??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],t),this.inputType=i,this.displayFieldTag=n,this.eLabel=Re,this.eWrapper=Re,this.eInput=Re}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;let{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return jd(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Fi(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Lv(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return cl(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Fi(this.eInput,"autocomplete",null);else{let t=typeof e=="string"?e:"off";Fi(this.eInput,"autocomplete",t)}return this}},fD=class extends Zr{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});let n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},mD={selector:"AG-CHECKBOX",component:fD};var pl=class extends zt{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}};function ZN(e,t,i){let n={},r=e.filter(s=>!t.some(o=>o===s));return r.length>0&&r.forEach(s=>n[s]=XN(s,i).values),n}function XN(e,t,i,n){let r=t.map((a,l)=>({value:a,relevance:JN(e.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(r.sort((a,l)=>l.relevance-a.relevance),i&&(r=r.filter(a=>a.relevance!==0)),r.length>0&&n&&n>0){let l=r[0].relevance*n;r=r.filter(c=>l-c.relevance<0)}let s=[],o=[];for(let a of r)s.push(a.value),o.push(a.idx);return{values:s,indices:o}}function JN(e,t){let i=e.replace(/\s/g,""),n=t.replace(/\s/g,""),r=0,s=-1;for(let o=0;o<i.length;o++){let a=n.indexOf(i[o],s+1);a!==-1&&(s=a,r+=100-s*100/1e4*100)}return r}var en=class tl{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new tl(i=>{let n=t.length,r=new Array(n);t.forEach((s,o)=>{s.then(a=>{r[o]=a,n--,n===0&&i(r)})})}):tl.resolve()}static resolve(t=null){return new tl(i=>i(t))}then(t){return new tl(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(n=>i(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}},e6={propertyName:"dateComponent",cellRenderer:!1},t6={propertyName:"dragAndDropImageComponent",cellRenderer:!1},i6={propertyName:"headerComponent",cellRenderer:!1},n6={propertyName:"headerGroupComponent",cellRenderer:!1},PE={propertyName:"cellRenderer",cellRenderer:!0},r6={propertyName:"cellRenderer",cellRenderer:!1},s6={propertyName:"loadingCellRenderer",cellRenderer:!0},o6={propertyName:"cellEditor",cellRenderer:!1},kE={propertyName:"innerRenderer",cellRenderer:!0},a6={propertyName:"loadingOverlayComponent",cellRenderer:!1},l6={propertyName:"noRowsOverlayComponent",cellRenderer:!1},c6={propertyName:"tooltipComponent",cellRenderer:!1},Gv={propertyName:"filter",cellRenderer:!1},u6={propertyName:"floatingFilterComponent",cellRenderer:!1},d6={propertyName:"toolPanel",cellRenderer:!1},h6={propertyName:"statusPanel",cellRenderer:!1},p6={propertyName:"fullWidthCellRenderer",cellRenderer:!0},g6={propertyName:"loadingCellRenderer",cellRenderer:!0},f6={propertyName:"groupRowRenderer",cellRenderer:!0},m6={propertyName:"detailCellRenderer",cellRenderer:!0},v6={propertyName:"menuItem",cellRenderer:!1},C6=class vD extends Z{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,t6,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,i){return this.getCompDetails(t,i6,"agColumnHeader",i)}getHeaderGroupCompDetails(t){let i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,n6,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,p6,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,g6,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,f6,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,m6,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,i){return this.getCompDetails(t,kE,null,i)}getFullWidthGroupRowInnerCellRenderer(t,i){return this.getCompDetails(t,kE,null,i)}getCellRendererDetails(t,i){return this.getCompDetails(t,PE,null,i)}getEditorRendererDetails(t,i){return this.getCompDetails(t,r6,null,i)}getLoadingCellRendererDetails(t,i){return this.getCompDetails(t,s6,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(t,i){return this.getCompDetails(t,o6,"agCellEditor",i,!0)}getFilterDetails(t,i,n){return this.getCompDetails(t,Gv,n,i,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,e6,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,a6,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,l6,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,c6,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,i){return this.getCompDetails(t,PE,null,i)}getFloatingFilterCompDetails(t,i,n){return this.getCompDetails(t,u6,n,i)}getToolPanelCompDetails(t,i){return this.getCompDetails(t,d6,null,i,!0)}getStatusPanelCompDetails(t,i){return this.getCompDetails(t,h6,null,i,!0)}getMenuItemCompDetails(t,i){return this.getCompDetails(t,v6,"agMenuItem",i,!0)}getCompDetails(t,i,n,r,s=!1){let{propertyName:o,cellRenderer:a}=i,{compName:l,jsComp:c,fwComp:u,paramsFromSelector:d,popupFromSelector:f,popupPositionFromSelector:m}=vD.getCompKeys(this.frameworkOverrides,t,i,r),v,S=A=>{let N=this.userComponentRegistry.retrieve(o,A);N&&(c=N.componentFromFramework?void 0:N.component,u=N.componentFromFramework?N.component:void 0,v=N.params)};if(l!=null&&S(l),c==null&&u==null&&n!=null&&S(n),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(o,c)),!c&&!u){s&&_e(`Could not find component ${l}, did you forget to configure this component?`);return}let w=this.mergeParamsWithApplicationProvidedParams(t,i,r,d,v),E=c==null,I=c||u;return{componentFromFramework:E,componentClass:I,params:w,type:i,popupFromSelector:f,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(I,E,w,i)}}static getCompKeys(t,i,n,r){let{propertyName:s}=n,o,a,l,c,u,d;if(i){let f=i,m=f[s+"Selector"],v=m?m(r):null,S=w=>{typeof w=="string"?o=w:w!=null&&w!==!0&&(t.isFrameworkComponent(w)?l=w:a=w)};v?(S(v.component),c=v.params,u=v.popup,d=v.popupPosition):S(f[s])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:u,popupPositionFromSelector:d}}newAgStackInstance(t,i,n,r){let s=r.propertyName,o=!i,a;if(o)a=new t;else{let c=this.componentMetadataProvider.retrieve(s);a=this.frameworkComponentWrapper.wrap(t,c.mandatoryMethodList,c.optionalMethodList,r)}let l=this.initComponent(a,n);return l==null?en.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,i,n,r=null,s){let o=this.gos.getGridCommonParams();ar(o,n),s&&ar(o,s);let a=t,l=a&&a[i.propertyName+"Params"];if(typeof l=="function"){let c=l(n);ar(o,c)}else typeof l=="object"&&ar(o,l);return ar(o,r),o}initComponent(t,i){if(this.createBean(t),t.init!=null)return t.init(i)}};function nl(e){let t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var w6=(()=>{let e=class be{static register(i){be.__register(i,!0,void 0)}static registerModules(i){be.__registerModules(i,!0,void 0)}static __register(i,n,r){be.runVersionChecks(i),r!==void 0?(be.areGridScopedModules=!0,be.gridModulesMap[r]===void 0&&(be.gridModulesMap[r]={}),be.gridModulesMap[r][i.moduleName]=i):be.globalModulesMap[i.moduleName]=i,be.setModuleBased(n)}static __unRegisterGridModules(i){delete be.gridModulesMap[i]}static __registerModules(i,n,r){be.setModuleBased(n),i&&i.forEach(s=>be.__register(s,n,r))}static isValidModuleVersion(i){let[n,r]=i.version.split(".")||[],[s,o]=be.currentModuleVersion.split(".")||[];return n===s&&r===o}static runVersionChecks(i){be.currentModuleVersion||(be.currentModuleVersion=i.version);let n=r=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${r} Please update all modules to the same version.`;if(i.version?be.isValidModuleVersion(i)||_e(n(`'${i.moduleName}' is version ${i.version} but the other modules are version ${be.currentModuleVersion}.`)):_e(n(`'${i.moduleName}' is incompatible.`)),i.validate){let r=i.validate();r.isValid||_e(`${r.message}`)}}static setModuleBased(i){be.moduleBased===void 0?be.moduleBased=i:be.moduleBased!==i&&(_e("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),_e("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){be.isBundled=!0}static __assertRegistered(i,n,r){if(this.__isRegistered(i,r))return!0;let s;if(be.isBundled)s=`AG Grid: unable to use ${n} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(be.moduleBased||be.moduleBased===void 0){let o=Object.entries(GE).find(([a,l])=>l===i)?.[0];s=`AG Grid: unable to use ${n} as the ${o} is not registered${be.areGridScopedModules?` for gridId: ${r}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${o} } from '${i}';
    
    ModuleRegistry.registerModules([ ${o} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s=`AG Grid: unable to use ${n} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return _e(s),!1}static __isRegistered(i,n){return!!be.globalModulesMap[i]||!!be.gridModulesMap[n]?.[i]}static __getRegisteredModules(i){return[...sv(be.globalModulesMap),...sv(be.gridModulesMap[i]||{})]}static __getGridRegisteredModules(i){return sv(be.gridModulesMap[i]??{})||[]}static __isPackageBased(){return!be.moduleBased}};return e.globalModulesMap={},e.gridModulesMap={},e.areGridScopedModules=!1,e})(),y6=w6;var CD=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(CD||{});var S6=class extends zt{constructor(e,t,i,n,r,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(lr("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){let e=this.gos.get("rowDragManaged")?new E6(this,this.beans,this.rowNode,this.column):new b6(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];let t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){let e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&L("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();let t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n?.preventDefault()}})[0]);let i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{let n=this.getDragItem(),r=n.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(n,r):r===1?this.cellValueFn():`${r} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},wD=class extends Z{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){let t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,n=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=jE(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},b6=class extends wD{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},E6=class extends wD{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones(),s=i&&!r||n;this.setDisplayedOrVisible(s)}},D6=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),x6=(()=>{let e=class or{constructor(i){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=or.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=i}setData(i){this.setDataCommon(i,!1)}updateData(i){this.setDataCommon(i,!0)}setDataCommon(i,n){let r=this.data;this.data=i,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();let s=this.createDataChangedEvent(i,r,n);this.localEventService?.dispatchEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(i,n,r){return{type:"dataChanged",node:this,oldData:n,newData:i,update:r}}getRowIndexString(){return this.rowIndex==null?(_e("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?or.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?or.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){let i=new or(this.beans);return i.id=this.id,i.data=this.data,i.__daemon=!0,i.selected=this.selected,i.level=this.level,i}setDataAndId(i,n){let r=j(this.id)?this.createDaemonNode():null,s=this.data;this.data=i,this.updateDataOnDetailNode(),this.setId(n),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);let o=this.createDataChangedEvent(i,s,!1);this.localEventService?.dispatchEvent(o)}checkRowSelectable(){let i=KE(this.beans.gos);this.setRowSelectable(i?i(this):!0)}setRowSelectable(i,n){if(this.selectable!==i){if(this.selectable=i,this.dispatchRowEvent("selectableChanged"),n)return;if(Sv(this.beans.gos)){let s=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:s??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(i){let n=qd(this.beans.gos);if(n)if(this.data){let r=this.parent?.getRoute()??[];this.id=n({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(or.ID_PREFIX_ROW_GROUP)&&_e(`Row IDs cannot start with ${or.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=i}setRowTop(i){this.oldRowTop=this.rowTop,this.rowTop!==i&&(this.rowTop=i,this.dispatchRowEvent("topChanged"),this.setDisplayed(i!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(i){this.hovered=i}isHovered(){return this.hovered}setMaster(i){this.master!==i&&(this.master&&!i&&(this.expanded=!1),this.master=i,this.dispatchRowEvent("masterChanged"))}setGroup(i){this.group!==i&&(this.group&&!i&&(this.expanded=!1),this.group=i,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(i,n=!1){this.rowHeight=i,this.rowHeightEstimated=n,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(i,n){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[n.getId()]=i,i!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=tn(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let i=!1,n=!0,r=0,s=this.__autoHeights;if(s==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let c=s[l.getId()];if(c==null)if(this.beans.columnModel.isColSpanActive()){let u=[];switch(l.getPinned()){case"left":u=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":u=this.beans.visibleColsService.getRightColsForRow(this);break;case null:u=this.beans.columnViewportService.getColsWithinViewport(this);break}if(u.includes(l)){i=!0;return}c=-1}else{i=!0;return}else n=!1;c>r&&(r=c)}),i)||((n||r<10)&&(r=Gd(this.beans.gos,this).height),r==this.rowHeight))return;this.setRowHeight(r),this.beans.rowModel.onRowHeightChangedDebounced?.()}setExpanded(i,n,r){if(this.expanded===i)return;this.expanded=i,this.dispatchRowEvent("expandedChanged");let s=B(b({},this.createGlobalRowEvent("rowGroupOpened")),{expanded:i,event:n||null});this.beans.rowNodeEventThrottle.dispatchExpanded(s,r),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(i){return this.beans.gos.addGridCommonParams({type:i,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(i,n,r){let o=typeof i!="string"?i:this.beans.columnModel.getCol(i)??this.beans.columnModel.getColDefCol(i),a=this.beans.valueService.getValueForDisplay(o,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:o,colDef:o.getColDef(),data:this.data,node:this,oldValue:a,newValue:n,value:n,source:r}),!1;let l=this.beans.valueService.setValue(this,o,n,r);return this.dispatchCellChangedEvent(o,n,a),this.checkRowSelectable(),l}setGroupValue(i,n){let r=this.beans.columnModel.getCol(i);st(this.groupData)&&(this.groupData={});let s=r.getColId(),o=this.groupData[s];o!==n&&(this.groupData[s]=n,this.dispatchCellChangedEvent(r,n,o))}setAggData(i){let n=this.aggData;if(this.aggData=i,this.localEventService){let r=s=>{let o=this.aggData?this.aggData[s]:void 0,a=n?n[s]:void 0;if(o===a)return;let l=this.beans.columnModel.getCol(s);l&&this.dispatchCellChangedEvent(l,o,a)};for(let s in n)r(s);for(let s in i)(!n||!(s in n))&&r(s)}}updateHasChildren(){let i=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if($d(this.beans.gos)){let r=this.beans.gos.get("treeData"),s=this.beans.gos.get("isServerSideGroup");i=!this.stub&&!this.footer&&(r?!!s&&s(this.data):!!this.group)}i!==this.__hasChildren&&(this.__hasChildren=!!i,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(i,n,r){let s={type:"cellChanged",node:this,column:i,newValue:n,oldValue:r};this.localEventService?.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(i){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(n=>n.depthFirstSearch(i)),i(this)}calculateSelectedFromChildren(){let i=!1,n=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let r=0;r<this.childrenAfterGroup.length;r++){let s=this.childrenAfterGroup[r],o=s.isSelected();if(!s.selectable){let a=s.calculateSelectedFromChildren();if(a===null)continue;o=a}switch(o){case!0:i=!0;break;case!1:n=!0;break;default:return}}if(!(i&&n))return i?!0:n?!1:this.selectable?this.selected:null}setSelectedInitialValue(i){this.selected=i}dispatchRowEvent(i){this.localEventService?.dispatchEvent({type:i,node:this})}selectThisNode(i,n,r="api"){let s=!this.selectable&&i,o=this.selected===i;if(s||o)return!1;this.selected=i,this.dispatchRowEvent("rowSelected");let a=this.sibling;return a&&a.footer&&a.localEventService&&a.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent(B(b({},this.createGlobalRowEvent("rowSelected")),{event:n||null,source:r})),!0}setSelected(i,n=!1,r="api"){if(typeof r=="boolean"){L("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:i,clearSelection:n,rangeSelect:!1,source:r})}setSelectedParams(i){return this.rowPinned?(L("cannot select pinned rows"),0):this.id===void 0?(L("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(B(b({},i),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return!!this.rowPinned}addEventListener(i,n){this.localEventService||(this.localEventService=new Iv),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new JE(this.beans.frameworkOverrides));let r=this.frameworkEventListenerService?.wrap(n)??n;this.localEventService.addEventListener(i,r)}removeEventListener(i,n){if(!this.localEventService)return;let r=this.frameworkEventListenerService?.unwrap(n)??n;this.localEventService.removeEventListener(i,r),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(L("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;let i=this.beans.gos.getCallback("isFullWidthRow");return i?i({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let i=[],n=this;for(;n&&n.key!=null;)i.push(n.key),n=n.parent;return i.reverse()}createFooter(){if(this.sibling)return;let i=new or(this.beans);Object.keys(this).forEach(n=>{D6.has(n)||(i[n]=this[n])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(i){this.firstChild!==i&&(this.firstChild=i,this.dispatchRowEvent("firstChildChanged"))}setLastChild(i){this.lastChild!==i&&(this.lastChild=i,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(i){this.childIndex!==i&&(this.childIndex=i,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(i){this.displayed!==i&&(this.displayed=i,this.dispatchRowEvent("displayedChanged"))}setDragging(i){this.dragging!==i&&(this.dragging=i,this.dispatchRowEvent("draggingChanged"))}setHighlighted(i){this.highlighted!==i&&(this.highlighted=i,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(i){this.allChildrenCount!==i&&(this.allChildrenCount=i,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(i){this.rowIndex!==i&&(this.rowIndex=i,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(i){this.uiLevel!==i&&(this.uiLevel=i,this.dispatchRowEvent("uiLevelChanged"))}};return e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e})(),vo=x6,R6=class extends Z{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvancedFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){let t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}this.columnFilterService?.setFilterModel(e,t)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){yv(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){let{source:t,additionalEventAttributes:i,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):en.resolve()).then(()=>{let r={source:t,type:"filterChanged",columns:n};i&&ar(r,i),this.eventService.dispatchEvent(r),this.columnFilterService?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!yv(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.columnFilterService?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){this.columnFilterService?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.columnFilterService?.areFilterCompsDifferent(e,t)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService?.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return this.columnFilterService?.getFilterInstance(e,t)}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){L("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,t)??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){this.columnFilterService?.setColDefPropertiesForDataType(e,t,i)}};var yD="ag-resizer-wrapper",rr=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,M6=`<div class="${yD}">
        ${rr("eTopLeft","topLeft")}
        ${rr("eTop","top")}
        ${rr("eTopRight","topRight")}
        ${rr("eRight","right")}
        ${rr("eBottomRight","bottomRight")}
        ${rr("eBottom","bottom")}
        ${rr("eBottomLeft","bottomLeft")}
        ${rr("eLeft","left")}
    </div>`,I6=class extends Z{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){let{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:n,minHeight:r,height:s,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0,u=zd(this.element);if(u){let d=this.findBoundaryElement(),f=window.getComputedStyle(d);if(f.minWidth!=null){let m=d.offsetWidth-this.element.offsetWidth;c=parseInt(f.minWidth,10)-m}if(f.minHeight!=null){let m=d.offsetHeight-this.element.offsetHeight;l=parseInt(f.minHeight,10)-m}}if(this.minHeight=r||l,this.minWidth=i||c,n&&this.setWidth(n),s&&this.setHeight(s),(!n||!s)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(u&&t){let d=this.boundaryEl,f=!0;if(d||(d=this.findBoundaryElement(),f=!1),d){let m=parseFloat(d.style.top),v=parseFloat(d.style.left);f?this.offsetElement(isNaN(v)?0:v,isNaN(m)?0:m):this.setPosition(v,m)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{let n=!!e[t],r=this.getResizerElement(t),s={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,i=this.element,n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)TE(i,e),e=HN(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?TE(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:i}=this.offsetParent;if(!i)return null;let n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:n.top,o=e?0:r.top,a=0;if(t){let c=this.element.parentElement;if(c){let{bottom:u}=c.getBoundingClientRect();a=u-n.bottom}}return i+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:i}=this.config,n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Wd(t,e),e=xv(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:r}=this.offsetParent,s=i?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Wd(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){let{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:i,isTop:n,anywhereWithin:r,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!i,!!r,o)?0:o,c=this.shouldSkipY(t,!!n,s,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,i,n){let r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left,l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=n<0&&e.clientX>a+s.left||n>0&&e.clientX<a+s.left:i?l=n<0&&e.clientX>o.right||n>0&&e.clientX<a+s.left:l=n<0&&e.clientX>o.right||n>0&&e.clientX<o.right,l)}shouldSkipY(e,t,i=0,n){let r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top,l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=n<0&&e.clientY>a+s.top+i||n>0&&e.clientY<a+s.top:l=n<0&&e.clientY>o.bottom||n>0&&e.clientY<o.bottom,l)}createResizeMap(){let e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;let e=this.element;if(!e)return;let i=new DOMParser().parseFromString(M6,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${yD}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,i=0;for(let n=0;n<e.length;n++){let r=e[n],s=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){let l=window.getComputedStyle(r);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=r.offsetHeight,a=r.offsetWidth;t+=o,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null,i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){let r=i[n];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:r,isBottom:s,isLeft:o}=this.currentResizer,a=r||o,l=s||n,{movementX:c,movementY:u}=this.calculateMouseMovement({e,isLeft:o,isTop:n}),d=this.position.x,f=this.position.y,m=0,v=0;if(a&&c){let S=o?-1:1,w=this.getWidth(),E=w+c*S,I=!1;o&&(m=w-E,(d+m<=0||E<=this.minWidth)&&(I=!0,m=0)),I||this.setWidth(E)}if(l&&u){let S=n?-1:1,w=this.getHeight(),E=w+u*S,I=!1;n?(v=w-E,(f+v<=0||E<=this.minHeight)&&(I=!0,v=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&w<E&&this.getMinSizeOfSiblings().height+E>this.element.parentElement.offsetHeight&&(I=!0),I||this.setHeight(E)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&m||v)&&this.offsetElement(d+m,f+v)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:i}=this.position,n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());let{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+r,i+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},F6=(()=>{let e=class SD extends Z{constructor(i,n={}){super(),this.eFocusableElement=i,this.callbacks=n,this.callbacks=b({shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;let s=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r.shiftKey);s&&(s.focus(),r.preventDefault())}},n)}wireBeans(i){this.focusService=i.focusService}postConstruct(){this.eFocusableElement.classList.add(SD.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(i){this.addManagedElementListeners(i,{keydown:n=>{if(!(n.defaultPrevented||XE(n))){if(this.callbacks.shouldStopEventPropagation(n)){bv(n);return}n.key===k.TAB?this.callbacks.onTabKeyDown(n):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(n)}}})}};return e.FOCUS_MANAGED_CLASS="ag-focus-managed",e})(),zv=F6,bD={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function jv(e,t){return Ud(e)?(e.debounceMs!=null&&L("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function Ud(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var T6=class extends zt{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Re,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new zv(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new I6(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);let i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Ud(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=Ud(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){let{buttons:i,readOnly:n}=t??{},{buttons:r,readOnly:s}=e;if(n===s&&ol(i,r))return;let o=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(hl(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&ul(this.eButtonsPanel);return}let a=document.createDocumentFragment(),l=c=>{let u,d;switch(c){case"apply":u=this.translate("applyFilter"),d=v=>this.onBtApply(!1,!1,v);break;case"clear":u=this.translate("clearFilter"),d=()=>this.onBtClear();break;case"reset":u=this.translate("resetFilter"),d=()=>this.onBtReset();break;case"cancel":u=this.translate("cancelFilter"),d=v=>{this.onBtCancel(v)};break;default:L("Unknown button type specified");return}let m=Nv(`<button
                    type="${c==="apply"?"submit":"button"}"
                    data-ref="${c}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${u}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(m,{click:d})),a.append(m)};r.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){let e=jv(this.providedFilterParams,this.getDefaultDebounceMs()),t=tn(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){let i=()=>{this.onUiChanged(!1,"prevent"),t?.()};e!=null?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){let t=this.getModelFromUi();if(!this.isModelValid(t))return!1;let i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});let{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;let t=e,i=t&&t.key,n;(i==="Enter"||i==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){let i=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&cl(n,!i)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;let t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:i,gos:n}=this;t?(i.restoreLastSize(),i.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){let t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,bD[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},A6=class extends fD{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},P6=class extends zt{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){let t=e.key;switch(t){case k.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case k.DOWN:case k.UP:e.preventDefault(),this.navigate(t);break;case k.PAGE_DOWN:case k.PAGE_UP:case k.PAGE_HOME:case k.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){let t=e===k.DOWN,i;if(!this.highlightedEl)i=this.itemEls[t?0:this.itemEls.length-1];else{let r=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;let t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,n=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/n),s=-1;e===k.PAGE_HOME?s=0:e===k.PAGE_END?s=i:e===k.PAGE_DOWN?s=Math.min(t+r,i):e===k.PAGE_UP&&(s=Math.max(t-r,0)),s!==-1&&this.highlightItem(this.itemEls[s])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){let{value:t,text:i}=e,n=i||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{ul(e)}),this.itemEls=[]}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{IN(t,i+1),MN(t,e.length)})}renderOption(e,t){let i=ur(this.gos),n=i.createElement("div");dr(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);let r=i.createElement("span");n.appendChild(r),r.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new Hv({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let i=this.options.findIndex(n=>n.value===e);if(i!==-1){let n=this.options[i];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!zd(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),Dv(this.highlightedEl,!0);let t=this.getGui(),{scrollTop:i,clientHeight:n}=t,{offsetTop:r,offsetHeight:s}=e;(r+s>i+n||r<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!zd(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),Dv(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},k6=class extends gD{constructor(e){if(super(e,e?.template||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Re,this.eWrapper=Re,this.eDisplayField=Re,this.eIcon=Re,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:i,variableWidth:n,minPickerWidth:r,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,i!=null&&this.setPickerMaxHeight(i),r!=null&&this.setPickerMinWidth(r),s!=null&&this.setPickerMaxWidth(s)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:i,inputWidth:n}=this.config;if(i){let r=lr(i,this.gos);r&&this.eIcon.appendChild(r)}n!=null&&this.setInputWidth(n)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),FE(e,!1),this.ariaRole&&dr(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case k.UP:case k.DOWN:case k.ENTER:case k.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case k.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:n,modalPicker:r=!0}=this.config,s={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{let f=$L(this.gos);this.beforeHidePicker(),f&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,n),anchorToElement:this.eWrapper};e.style.position="absolute";let o=this.popupService.addPopup(s),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:u}=this;u?(l&&(e.style.minWidth=l),e.style.width=Vv(xv(this.eWrapper)),c&&(e.style.maxWidth=c)):jd(e,c??xv(this.eWrapper));let d=a??`${VN(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",d),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;let t=this.getAriaElement();FE(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return jd(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Wv=class extends k6{constructor(e){super(b({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new P6("select",!0)),this.listComponent.setParentComponent(this);let e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),TN(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){let{key:t}=e;switch(t===k.TAB&&this.hidePicker(),t){case k.ENTER:case k.UP:case k.DOWN:case k.PAGE_UP:case k.PAGE_DOWN:case k.PAGE_HOME:case k.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case k.ESCAPE:super.onKeyDown(e);break;case k.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let r=this.listComponent.getDisplayValue();return r==null&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.textContent=r,this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},_6={selector:"AG-SELECT",component:Wv},ED=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;let t=[["displayKey"],["displayName"],["predicate","test"]],i=n=>n.some(r=>e[r]!=null)?!0:(L(`ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!t.every(i)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){let t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:L("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else L("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},DD=class extends T6{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){let t=this.optionsFactory.getCustomOption(e);if(t){let{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{i===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;let i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;let s;if(i){let o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{let o=e,a=t;s=o.operator===a.operator&&kv(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return s}shouldRefresh(e){let t=this.getModel(),i=t?t.conditions??[t]:null,n=e.filterOptions?.map(s=>typeof s=="string"?s:s.displayKey)??this.getDefaultFilterOptions();return!(!(!i||i.every(s=>n.find(o=>o===s.type)!==void 0))||typeof e.maxNumConditions=="number"&&i&&i.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let i=e,n=i.conditions;n==null&&(n=[],L("Filter model is missing 'conditions'"));let r=this.validateAndUpdateConditions(n),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let a=s;a<r;a++)this.createJoinOperatorPanel(),this.createOption();let o=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),n.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{let i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),en.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),L('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){let t=this.getModel();if(t==null)return!0;let{operator:i}=t,n=[];if(i){let s=t;n.push(...s.conditions??[])}else n.push(t);return n[i&&i==="OR"?"some":"every"](s=>this.individualConditionPasses(e,s))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new ED,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(L('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(L('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(L('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){let e=this.createManagedBean(new Wv);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());let t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);let i=this.getNumConditions()-1;this.forEachPositionInput(i,n=>this.resetInput(n)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){let e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");let t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);let n=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,r),this.resetJoinOperatorOr(i,n,r),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){let n=this.createManagedBean(new A6);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){let e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);let n=e+1,r=i-n;r>0&&this.removeConditionsAndOperators(n,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,r)=>{let s=this.isConditionDisabled(r,e);n.setDisabled(s||this.filterListOptions.length<=1),r===1&&(cl(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((n,r)=>{hr(n,this.isConditionBodyVisible(r))});let i=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(i,!0)}),this.forEachInput((n,r,s,o)=>{this.setElementDisplayed(n,r<o),this.setElementDisabled(n,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);let i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(r=>ul(r))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(r=>{ul(r.getGui()),this.destroyBean(r)})}removeItems(e,t,i){return i==null?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{let t=this.getInputs(0)[0];if(!t)return;t instanceof Zr&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();let e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,n=!1,r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,i=o);else{let a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),n=!0,l&&i--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(i,r),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(jE(this.filterPlaceholder)){let n=this.filterPlaceholder,r=this.eTypes[t].getValue(),s=this.translate(r);i=n({filterOptionKey:r,filterOption:s,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,n,r)=>{if(!(t instanceof Zr))return;let s=i===0&&r>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",o=i===0&&r>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,n)),t.setInputAriaLabel(o)})}setElementValue(e,t,i){e instanceof Zr&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof zt&&hr(e.getGui(),t)}setElementDisabled(e,t){e instanceof zt&&cl(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Zr&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){let i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){let n=this.getNumberOfInputs(t),r=this.getInputs(e);for(let s=0;s<r.length;s++){let o=r[s];o!=null&&i(o,s,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){let t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),en.resolve()}resetType(e){let i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,n,r){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let i=this.mapValuesFromModel(e);this.forEachInput((n,r,s)=>{s===t&&this.setElementValue(n,i[r]!=null?i[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,n)=>{this.setElementValue(t,i===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){let i=this.getCellValue(e.node),n=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type),s=this.evaluateCustomFilter(r,n,i);return s??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,i,t,e))}evaluateCustomFilter(e,t,i){if(e==null)return;let{predicate:n}=e;if(n!=null&&!t.some(r=>r==null))return n(t,i)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},xD=class extends DD{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){let n=this.comparator(),r=e[0]!=null?n(e[0],t):0;switch(i.type){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{let s=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return L('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}};function O6(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function L6(e,t,i,n,r){let s=n?n.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;let o=e.addGridCommonParams({event:t,editing:r,column:n,node:i,data:i.data,colDef:n.getColDef()});return!!(s&&s(o))}function N6(e,t,i,n){let r=n.getDefinition(),s=r&&r.suppressHeaderKeyboardEvent;if(!j(s))return!1;let o=e.addGridCommonParams({colDef:r,column:n,headerRowIndex:i,event:t});return!!s(o)}function V6(e,t=!1){return e===k.DELETE?!0:!t&&e===k.BACKSPACE?_N():!1}var es=class extends Zr{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=j(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{O6(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{let n=i.clipboardData?.getData("text");n&&n.split("").some(r=>!e.test(r))&&i.preventDefault()}})}},Qd={selector:"AG-INPUT-TEXT-FIELD",component:es},Uv=class extends es{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{let r=parseFloat(this.eInput.value),s=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";let{precision:e,min:t,max:i,step:n}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof i=="number"&&this.setMax(i),typeof n=="number"&&this.setStep(n)}onWheel(e){Mn(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));let t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){let n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}let i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,Fi(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Fi(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Fi(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(j(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(!n){i=this.adjustPrecision(i);let r=this.normalizeValue(i);n=i!=r}if(n)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;let e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},B6={selector:"AG-INPUT-NUMBER-FIELD",component:Uv},RD=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],$v=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;let t=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(t){let n=e,s=(n.conditions??[]).map(a=>this.getModelAsString(a)),o=n.operator==="AND"?"andCondition":"orCondition";return s.join(` ${i(o,bD[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return i(e.type,e.type);{let n=e,r=this.optionsFactory.getCustomOption(n.type),{displayKey:s,displayName:o,numberOfInputs:a}=r||{};return s&&o&&a===0?(i(s,o),o):this.conditionToString(n,r)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},MD=class extends $v{conditionToString(e,t){let{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function Rv(e){let{allowedCharPattern:t}=e??{};return t??null}var H6=class extends xD{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){let{filter:t,filterTo:i,type:n}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new MD(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return RD}setElementValue(e,t,i){let n=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,n)}createValueElement(){let e=Rv(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),dr(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,n){let r=this.createManagedBean(n?new es({allowedCharPattern:n}):new Uv);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){let t=[];return this.forEachPositionInput(e,(i,n,r,s)=>{n<s&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Fv(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){let t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},ID=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],FD=class extends $v{conditionToString(e,t){let{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function TD(e){let t=e&&e.trim();return t===""?e:t}var G6=class extends DD{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{let n=t.lastIndexOf(i);return n>=0&&n===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new FD(this.localeService,this.optionsFactory)}getTextMatcher(){let e=this.textFilterParams.textCustomComparator;return e?(L("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:i,filterText:n})=>e(t,i,n)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){let t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){let i=[];return this.forEachPositionInput(e,(n,r,s,o)=>{if(r<o){let a=Fv(n.getValue());t&&this.textFilterParams.trimInput&&(a=TD(a)??null,n.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return ID}createValueElement(){let e=document.createElement("div");return e.classList.add("ag-filter-body"),dr(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){let n=this.createManagedBean(new es);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){let{filter:t,filterTo:i,type:n}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,n){let r=e.map(f=>this.formatter(f))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,textFormatter:u}=this.textFilterParams;if(i.type==="blank")return this.isBlank(t);if(i.type==="notBlank")return!this.isBlank(t);let d={api:o,colDef:a,column:l,context:c,node:n.node,data:n.data,filterOption:i.type,value:s,textFormatter:u};return r.some(f=>this.matcher(B(b({},d),{filterText:f})))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function AD(e){if(typeof e=="number")return e;if(typeof e=="string"){let t=parseInt(e);return isNaN(t)?void 0:t}}function Ji(e,t=Number.MAX_VALUE){return i=>{let n=AD(i);if(!(n==null||n<e||n>t))return n}}function rl(e,t){return e.toString().padStart(t,"0")}function z6(e,t,i){return typeof e!="number"?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function Ci(e,t=!0,i="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>rl(r,2)).join(i);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>rl(r,2)).join(":")),n}var fv=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function sl(e,t="YYYY-MM-DD"){let i=rl(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>rl(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${fv(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${fv(e.getDate())}`,DD:()=>rl(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${fv(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function Gt(e){if(!e)return null;let[t,i]=e.split(" ");if(!t)return null;let n=t.split("-").map(d=>parseInt(d,10));if(n.filter(d=>!isNaN(d)).length!==3)return null;let[r,s,o]=n,a=new Date(r,s-1,o);if(a.getFullYear()!==r||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;let[l,c,u]=i.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),u>=0&&u<60&&a.setSeconds(u),a}var PD=class{constructor(e,t,i,n,r){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(i).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),r?.(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){hr(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){let t=!1;this.dateComp?.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&this.dateComp?.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&L("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},kD=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],_D=class extends $v{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){let{type:i}=e,{numberOfInputs:n}=t||{},r=i=="inRange"||n===2,s=Gt(e.dateFrom),o=Gt(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){let l=s!==null?sl(s,a):"null",c=o!==null?sl(o,a):"null";return`${l}-${c}`}return s!=null?sl(s,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},_E=1e3,OE=1/0,j6=class extends xD{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=_E,this.maxValidYear=OE,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){let{dateFrom:t,dateTo:i,type:n}=e||{};return[t&&Gt(t)||null,i&&Gt(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){let i=t;return t==null||i<e?-1:i>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);let t=(i,n)=>{if(e[i]!=null)if(isNaN(e[i]))L(`DateFilter ${i} is not a number`);else return e[i]==null?n:Number(e[i]);return n};this.minValidYear=t("minValidYear",_E),this.maxValidYear=t("maxValidYear",OE),this.minValidYear>this.maxValidYear&&L("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Gt(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Gt(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&L("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new _D(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){let t=new PD(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return kD}createValueElement(){let t=ur(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,n){let s=ur(this.gos).createElement("div");s.classList.add(`ag-filter-${n}`),s.classList.add(`ag-filter-date-${n}`),t.push(s),e.appendChild(s),i.push(this.createDateCompWrapper(s))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,n,r,s)=>{r!==e||!t||n>=s||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){let t=this.getConditionType(e),i={},n=this.getValues(e);return n.length>0&&(i.dateFrom=Ci(n[0])),n.length>1&&(i.dateTo=Ci(n[1])),b({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},i)}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(i,n,r,s)=>{n<s&&t.push(i.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},W6=class extends Z{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Xr(this.colsSpanning):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let e=this.beans.gos.get("suppressColumnMoveAnimation"),t=j(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,i),r=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!Tv(this.beans.gos,"print")||e.getPinned()==="left")return t;let n=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){let r=this.beans.visibleColsService.getBodyContainerWidth();return n+r+t}return n+t}setLeft(e){if(j(e)&&(this.eCell.style.left=`${e}px`),go(this.columnOrGroup)){let t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&FN(this.ariaEl,t.length)}}},U6="ag-column-first",$6="ag-column-last";function OD(e,t,i){e.addOrRemoveCssClass(U6,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass($6,i.isColAtEdge(t,"last"))}var q6=0,K6=(()=>{let e=class LD extends Z{constructor(i,n,r){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=i,this.parentRowCtrl=r,this.beans=n,this.instanceId=i.getUniqueId()+"-"+q6++}wireBeans(i){this.pinnedWidthService=i.pinnedWidthService,this.focusService=i.focusService,this.userComponentFactory=i.userComponentFactory,this.ctrlsService=i.ctrlsService,this.dragAndDropService=i.dragAndDropService,this.menuService=i.menuService}postConstruct(){let i=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],i),this.addManagedEventListeners({overlayExclusiveChanged:i})}shouldStopEventPropagation(i){let{headerRowIndex:n,column:r}=this.focusService.getFocusedHeader();return N6(this.gos,i,n,r)}getWrapperHasFocus(){return Mn(this.gos)===this.eGui}setGui(i,n){this.eGui=i,this.addDomData(n),n.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),n.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(i){let{wrapperElement:n,checkMeasuringCallback:r,compBean:s}=i,{animationFrameService:o,resizeObserverService:a,columnModel:l,gos:c}=this.beans,u=w=>{if(!this.isAlive()||!s.isAlive())return;let{paddingTop:E,paddingBottom:I,borderBottomWidth:A,borderTopWidth:N}=yo(this.getGui()),Me=E+I+A+N,ve=n.offsetHeight+Me;if(w<5){let Ie=ur(c),wi=!Ie||!Ie.contains(n),Ti=ve==0;if(wi||Ti){o.requestAnimationFrame(()=>u(w+1));return}}l.setColHeaderHeight(this.column,ve)},d=!1,f,m=()=>{let w=this.column.isAutoHeaderHeight();w&&!d&&v(),!w&&d&&S()},v=()=>{d=!0,u(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),f=a.observeResize(n,()=>u(0))},S=()=>{d=!1,f&&f(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),f=void 0};m(),s.addDestroyFunc(()=>S()),s.addManagedListeners(this.column,{widthChanged:()=>d&&u(0)}),s.addManagedEventListeners({sortChanged:()=>{d&&window.setTimeout(()=>u(0))}}),r&&r(m)}onDisplayedColumnsChanged(){let{comp:i,column:n,beans:r,eGui:s}=this;!i||!n||!s||(OD(i,n,r.visibleColsService),aD(s,r.visibleColsService.getAriaColIndex(n)))}addResizeAndMoveKeyboardListeners(i){this.resizeFeature&&i.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let i=this.focusService.isHeaderFocusSuppressed();this.eGui&&Fi(this.eGui,"tabindex",i?null:"-1")}onGuiKeyDown(i){let n=Mn(this.gos),r=i.key===k.LEFT||i.key===k.RIGHT;if(this.isResizing&&(i.preventDefault(),i.stopImmediatePropagation()),n!==this.eGui||!i.shiftKey&&!i.altKey||((this.isResizing||r)&&(i.preventDefault(),i.stopImmediatePropagation()),!r))return;let s=i.key===k.LEFT!==this.gos.get("enableRtl"),o=CD[s?"Left":"Right"];if(i.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let a=this.getViewportAdjustedResizeDiff(i);this.resizeHeader(a,i.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(o)}getViewportAdjustedResizeDiff(i){let n=this.getResizeDiff(i);if(this.column.getPinned()){let s=this.pinnedWidthService.getPinnedLeftWidth(),o=this.pinnedWidthService.getPinnedRightWidth(),a=BN(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(s+o+n>a)if(a>s+o)n=a-s-o;else return 0}return n}getResizeDiff(i){let n=i.key===k.LEFT!==this.gos.get("enableRtl"),r=this.column.getPinned(),s=this.gos.get("enableRtl");return r&&s!==(r==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(i){let n=this.getWrapperHasFocus();switch(i.key){case k.PAGE_DOWN:case k.PAGE_UP:case k.PAGE_HOME:case k.PAGE_END:n&&i.preventDefault()}}addDomData(i){let n=LD.DOM_DATA_KEY_HEADER_CTRL;al(this.gos,this.eGui,n,this),i.addDestroyFunc(()=>al(this.gos,this.eGui,n,null))}getGui(){return this.eGui}focus(i){return this.eGui?(this.lastFocusEvent=i||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(i,n,r){let s=i??n;this.gos.get("preventDefaultOnContextMenu")&&s.preventDefault(),this.menuService.isHeaderContextMenuEnabled(r)&&this.menuService.showHeaderContextMenu(r,i,n),this.dispatchColumnMouseEvent("columnHeaderContextMenu",r)}dispatchColumnMouseEvent(i,n){this.eventService.dispatchEvent({type:i,column:n})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};return e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",e})(),Q6=K6,Y6=class extends Z{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},Z6=class extends Q6{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,n,r){this.comp=e,r=bN(this,this.beans.context,r),this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(t,r),this.setupActive(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){let e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=lr("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new zv(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.localeService.getLocaleTextFunc();Lv(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Mn(this.gos)===this.eGui)return;let n=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(n){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),n.focus();return}let r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleColsService,i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case k.UP:case k.DOWN:t||e.preventDefault();case k.LEFT:case k.RIGHT:if(t)return;e.stopPropagation();case k.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case k.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&uD(e.relatedTarget,"ag-floating-filter");if(i&&n&&e.target===this.eGui){let s=this.lastFocusEvent,o=!!(s&&s.key===k.TAB);if(s&&o){let a=s.shiftKey;this.focusService.focusInto(this.eGui,a)}}let r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(e){e.createManagedBean(new Y6([this.column],this.eGui));let t=()=>{if(!this.gos.get("columnHoverHighlight"))return;let i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){let t=new W6(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;let e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;let{filterManager:t}=this.beans,i=n=>{if(n?.source==="filterDestroyed"&&!this.isAlive())return;let r=this.comp.getFloatingFilterComp();r&&r.then(s=>{if(s){let o=t?.getCurrentFloatingFilterParentModel(this.column),a=n?B(b({},n),{columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}):null;s.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t?.isFilterActive(this.column)&&i(null)}setupWidth(e){let t=()=>{let i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){let t=this.active;this.setupActive();let i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let n=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!n?this.updateCompDetails(e,n,i):r.then(s=>{!s||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,i):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){if(!e)return;let t=e.params;this.comp.getFloatingFilterComp()?.then(i=>{let n=!1;i?.refresh&&typeof i.refresh=="function"&&i.refresh(t)!==null&&(n=!0),!n&&i?.onParamsUpdated&&typeof i.onParamsUpdated=="function"&&i.onParamsUpdated(t)!==null&&L("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var U="32.2.1";function X6(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()}function J6(e,t,i){return e.filterManager?.getFilterInstance(t,i)}function e4(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function t4(e,t){let i=e.columnModel.getColDefCol(t);if(i)return e.filterManager?.destroyFilter(i,"api")}function i4(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function n4(e){return e.filterManager?.getFilterModel()??{}}function r4(e,t){return e.filterManager?.getColumnFilterModel(t)??null}function s4(e,t,i){return e.filterManager?.setColumnFilterModel(t,i)??Promise.resolve()}function o4(e,t){let i=e.columnModel.getCol(t);if(!i){_e(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function a4(e,t,i){if(t==null)return null;let n=null,{compName:r,jsComp:s,fwComp:o}=C6.getCompKeys(e,t,Gv);return r?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:s==null&&o==null&&t.filter===!0&&(n=i()),n}var LE={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},NE=["january","february","march","april","may","june","july","august","september","october","november","december"],l4=class extends Z{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel=b({},this.gos.get("initialState")?.filter?.filterModel??{})}setFilterModel(e,t="api"){if(this.dataTypeService?.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}let i=[],n=this.getFilterModel(!0);if(e){let r=new Set(Object.keys(e));this.allColumnFilters.forEach((s,o)=>{let a=e[o];i.push(this.setModelOnFilterWrapper(s.filterPromise,a)),r.delete(o)}),r.forEach(s=>{let o=this.columnModel.getColDefCol(s)||this.columnModel.getCol(s);if(!o){L("setFilterModel() - no column found for colId: "+s);return}if(!o.isFilterAllowed()){L("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+s);return}let a=this.getOrCreateFilterWrapper(o);if(!a){L("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+s);return}i.push(this.setModelOnFilterWrapper(a.filterPromise,e[s]))})}else this.allColumnFilters.forEach(r=>{i.push(this.setModelOnFilterWrapper(r.filterPromise,null))});en.all(i).then(()=>{let r=this.getFilterModel(!0),s=[];this.allColumnFilters.forEach((o,a)=>{let l=n?n[a]:null,c=r?r[a]:null;ol(l,c)||s.push(o.column)}),s.length>0&&this.filterManager?.onFilterChanged({columns:s,source:t})})}setModelOnFilterWrapper(e,t){return new en(i=>{e.then(n=>{typeof n.setModel!="function"&&(L("filter missing setModel method, which is needed for setFilterModel"),i()),(n.setModel(t)||en.resolve()).then(()=>i())})})}getFilterModel(e){let t={},{allColumnFilters:i,initialFilterModel:n}=this;return i.forEach((r,s)=>{let o=this.getModelFromFilterWrapper(r);j(o)&&(t[s]=o)}),e||Object.entries(n).forEach(([r,s])=>{j(s)&&!i.has(r)&&this.columnModel.getCol(r)?.isFilterAllowed()&&(t[r]=s)}),t}getModelFromFilterWrapper(e){let{filter:t}=e;return t?typeof t.getModel!="function"?(L("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){let e=s=>s?s.isFilterActive?s.isFilterActive():(L("Filter is missing isFilterActive() method"),!1):!1,t=!!yv(this.gos),i=s=>{if(!s.isPrimary())return!0;let a=!this.columnModel.isPivotActive();return!s.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},n=[],r=[];return this.forEachColumnFilter((s,o)=>{e(s)&&(i(o.column)?n.push(s):r.push(s))}).then(()=>{this.activeAggregateFilters=n,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,n)=>n.column.setFilterActive(i.isFilterActive(),e,t))}forEachColumnFilter(e){return en.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(i=>e(i,t))))}doColumnFiltersPass(e,t,i){let{data:n,aggData:r}=e,s=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?r:n;for(let a=0;a<s.length;a++){let l=s[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){let t=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){let{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(r=>{r&&r!==t&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{let n=i?this.columnModel.getCol(i):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){let{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(av(this.gos))t="agSetColumnFilter";else{let i=this.dataTypeService?.getBaseDataType(e);i==="number"?t="agNumberColumnFilter":i==="date"||i==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(av(this.gos))t="agSetColumnFloatingFilter";else{let i=this.dataTypeService?.getBaseDataType(e);i==="number"?t="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){let i=this.getDefaultFilter(e),n=e.getColDef(),r,s=B(b({},this.createFilterParams(e,n)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(r,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(r,a):!0}),o=this.userComponentFactory.getFilterDetails(n,s,i);return o?{filterPromise:()=>{let a=o.newAgStackInstance();return a?.then(l=>{r=l,t&&(t.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:tD(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){let t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=i?.()??null,t.compDetails=n,t}onColumnsChanged(){let e=[];this.allColumnFilters.forEach((i,n)=>{let r;i.column.isPrimary()?r=this.columnModel.getColDefCol(n):r=this.columnModel.getCol(n),!(r&&r===i.column)&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(n))});let t=e.every(i=>i.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.columnModel.getAutoCols()?.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let{filter:i}=this.allColumnFilters.get(e.getColId())??{};return i&&typeof i?.isFilterAllowed=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){let i=l=>{let c=this.getOrCreateFilterWrapper(e)?.filterPromise;c?.then(u=>{l(nl(u))})},n=e.getColDef(),r=B(b({},this.createFilterParams(e,n)),{filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,e)())}),s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,Gv,r),o=a4(this.frameworkOverrides,n,()=>this.getDefaultFloatingFilter(e));o==null&&(o="agReadOnlyFloatingFilter");let a={column:e,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,a,o)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){let i=e.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],n&&(this.disposeFilterWrapper(n,t),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{let n=i?.source??"columnFilter",r={filter:e,additionalEventAttributes:i,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(e){let t=this.allColumnFilters.get(e);if(!t)return;let i=t.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(i,"paramsUpdated");return}let r=i.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(i,"paramsUpdated");return}t.filterPromise.then(s=>{(s?.refresh?s.refresh(b(B(b({},this.createFilterParams(i,i.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(s,i),filterChangedCallback:this.filterChangedCallbackFactory(s,i),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(s,a):!0}),r)):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(e,t){let i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:i}=e,{componentClass:n}=t;return!(i===n||i?.render&&n?.render&&i.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(i=>{let n=nl(i);t(n)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(nl(i))})})}getFilterInstanceImpl(e){let t=this.columnModel.getColDefCol(e);return t?this.getOrCreateFilterWrapper(t)?.filterPromise??en.resolve(null):en.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){let t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.dataTypeService?.isPendingInference()){let s=()=>{},o=new Promise(a=>{s=a});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:s}),o}let i=this.columnModel.getColDefCol(e),n=i?this.getOrCreateFilterWrapper(i):null;return n?(s=>new Promise(o=>{s.then(a=>o(a))}))(this.setModelOnFilterWrapper(n.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){let t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){let n=av(this.gos),r=this.localeService.getLocaleTextFunc(),s=o=>{let{filterParams:a}=e;e.filterParams=typeof a=="object"?b(b({},a),o):o};switch(t.baseDataType){case"number":{n&&s({comparator:(o,a)=>{let l=o==null?0:parseInt(o),c=a==null?0:parseInt(a);return l===c?0:l>c?1:-1}});break}case"boolean":{s(n?{valueFormatter:o=>j(o.value)?r(String(o.value),o.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{n&&s({valueFormatter:o=>{let a=i(o);return j(a)?a:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(a===1&&o!=null){let l=NE[Number(o)-1];return r(l,LE[l])}return o??r("blanks","(Blanks)")}});break}case"dateString":{let o=t.dateParser;s(n?{valueFormatter:a=>{let l=i(a);return j(l)?l:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{let l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){let c=NE[Number(a)-1];return r(c,LE[c])}return a??r("blanks","(Blanks)")}}:{comparator:(a,l)=>{let c=o(l);return l==null||c<a?-1:c>a?1:0}});break}case"object":{n?s({valueFormatter:o=>{let a=i(o);return j(a)?a:r("blanks","(Blanks)")}}):e.filterValueGetter=o=>i({column:o.column,node:o.node,value:this.valueService.getValue(o.column,o.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function c4(e){return!!e.filterManager?.isAnyFilterPresent()}function u4(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var d4=class extends zt{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[Qd]),this.eFloatingFilterText=Re}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;let t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},ND=class extends zt{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}let t=e.operator,i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let i=e;return this.isTypeEditable(i.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new ED,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;let i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){let t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return i==null||i==1}isTypeEditable(e){let t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){let t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${t} ${i("ariaFilterInput","Filter Input")}`}},h4=class extends ND{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[Qd]),this.eReadOnlyText=Re,this.eDateWrapper=Re}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return kD}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new _D(this.filterParams,this.localeService,this.optionsFactory);let t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){let i=e;this.dateComp.setDate(Gt(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){hr(this.eDateWrapper,e),hr(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){let e=this.dateComp.getDate(),t=Ci(e);this.params.parentFilterInstance(i=>{if(i){let n=Gt(t);i.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){let e=jv(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:tn(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new PD(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){let e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},p4=class extends zt{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[Qd]),this.eDateInput=Re}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:i=>{i.target===Mn(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){let t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Jr(),t.type=i?"date":"text";let{minValidYear:n,maxValidYear:r,minValidDate:s,maxValidDate:o}=e.filterParams||{};if(s&&n&&L("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&r&&L("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&o){let[a,l]=[s,o].map(c=>c instanceof Date?c:Gt(c));a&&l&&a.getTime()>l.getTime()&&L("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?s instanceof Date?t.min=sl(s):t.min=s:n&&(t.min=`${n}-01-01`),o?o instanceof Date?t.max=sl(o):t.max=o:r&&(t.max=`${r}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Gt(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Ci(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:PN()||kN()||Jr()&&AN()>=14.1}},VD=class extends Z{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=Re,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new es(this.params?.config));let t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);let i=n=>this.valueChangedListener(n);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},BD=class extends ND{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Re}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;let t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Ud(this.params.filterParams),!this.isReadOnly()){let i=jv(this.params.filterParams,this.getDefaultDebounceMs()),n=tn(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let t=this.floatingFilterInputService.getValue();hl(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){let t=e.key===k.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=TD(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},g4=class extends Z{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Uv),this.eFloatingFilterTextInput=this.createManagedBean(new es),this.eFloatingFilterTextInput.setDisabled(!0);let t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(i,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},f4=class extends BD{init(e){super.init(e),this.filterModelFormatter=new MD(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){Rv(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return RD}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=Rv(e.filterParams),this.allowedCharPattern?this.createManagedBean(new VD({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new g4)}},m4=class extends BD{init(e){super.init(e),this.filterModelFormatter=new FD(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return ID}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new VD)}};function v4(e){return!!e.filterManager?.isQuickFilterPresent()}function C4(e){return e.gos.get("quickFilterText")}function w4(e){e.filterManager?.resetQuickFilterCache()}var y4=class extends Z{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){let e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){let e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols(),n=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:i)??[];t&&(n=n.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter(r=>r.isVisible()||r.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){let t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return j(e)?cr(this.gos)?e.toUpperCase():(L("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){L(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}let t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){let e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(i=>{let n=this.getQuickFilterTextForColumn(i,e);return j(n)&&n.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);let{quickFilterParts:n,matcher:r}=this;return r(n,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0),n=e.getColDef();if(n.getQuickFilterText){let r=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:n});i=n.getQuickFilterText(r)}return j(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){let t=[];return this.colsForQuickFilter.forEach(i=>{let n=this.getQuickFilterTextForColumn(i,e);j(n)&&t.push(n)}),t.join(`
`)}},qv={version:U,moduleName:"@ag-grid-community/filter-core",beans:[R6]},S4={version:U,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:c4,onFilterChanged:u4},dependantModules:[qv]},Yd={version:U,moduleName:"@ag-grid-community/column-filter",beans:[l4],dependantModules:[qv]},b4={version:U,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:X6,getFilterInstance:J6,getColumnFilterInstance:e4,destroyFilter:t4,setFilterModel:i4,getFilterModel:n4,getColumnFilterModel:r4,setColumnFilterModel:s4,showColumnFilter:o4},dependantModules:[Yd,S4]},Kv={version:U,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:Z6}],dependantModules:[Yd]},pY={version:U,moduleName:"@ag-grid-community/floating-filter",dependantModules:[Kv,Yd]},E4={version:U,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:d4}],dependantModules:[Kv]},D4={version:U,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Yd],userComponents:[{name:"agTextColumnFilter",classImp:G6},{name:"agNumberColumnFilter",classImp:H6},{name:"agDateColumnFilter",classImp:j6},{name:"agDateInput",classImp:p4}]},x4={version:U,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[D4,Kv],userComponents:[{name:"agTextColumnFloatingFilter",classImp:m4},{name:"agNumberColumnFloatingFilter",classImp:f4},{name:"agDateColumnFloatingFilter",classImp:h4}]},HD={version:U,moduleName:"@ag-grid-community/quick-filter-core",beans:[y4],dependantModules:[qv]},R4={version:U,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:v4,getQuickFilter:C4,resetQuickFilter:w4},dependantModules:[HD]},M4={version:U,moduleName:"@ag-grid-community/quick-filter",dependantModules:[HD,R4]},I4={version:U,moduleName:"@ag-grid-community/filter",dependantModules:[x4,E4,M4,b4]};var F4=100,gY=F4/2;var T4=class extends zt{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[mD]),this.eCheckbox=Re}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=lD(e,t),[n,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=e(n,r);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:n=>bv(n),click:n=>{bv(n);let r=Pv(this.gos)==="filteredDescendants",s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,r)?this.onClicked(!0,r,n||{})===0&&this.onClicked(!1,r,n):s?this.onClicked(!1,r,n):this.onClicked(!0,r,n||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),KE(this.gos)||typeof this.getIsVisible()=="function"){let n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&cr(this.gos)}showOrHideSelect(){let e=this.rowNode.selectable,t=this.getIsVisible();if(e)if(typeof t=="function"){let r=this.overrides?.callbackParams;if(!this.column)e=t(B(b({},r),{node:this.rowNode,data:this.rowNode.data}));else{let s=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t(b(b({},r),s))}}else e=t??!1;let i=this.gos.get("rowSelection");if(i&&typeof i!="string"?!QL(i):this.column?.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if(this.overrides?.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){if(this.overrides)return this.overrides.isVisible;let e=this.gos.get("rowSelection");return e&&typeof e!="string"?Av(e):this.column?.getColDef()?.checkboxSelection}},A4=class extends zt{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(lr("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);let i=()=>{try{let n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(t){let n=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(n)}else i()}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},P4=class extends Z{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){let e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){let i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=e.cellStyle;t=n(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){let e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},k4=class extends Z{constructor(e,t,i,n,r){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){let t=e.key;switch(t){case k.ENTER:this.onEnterKeyDown(e);break;case k.F2:this.onF2KeyDown(e);break;case k.ESCAPE:this.onEscapeKeyDown(e);break;case k.TAB:this.onTabKeyDown(e);break;case k.BACKSPACE:case k.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case k.DOWN:case k.UP:case k.RIGHT:case k.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;let t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:i,beans:n,rowNode:r}=this,{gos:s,rangeService:o,eventService:a}=n;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),V6(e,s.get("enableCellEditingOnBackspace"))){if(o&&Kd(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){let l=i.getColumn(),c=this.beans.valueService.getDeleteValue(l,r);r.setDataValue(l,c,"cellClear")}}else i.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){let t=e.shiftKey?k.UP:k.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(k.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(k.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;let n=e.key;n===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(n,e)&&e.preventDefault()}onSpaceKeyDown(e){let{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&GL(t)){let i=this.rowNode.isSelected(),n=!i,r=Pv(t)==="filteredDescendants",s=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});i===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},_4=class extends Z{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!XE(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}let{eventService:t,rangeService:i,gos:n}=this.beans,r=e.ctrlKey||e.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);let s=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(s);let o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(s)})},0),(n.get("singleClickEdit")||o.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&i?.getCellRanges().length!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!cD()||iN("dblclick"))return!1;let e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){let{column:t,beans:i,cellCtrl:n}=this,{eventService:r,frameworkOverrides:s,gos:o}=i,a=t.getColDef(),l=n.createEvent(e,"cellDoubleClicked");r.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){let{ctrlKey:t,metaKey:i,shiftKey:n}=e,r=e.target,{cellCtrl:s,beans:o}=this,{eventService:a,rangeService:l,focusService:c,gos:u}=o;if(this.isRightClickInExistingRange(e))return;let d=l&&l.getCellRanges().length!=0;if(!n||!d){let m=u.get("enableCellTextSelection")&&e.defaultPrevented,v=(Jr()||m)&&!s.isEditing()&&!LN(r);s.focusCell(v)}if(n&&d&&!c.isCellFocused(s.getCellPosition())){e.preventDefault();let f=c.getFocusedCell();if(f){let{column:m,rowIndex:v,rowPinned:S}=f,E=o.rowRenderer.getRowByPosition({rowIndex:v,rowPinned:S})?.getCellCtrl(m);E?.isEditing()&&E.stopEditing(),c.setFocusedCell({column:m,rowIndex:v,rowPinned:S,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(l){let f=this.cellCtrl.getCellPosition();if(n)l.extendLatestRangeToCell(f);else{let m=t||i;l.setRangeToCell(f,m)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){let{rangeService:t}=this.beans;if(t){let i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(e){return uD(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.getGui(),i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){super.destroy()}},O4=class extends Z{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();kv(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;let e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let i=this.column,n=this.column.getPinned();for(let r=0;i&&r<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),!(!i||st(i)||n!==i.getPinned()));r++);}return t}onLeftChanged(){if(!this.eGui)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Xr(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;let t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){let i=this.beans.visibleColsService.getBodyContainerWidth();return t+i+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;let i=mo(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}};var Xa="ag-cell-range-selected",L4="ag-cell-range-chart",N4="ag-cell-range-single-cell",V4="ag-cell-range-chart-category",B4="ag-cell-range-handle",H4="ag-cell-range-top",G4="ag-cell-range-right",z4="ag-cell-range-bottom",j4="ag-cell-range-left",W4=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Xa,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${Xa}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${Xa}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${Xa}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${Xa}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(L4,this.hasChartRange),Dv(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(N4,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){let e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,n=!t&&e.right,r=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(H4,i),this.cellComp.addOrRemoveCssClass(G4,n),this.cellComp.addOrRemoveCssClass(z4,r),this.cellComp.addOrRemoveCssClass(j4,s)}isSingleCell(){let{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){let{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;let t=e.getCellRanges();return t.length>0&&t.every(i=>YE([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){let e=this.beans.gos.get("enableRtl"),t=!1,i=!1,n=!1,r=!1,s=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService,a,l;e?(a=o.getColAfter(s),l=o.getColBefore(s)):(a=o.getColBefore(s),l=o.getColAfter(s));let c=this.rangeService.getCellRanges().filter(u=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),u));a||(r=!0),l||(i=!0);for(let u=0;u<c.length&&!(t&&i&&n&&r);u++){let d=c[u],f=this.rangeService.getRangeStartRow(d),m=this.rangeService.getRangeEndRow(d);!t&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(n=!0),!r&&a&&d.columns.indexOf(a)<0&&(r=!0),!i&&l&&d.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:n,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;let e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(B4,!!this.selectionHandle)}shouldHaveSelectionHandle(){let e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;let n=Xr(t),r=this.cellCtrl.getCellPosition(),s=RE(e)&&!this.cellCtrl.isSuppressFillHandle(),o=XL(e),a=i===1&&!this.cellCtrl.isEditing()&&(s||o);if(this.hasChartRange){let c=t[0].type===1&&this.rangeService.isCellInSpecificRange(r,t[0]);this.cellComp.addOrRemoveCssClass(V4,c),a=n.type===0}return a&&n.endRow!=null&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,r)}addSelectionHandle(){let e=Xr(this.rangeService.getCellRanges()).type,i=RE(this.beans.gos)&&st(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},U4="ag-cell",$4="ag-cell-auto-height",q4="ag-cell-normal-height",K4="ag-cell-focus",Q4="ag-cell-first-right-pinned",Y4="ag-cell-last-left-pinned",Z4="ag-cell-not-inline-editing",X4="ag-column-hover",J4="ag-cell-wrap-text",eV=0,tV=(()=>{let e=class Mv extends Z{constructor(i,n,r,s){super(),this.column=i,this.rowNode=n,this.beans=r,this.rowCtrl=s,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=i.getId()+"-"+eV++,this.colIdSanitised=nD(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new O4(this,this.beans),this.cellCustomStyleFeature=new P4(this,this.beans),this.cellMouseListenerFeature=new _4(this,this.beans,this.column),this.cellKeyboardListenerFeature=new k4(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&Kd(this.beans.gos)&&(this.cellRangeFeature=new W4(this.beans,this))}removeFeatures(){let i=this.beans.context;this.cellPositionFeature=i.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=i.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=i.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=i.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=i.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(i,n){let r=()=>{let a=this.column.getColDef(),l=this.rowNode.data;if(a.tooltipField&&j(l))return iD(l,a.tooltipField,this.column.isTooltipFieldContainsDots());let c=a.tooltipValueGetter;return c?c(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},s=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!n&&s&&!this.isCellRenderer()&&(n=()=>{let a=this.getGui(),l=a.children.length===0?a:a.querySelector(".ag-cell-value");return l?l.scrollWidth>l.clientWidth:!0});let o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:i!=null?()=>i:r,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:n};this.tooltipFeature=new Hv(o,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(i,n,r,s,o,a){this.cellComp=i,this.eGui=n,this.printLayout=s,a??(a=this),this.addDomData(a),this.addFeatures(),a.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,a),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(n),this.cellCustomStyleFeature?.setComp(i),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(i,n),o&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(l=>l()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(i,n){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!i)return;let r=i.parentElement,s=Gd(this.beans.gos,this.rowNode).height,o=c=>{if(this.editing||!this.isAlive()||!n.isAlive())return;let{paddingTop:u,paddingBottom:d,borderBottomWidth:f,borderTopWidth:m}=yo(r),v=u+d+f+m,w=i.offsetHeight+v;if(c<5){let I=ur(this.beans.gos),A=!I||!I.contains(i),N=w==0;if(A||N){window.setTimeout(()=>o(c+1),0);return}}let E=Math.max(w,s);this.rowNode.setRowAutoHeight(E,this.column)},a=()=>o(0);a();let l=this.beans.resizeObserverService.observeResize(i,a);n.addDestroyFunc(()=>{l(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){let i=this.column.getColDef();return i.cellRenderer!=null||i.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(i=!1){let n=this.getValueToDisplay(),r;if(this.rowNode.stub&&this.rowNode.groupData?.[this.column.getId()]==null){let o=this.createCellRendererParams();r=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),o)}else if(this.isCellRenderer()){let o=this.createCellRendererParams();r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(r,n,i),this.cellRangeFeature?.refreshHandle()}setupControlComps(){let i=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(i)),this.includeRowDrag=this.isIncludeControl(i.rowDrag),this.includeDndSource=this.isIncludeControl(i.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(i){return this.rowNode.rowPinned!=null?!1:typeof i=="function"||i===!0}isCheckboxSelection(i){let{rowSelection:n}=this.beans.gridOptions;return i.checkboxSelection||_v(this.column)&&n&&typeof n!="string"&&Av(n)}refreshShouldDestroy(){let i=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(i)),r=this.includeRowDrag!=this.isIncludeControl(i.rowDrag),s=this.includeDndSource!=this.isIncludeControl(i.dndSource),o=this.isAutoHeight!=this.column.isAutoHeight();return n||r||s||o}startEditing(i=null,n=!1,r=null){let{editService:s}=this.beans;return!this.isCellEditable()||this.editing||!s?!0:this.cellComp?s.startEditing(this,i,n,r):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(i,n,r)}),!0)}setEditing(i,n){this.editCompDetails=n,this.editing!==i&&(this.editing=i,this.cellRangeFeature?.refreshHandle())}stopRowOrCellEdit(i=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(i):this.stopEditing(i)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(i=!1){this.onCellEditorAttachedFuncs=[];let{editService:n}=this.beans;return!this.editing||!n?!1:n.stopEditing(this,i)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:n=>this.beans.valueService.setValue(this.rowNode,this.column,n),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(n,r,s,o)=>this.registerRowDragger(n,r,o),setTooltip:(n,r)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(n,r),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(i){i.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(i){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(i)}refreshCell(i){if(this.suppressRefreshCell||this.editing)return;let n=this.column.getColDef(),r=i!=null&&!!i.newData,s=i!=null&&!!i.suppressFlash||!!n.suppressCellFlash,o=n.field==null&&n.valueGetter==null&&n.showRowGroup==null,a=i&&i.forceRefresh||o||r,l=!!this.cellComp,c=this.updateAndFormatValue(l),u=a||c;if(l){if(u){this.showValue(r);let d=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!s&&!d&&(this.beans.gos.get("enableCellChangeFlash")||n.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(i=!1,n=!1){this.beans.editService?.stopEditingAndFocus(this,i,n)}flashCell(i){let n=i?.flashDuration??i?.flashDelay,r=i?.fadeDuration??i?.fadeDelay;this.animateCell("data-changed",n,r)}animateCell(i,n,r){if(!this.cellComp)return;let{gos:s}=this.beans;if(n||(n=s.get("cellFlashDuration")),n===0)return;j(r)||(r=s.get("cellFadeDuration"));let o=`ag-cell-${i}`,a=`ag-cell-${i}-animation`;this.cellComp.addOrRemoveCssClass(o,!0),this.cellComp.addOrRemoveCssClass(a,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.cellComp.addOrRemoveCssClass(a,!0),this.eGui.style.transition=`background-color ${r}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(a,!1),this.eGui.style.transition="")},r))},n)})}onFlashCells(i){if(!this.cellComp)return;let n=this.beans.cellPositionUtils.createId(this.getCellPosition());i.cells[n]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(i){return this.callValueFormatter(i)??i}callValueFormatter(i){return this.beans.valueService.formatValue(this.column,this.rowNode,i)}updateAndFormatValue(i){let n=this.value,r=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),i?!this.valuesAreEqual(n,this.value)||this.valueFormatted!=r:!0}valuesAreEqual(i,n){let r=this.column.getColDef();return r.equals?r.equals(i,n):i===n}getComp(){return this.cellComp}getValue(){return this.value}addDomData(i){let n=this.getGui();al(this.beans.gos,n,Mv.DOM_DATA_KEY_CELL_CTRL,this),i.addDestroyFunc(()=>al(this.beans.gos,n,Mv.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(i,n){return this.beans.gos.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:i,rowIndex:this.rowNode.rowIndex})}processCharacter(i){this.cellKeyboardListenerFeature?.processCharacter(i)}onKeyDown(i){this.cellKeyboardListenerFeature?.onKeyDown(i)}onMouseEvent(i,n){this.cellMouseListenerFeature?.onMouseEvent(i,n)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{cellComp:i,column:n,beans:r}=this;OD(i,n,r.visibleColsService)}refreshAriaColIndex(){let i=this.beans.visibleColsService.getAriaColIndex(this.column);aD(this.getGui(),i)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(i,n=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(i,this):this.startEditing(i,!0,n):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(i,n)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(i=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:i})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(i){this.eGui&&Fi(this.eGui,"tabindex",i?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;let i=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(Q4,i)}onLastLeftPinnedChanged(){if(!this.cellComp)return;let i=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(Y4,i)}onCellFocused(i){if(this.beans.focusService.isCellFocusSuppressed())return;let n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&i?.forceBrowserFocus&&(this.focusEventToRestore=i);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(K4,n),n&&i&&i.forceBrowserFocus){let s=this.cellComp.getFocusableElement();if(this.editing){let o=this.beans.focusService.findFocusableElements(s,null,!0);o.length&&(s=o[0])}s.focus({preventScroll:!!i.preventScrollOnBrowserFocus})}let r=this.beans.gos.get("editType")==="fullRow";!n&&!r&&this.editing&&this.stopRowOrCellEdit(),n&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Fv(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(U4,!0),this.cellComp.addOrRemoveCssClass(Z4,!0);let i=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass($4,i),this.cellComp.addOrRemoveCssClass(q4,!i)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;let i=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(X4,i)}onColDefChanged(){if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){let i=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(J4,i)}dispatchCellContextMenuEvent(i){let n=this.column.getColDef(),r=this.createEvent(i,"cellContextMenu");this.beans.eventService.dispatchEvent(r),n.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{n.onCellContextMenu(r)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){let i=new T4;return this.beans.context.createBean(i),i.init({rowNode:this.rowNode,column:this.column}),i}createDndSource(){let i=new A4(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(i),i}registerRowDragger(i,n,r){if(this.customRowDragComp){this.customRowDragComp.setDragElement(i,n);return}let s=this.createRowDragComp(i,n,r);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(i,n,r){let s=this.beans.gos.get("pagination"),o=this.beans.gos.get("rowDragManaged"),a=cr(this.beans.gos);if(o){if(!a){L("managed row dragging is only allowed in the Client Side Row Model");return}if(s){L("managed row dragging is not possible when doing pagination");return}}let l=new S6(()=>this.value,this.rowNode,this.column,i,n,r);return this.beans.context.createBean(l),l}setSuppressRefreshCell(i){this.suppressRefreshCell=i}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(i){this.onCellEditorAttachedFuncs.push(i)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(i=>i()),this.onCellEditorAttachedFuncs=[]}};return e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e})(),iV=tV;var nV=["topCenter","topLeft","topRight"],rV=["bottomCenter","bottomLeft","bottomRight"],sV=["center","left","right"];var GD=["stickyTopCenter","stickyTopLeft","stickyTopRight"],zD=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],fY=[...GD,"stickyTopFullWidth",...zD,"stickyBottomFullWidth"],mY=[...nV,...rV,...sV,...GD,...zD];function Ja(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}var vY=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${Ja(["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${Ja(["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${Ja(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${Ja(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${Ja(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`;var VE="__ag_grid_instance",oV=class jD extends Z{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=jD.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[VE]=this.gridInstanceId}getRenderedCellForEvent(t){return nN(this.gos,t.target,iV.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let i=t;for(;i;){let n=i[VE];if(j(n))return n===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(t){let i=this.getRenderedCellForEvent(t);return i?i.getCellPosition():null}getNormalisedPosition(t){let i=Tv(this.gos,"normal"),n=t,r,s;if(n.clientX!=null||n.clientY!=null?(r=n.clientX,s=n.clientY):(r=n.x,s=n.y),i){let o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();r+=l.left,s+=a.top}return{x:r,y:s}}};oV.gridInstanceSequence=new dl;var aV=class extends Zr{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){let i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},lV={selector:"AG-INPUT-TEXT-AREA",component:aV},cV=class extends pl{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[lV]),this.eTextArea=Re}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),j(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){let t=e.key;(t===k.LEFT||t===k.UP||t===k.RIGHT||t===k.DOWN||e.shiftKey&&t===k.ENTER)&&e.stopPropagation()}afterGuiAttached(){let e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){let e=this.eTextArea.getValue();return!j(e)&&!j(this.params.value)?this.params.value:this.params.parseValue(e)}},uV=class extends pl{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){al(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params,i=n=>{L6(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:i})}},dV=class extends pl{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[_6]),this.eSelect=Re,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;let{eSelect:t,valueService:i,gos:n}=this,{values:r,value:s,eventKey:o}=e;if(st(r)){L("no values found for select cellEditor");return}this.startedByEnter=o!=null?o===k.ENTER:!1;let a=!1;r.forEach(d=>{let f={value:d},m=i.formatValue(e.column,null,d),v=m!=null;f.text=v?m:d,t.addOption(f),a=a||s===d}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:u}=e;l!=null&&t.setPickerGap(l),u!=null&&t.setPickerMaxHeight(u),c!=null&&t.setPickerMaxWidth(c),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},Zd=class extends pl{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Re}init(e){this.params=e;let{cellStartedEdit:t,eventKey:i,suppressPreventDefault:n}=e,r=this.eInput;this.cellEditorInput.init(r,e);let s,o=!0;t?(this.focusAfterAttached=!0,i===k.BACKSPACE||i===k.DELETE?s="":i&&i.length===1?n?o=!1:s=i:(s=this.cellEditorInput.getStartValue(),i!==k.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.cellEditorInput.getStartValue()),o&&s!=null&&r.setStartValue(s),this.addManagedElementListeners(r.getGui(),{keydown:a=>{let{key:l}=a;(l===k.PAGE_UP||l===k.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){let e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Jr()||t.getFocusableElement().focus();let i=t.getInputElement();this.highlightAllOnFocus?i.select():this.cellEditorInput.setCaret?.()}focusIn(){let e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},hV=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Qd]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){let e=this.eInput.getValue();return!j(e)&&!j(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){let e=this.eInput.getValue(),t=j(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},WD=class extends Zd{constructor(){super(new hV)}},pV=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[B6]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);let i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===k.UP||e.key===k.DOWN)&&e.preventDefault()}getValue(){let e=this.eInput.getValue();if(!j(e)&&!j(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){Jr()&&this.eInput.getInputElement().focus({preventScroll:!0})}},gV=class extends Zd{constructor(){super(new pV)}},fV=class extends es{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();let e=Jr();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Mn(this.gos)===this.eInput&&e.preventDefault()}setMin(e){let t=e instanceof Date?Ci(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Fi(this.eInput,"min",t),this)}setMax(e){let t=e instanceof Date?Ci(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Fi(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Fi(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Gt(this.getValue())??void 0}setDate(e,t){this.setValue(Ci(e??null,!1),t)}},UD={selector:"AG-INPUT-DATE-FIELD",component:fV},mV=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[UD]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){let e=this.eInput.getDate();return!j(e)&&!j(this.params.value)?this.params.value:e??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return Ci(e,!1)}},vV=class extends Zd{constructor(){super(new mV)}},CV=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[UD]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){let e=this.formatDate(this.eInput.getDate());return!j(e)&&!j(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return Ci(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Gt(e)??void 0}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Ci(e??null,!1)??void 0}},wV=class extends Zd{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new CV(()=>this.dataTypeService))}},yV=class extends pl{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[mD]),this.eCheckbox=Re}init(e){this.params=e;let t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.localeService.getLocaleTextFunc(),i=lD(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}},il=class{constructor(e){this.cellValueChanges=e}},mv=class extends il{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}},SV=10,BE=class{constructor(e){this.actionStack=[],this.maxStackSize=e||SV,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},bV=class extends Z{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;let{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,u={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;let e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new BE(e),this.redoStack=new BE(e),this.addListeners();let t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});let t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});let t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,i,n,r){if(!e)return!1;let s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[n],r),s instanceof mv?this.processRange(this.rangeService,s.ranges||[s[i]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,i){e.cellValueChanges.forEach(n=>{let{rowIndex:r,rowPinned:s,columnId:o}=n,a={rowIndex:r,rowPinned:s},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(o,t(n),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((n,r)=>{if(!n)return;let s=n.startRow,o=n.endRow;r===t.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(i));let a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:n.startColumn,columns:n.columns};e.addCellRange(a)})}processCell(e){let t=e[0],{rowIndex:i,rowPinned:n}=t,r={rowIndex:i,rowPinned:n},s=this.rowPositionUtils.getRowNode(r),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){let{rowIndex:i,columnId:n,rowPinned:r}=e,s=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(n);if(!o)return;s.ensureIndexVisible(i),s.ensureColumnVisible(o);let a={rowIndex:i,column:o,rowPinned:r};this.focusService.setFocusedCell(B(b({},a),{forceBrowserFocus:!0})),t?.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new il(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let i=new il(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new il(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let t=new mv(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&Kd(this.gos)?e=new mv(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new il(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function EV(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function DV(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function $D(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function qD(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function xV(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function RV(e){e.undoRedoService?.undo("api")}function MV(e){e.undoRedoService?.redo("api")}function IV(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(nl)}function FV(e){return e.rowRenderer.getEditingCells()}function TV(e,t=!1){e.rowRenderer.stopEditing(t)}function AV(e,t){let i=e.columnModel.getCol(t.colKey);if(!i){L(`no column found for ${t.colKey}`);return}let n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};t.rowPinned==null&&qD(e,t.rowIndex),$D(e,t.colKey);let s=e.navigationService.getCellByPosition(n);if(!s)return;let{focusService:o,gos:a}=e,l=()=>{let u=Mn(a),d=s.getGui();return u!==d&&d.contains(u)},c=a.get("stopEditingWhenCellsLoseFocus")&&l();(c||!o.isCellFocused(n))&&o.setFocusedCell(B(b({},n),{forceBrowserFocus:c,preventScrollOnBrowserFocus:!0})),s.startRowOrCellEdit(t.key)}function PV(e){return e.undoRedoService?.getCurrentUndoStackSize()??0}function kV(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}var _V=class extends Z{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,i=!1,n=null){let r=this.createCellEditorParams(e,t,i),s=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(s,r),a=o?.popupFromSelector!=null?o.popupFromSelector:!!s.cellEditorPopup,l=o?.popupPositionFromSelector!=null?o.popupPositionFromSelector:s.cellEditorPopupPosition;return e.setEditing(!0,o),e.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!o?.params?.suppressPreventDefault}stopEditing(e,t){let i=e.getComp(),{newValue:n,newValueExists:r}=this.takeValueFromCellEditor(t,i),s=e.getRowNode(),o=e.getColumn(),a=this.valueService.getValueForDisplay(o,s),l=!1;return r&&(l=this.saveNewValue(e,a,n,s,o)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent(B(b({},e.createEvent(null,"cellEditingStopped")),{oldValue:a,newValue:n,valueChanged:l})),l}handleColDefChanged(e){let t=e.getCellEditor();if(t?.refresh){let{eventKey:i,cellStartedEdit:n}=e.getEditCompDetails().params,r=this.createCellEditorParams(e,i,n),s=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(s,r);t.refresh(o.params)}}setFocusOutOnEditor(e){let t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){let t=e.getComp(),i=t.getCellEditor();i?.focusIn?i.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>t.getCellEditor()?.focusIn?.()))}stopEditingAndFocus(e,t=!1,i=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new uV(e)}takeValueFromCellEditor(e,t){let i={newValueExists:!1};if(e)return i;let n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,i,n,r){if(i===t)return!1;e.setSuppressRefreshCell(!0);let s=n.setDataValue(r,i,"edit");return e.setSuppressRefreshCell(!1),s}createCellEditorParams(e,t,i){let n=e.getColumn(),r=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(n,r),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:s=>this.valueService.parseValue(n,r,s,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let n=e?k.UP:k.DOWN;this.navigationService.navigateToNextCell(null,n,t,!1)}}},OV=class extends Z{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,i=null,n=null){let r=!0;return e.getAllCellCtrls().reduce((o,a)=>{let l=a===i;return l?r=a.startEditing(t,l,n):a.startEditing(null,l,n),o?!0:a.isEditing()},!1)&&this.setEditing(e,!0),r}stopEditing(e,t=!1){let i=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let r=!1;for(let s of i){let o=s.stopEditing(t);n&&!t&&!r&&o&&(r=!0)}r&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));let i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}},ts={version:U,moduleName:"@ag-grid-community/edit-core",beans:[_V]},LV={version:U,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:RV,redoCellEditing:MV,getCellEditorInstances:IV,getEditingCells:FV,stopEditing:TV,startEditingCell:AV,getCurrentUndoSize:PV,getCurrentRedoSize:kV},dependantModules:[ts]},NV={version:U,moduleName:"@ag-grid-community/undo-redo-edit",beans:[bV],dependantModules:[ts]},VV={version:U,moduleName:"@ag-grid-community/full-row-edit",beans:[OV],dependantModules:[ts]},KD={version:U,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:WD}],dependantModules:[ts]},BV={version:U,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:WD},{name:"agNumberCellEditor",classImp:gV,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:vV},{name:"agDateStringCellEditor",classImp:wV},{name:"agCheckboxCellEditor",classImp:yV}],dependantModules:[KD]},HV={version:U,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:dV}],dependantModules:[ts]},GV={version:U,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:cV}],dependantModules:[ts]},zV={version:U,moduleName:"@ag-grid-community/all-editors",dependantModules:[KD,BV,HV,GV]},jV={version:U,moduleName:"@ag-grid-community/editing",dependantModules:[ts,NV,VV,zV,LV]};var WV=class extends Z{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){let t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){let t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}},UV=class extends Z{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=tn(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){let e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){QE(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&Cv("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}let e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>i.getState()==="needsLoading").slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if($d(this.gos))return this.rowModel.getBlockStates();let e={};return this.blocks.forEach(t=>{let{id:i,state:n}=t.getBlockStateJson();e[i]=n}),e}printCacheStatus(){this.gos.get("debug")&&Cv(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},$V={version:U,moduleName:"@ag-grid-community/row-node-block",beans:[UV]};var qV=class extends Z{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:t,eTopGuard:i,eBottomGuard:n,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:d,handleKeyDown:f,eFocusableElement:m}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=m,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=f}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new zv(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){let t=ur(this.gos),i=this.focusService.findFocusableElements(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let r,s;e?(r=0,s=n):(r=n+1,s=i.length);let o=i.slice(r,s),a=this.gos.get("tabIndex");o.sort((l,c)=>{let u=parseInt(l.getAttribute("tabindex")||"0"),d=parseInt(c.getAttribute("tabindex")||"0");return d===a?1:u===a?-1:u===0?1:d===0?-1:u-d}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},KV=class extends Z{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:i,eFocusableElement:n}=this,r=[t,i],s={setTabIndex:S=>{r.forEach(w=>S!=null?w.setAttribute("tabindex",S):w.removeAttribute("tabindex"))}};this.addTabGuards(t,i);let{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:f,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:v}=e;this.tabGuardCtrl=this.createManagedBean(new qV({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:i,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:f,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:v}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=ur(this.gos).createElement("div"),i=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",i),dr(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];hl(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){Bv(t)||(t=t.getGui());let{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,i)}},QV=class extends zt{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new KV(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}};var Tt=(e,t)=>{for(let i in t)t[i]=e;return t},CY=b(b(b(b(b(b(b(b(b(b(b(b(b(b(b({},Tt("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),Tt("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),Tt("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0})),Tt("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),Tt("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),Tt("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),Tt("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),Tt("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),Tt("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),Tt("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0})),Tt("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),Tt("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),Tt("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),Tt("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),Tt("@ag-grid-enterprise/status-bar",{getStatusPanel:0}));var YV=class{};Reflect.defineProperty(YV,"name",{value:"GridApi"});var ZV=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],wY=Object.fromEntries(ZV.map((e,t)=>[e,t]));var XV=class extends Z{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],t=typeof e=="function";typeof e=="function"&&(e=e());let i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(r=>{if(!r){_e("alignedGrids contains an undefined option."),t||_e(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),_e(i());return}if(this.isGridApi(r))return r;let s=r;return"current"in s?s.current?.api:(s.api||_e(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),s.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){let i=[];return e.columns?e.columns.forEach(n=>{i.push(t(n))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":L("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){let{columnModel:t}=this;e.columnGroups.forEach(i=>{let n=null;i&&(n=t.getProvidedColGroup(i.getGroupId())),!(i&&!n)&&t.setColumnGroupOpened(n,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){let t=e.column,i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;let n=this.getMasterColumns(e),{columnApplyStateService:r,columnSizeService:s,ctrlsService:o}=this;switch(e.type){case"columnMoved":{let u=e.api.getColumnState().map(d=>({colId:d.colId}));r.applyColumnState({state:u,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let u=e.api.getColumnState().map(d=>({colId:d.colId,hide:d.hide}));r.applyColumnState({state:u},"alignedGridChanged")}break;case"columnPinned":{let u=e.api.getColumnState().map(d=>({colId:d.colId,pinned:d.pinned}));r.applyColumnState({state:u},"alignedGridChanged")}break;case"columnResized":{let c=e,u={};n.forEach(d=>{u[d.getId()]={key:d.getColId(),newWidth:d.getActualWidth()}}),c.flexColumns?.forEach(d=>{u[d.getId()]&&delete u[d.getId()]}),s.setColumnWidths(Object.values(u),!1,c.finished,"alignedGridChanged");break}}let l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(c=>{c.setGridOption("alwaysShowVerticalScroll",l)})}},JV={version:U,moduleName:"@ag-grid-community/aligned-grid",beans:[XV]};function e8(e,t){let i=e.columnModel.getColDefCol(t);return i?i.getColDef():null}function t8(e){return e.columnModel.getColumnDefs()}function i8(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function n8(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")}function r8(e,t,i){return e.visibleColsService.getColumnGroup(t,i)}function s8(e,t){return e.columnModel.getProvidedColGroup(t)}function o8(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""}function a8(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""}function l8(e,t){return e.columnModel.getColDefCol(t)}function c8(e){return e.columnModel.getColDefCols()}function u8(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function d8(e){return e.columnGetStateService.getColumnState()}function h8(e){e.columnApplyStateService.resetColumnState("api")}function p8(e){return e.columnGroupStateService.getColumnGroupState()}function g8(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function f8(e){e.columnGroupStateService.resetColumnGroupState("api")}function m8(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function v8(e){return e.visibleColsService.isPinningLeft()}function C8(e){return e.visibleColsService.isPinningRight()}function w8(e,t){return e.visibleColsService.getColAfter(t)}function y8(e,t){return e.visibleColsService.getColBefore(t)}function S8(e,t,i){e.columnModel.setColsVisible([t],i,"api")}function b8(e,t,i){e.columnModel.setColsVisible(t,i,"api")}function E8(e,t,i){e.columnModel.setColsPinned([t],i,"api")}function D8(e,t,i){e.columnModel.setColsPinned(t,i,"api")}function x8(e){return e.columnModel.getCols()}function R8(e){return e.visibleColsService.getLeftCols()}function M8(e){return e.visibleColsService.getCenterCols()}function I8(e){return e.visibleColsService.getRightCols()}function F8(e){return e.visibleColsService.getAllCols()}function T8(e){return e.columnViewportService.getViewportColumns()}function A8(e,t,i){e.columnMoveService.moveColumns([t],i,"api")}function P8(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")}function k8(e,t,i){e.columnMoveService.moveColumns(t,i,"api")}function _8(e,t,i,n=!0,r="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,n,r)}function O8(e,t,i=!0,n="api"){e.columnSizeService.setColumnWidths(t,!1,i,n)}function L8(e){return e.visibleColsService.getTreeLeft()}function N8(e){return e.visibleColsService.getTreeCenter()}function V8(e){return e.visibleColsService.getTreeRight()}function B8(e){return e.visibleColsService.getAllTrees()}function H8(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})}function G8(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})}function z8(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var j8=class extends Z{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(pN(e.source))})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};let t=n=>r=>{let{column:s,node:o,value:a}=r,l=s.getColDef().valueFormatter;return l===n.groupSafeValueFormatter&&(l=n.valueFormatter),this.valueService.formatValue(s,o,a,l)};Object.entries(e).forEach(([n,r])=>{let s=B(b({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)});this.dataTypeDefinitions[n]=s,this.formatValueFuncs[n]=t(s)});let i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([n,r])=>{let s=this.processDataTypeDefinition(r,i,[n],e);s&&(this.dataTypeDefinitions[n]=s,r.dataTypeMatcher&&(this.dataTypeMatchers[n]=r.dataTypeMatcher),this.formatValueFuncs[n]=t(s))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(n=>{let r=this.dataTypeMatchers[n];r&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=r??e[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){let i=b(b({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...cv(e.columnTypes),...cv(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,n){let r,s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[s],a=t[s];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,s))return;r=this.mergeDataTypeDefinitions(o,e)}else{if(i.includes(s)){L('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}let o=t[s];if(!this.validateDataTypeDefinition(e,o,s))return;let a=this.processDataTypeDefinition(o,t,[...i,s],n);if(!a)return;r=this.mergeDataTypeDefinitions(a,e)}return B(b({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})}validateDataTypeDefinition(e,t,i){return t?t.baseDataType!==e.baseDataType?(L('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(L(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{if(t.node?.group){let i=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&i!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(B(b({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(B(b({},t),{value:t.value.value}))}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!e.dataTypeMatcher?.(t.value))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:n}=t,{field:r}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(r,i):!1),!n){e.cellDataType=!1;return}let s=this.dataTypeDefinitions[n];if(!s){L(`Missing data type definition - "${n}"`);return}return e.cellDataType=n,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,s,i),s.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let i=n=>{t.add(n.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){if(!cr(this.gos))return!1;let i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;let n=t.type===null?e.type:t.type;if(n){let r=this.gos.get("columnTypes")??{};if(cv(n).some(o=>{let a=r[o.trim()];return a&&this.doColDefPropsPreventInference(a,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>this.doesColDefPropPreventInference(e,t,i,n))}doesColDefPropPreventInference(e,t,i,n){if(!t[i])return!1;let r=e[i];return r===null?(t[i]=!1,!1):n===void 0?!!r:r===n}inferCellDataType(e,t){if(!e)return;let i,n=this.getInitialData();if(n){let s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=iD(n,e,s)}else this.initWaitForRowData(t);if(i==null)return;let[r]=Object.entries(this.dataTypeMatchers).find(([s,o])=>o(i))??["object"];return r}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let t=this.rowModel.getRootNode().allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();let[i]=this.addManagedEventListeners({rowDataUpdateStarted:n=>{let{firstRowData:r}=n;r&&(i?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;let i=[];this.destroyColumnStateUpdateListeners();let n={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,o])=>{let a=this.columnModel.getCol(s);if(!a)return;let l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;let c=a.getColDef();if(t&&c.type&&c.type!==l.type){let u=this.getUpdatedColumnState(a,o);u.rowGroup&&u.rowGroupIndex==null&&(n[s]=u),u.pivot&&u.pivotIndex==null&&(r[s]=u),i.push(u)}}),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,r)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){let i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(n=>{delete i[n],n==="rowGroup"?delete i.rowGroupIndex:n==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){let t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let i=this.getDataTypeDefinition(e)?.dataTypeMatcher;return i?i(t):!0}validateColDef(e){let t=i=>L(`Cell data type is "object" but no Value ${i} has been provided. Please either provide an object data type definition with a Value ${i}, or set "colDef.value${i}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,n){let r=this.formatValueFuncs[t];switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=s=>!!s.colDef.editable&&s.event.key===k.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=r;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(s,o)=>{let a=this.columnModel.getColDefCol(n),l=a?.getColDef();if(!a||!l)return 0;let c=s==null?"":r({column:a,node:null,value:s}),u=o==null?"":r({column:a,node:null,value:o});return c===u?0:c>u?1:-1},e.keyCreator=r;break}}this.filterManager?.setColDefPropertiesForDataType(e,i,r)}getDefaultDataTypes(){let e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>i.newValue?.trim?.()===""?null:Number(i.newValue),valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:EE(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>i.newValue==null?i.newValue:i.newValue?.trim?.()===""?null:String(i.newValue).toLowerCase()==="true",valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>Gt(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):Ci(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>Gt(i)??void 0,dateFormatter:i=>Ci(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>EE(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},W8={version:U,moduleName:"@ag-grid-community/data-type",beans:[j8]},U8={version:U,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:e8,getColumnDefs:t8,sizeColumnsToFit:i8,setColumnGroupOpened:n8,getColumnGroup:r8,getProvidedColumnGroup:s8,getDisplayNameForColumn:o8,getDisplayNameForColumnGroup:a8,getColumn:l8,getColumns:c8,applyColumnState:u8,getColumnState:d8,resetColumnState:h8,getColumnGroupState:p8,setColumnGroupState:g8,resetColumnGroupState:f8,isPinning:m8,isPinningLeft:v8,isPinningRight:C8,getDisplayedColAfter:w8,getDisplayedColBefore:y8,setColumnVisible:S8,setColumnsVisible:b8,setColumnPinned:E8,setColumnsPinned:D8,getAllGridColumns:x8,getDisplayedLeftColumns:R8,getDisplayedCenterColumns:M8,getDisplayedRightColumns:I8,getAllDisplayedColumns:F8,getAllDisplayedVirtualColumns:T8,moveColumn:A8,moveColumnByIndex:P8,moveColumns:k8,setColumnWidth:_8,setColumnWidths:O8,getLeftDisplayedColumnGroups:L8,getCenterDisplayedColumnGroups:N8,getRightDisplayedColumnGroups:V8,getAllDisplayedColumnGroups:B8,autoSizeColumn:H8,autoSizeColumns:G8,autoSizeAllColumns:z8}};function $8(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function q8(e,t){let i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)}function K8(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var Q8={version:U,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:$8,removeRowDropZone:q8,getRowDropZoneParams:K8}};function Y8(e){return e.pinnedRowModel.getPinnedTopRowCount()}function Z8(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function X8(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function J8(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var e5={version:U,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:Y8,getPinnedBottomRowCount:Z8,getPinnedTopRow:X8,getPinnedBottomRow:J8}};function t5(e){e.overlayService.showLoadingOverlay()}function i5(e){e.overlayService.showNoRowsOverlay()}function n5(e){e.overlayService.hideOverlay()}var r5={version:U,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:t5,showNoRowsOverlay:i5,hideOverlay:n5}};function s5(e,t,i){if(!t)return;let n=e.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${t}`;i===null?n.removeAttribute(r):n.setAttribute(r,i)}function o5(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function a5(e,t={}){let i=n=>L(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);j(t.fadeDelay)&&i("fade"),j(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function l5(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function c5(e){return e.animationFrameService.isQueueEmpty()}function u5(e){e.animationFrameService.flushAllFrames()}function d5(e){return{rowHeight:mo(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function h5(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(nl)}var p5={version:U,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:s5,refreshCells:o5,flashCells:a5,refreshHeader:l5,isAnimationFrameQueueEmpty:c5,flushAllAnimationFrames:u5,getSizesForCurrentTheme:d5,getCellRendererInstances:h5}};function g5(e){e.valueCache.expire()}function f5(e,t,i){return QD(e,{colKey:t,rowNode:i})}function QD(e,t){let{colKey:i,rowNode:n,useFormatter:r}=t,s=e.columnModel.getColDefCol(i)??e.columnModel.getCol(i);if(st(s))return null;let o=e.valueService.getValueForDisplay(s,n);return r?e.valueService.formatValue(s,n,o)??nD(o,!0):o}function m5(e){return e.context.getGridId()}function v5(e){e.gridDestroyService.destroy()}function C5(e){return e.gridDestroyService.isDestroyCalled()}function w5(e,t){return e.gos.get(t)}function y5(e,t,i){YD(e,{[t]:i})}function YD(e,t){e.gos.updateGridOptions({options:t})}function S5(e,t,i){e.apiEventService.addEventListener(t,i)}function b5(e,t,i){e.apiEventService.removeEventListener(t,i)}function E5(e,t){e.apiEventService.addGlobalListener(t)}function D5(e,t){e.apiEventService.removeGlobalListener(t)}function x5(e){return e.focusService.getFocusedCell()}function R5(e){return e.focusService.clearFocusedCell()}function M5(e,t,i,n){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})}function I5(e,t){return e.navigationService.tabToNextCell(!1,t)}function F5(e,t){return e.navigationService.tabToNextCell(!0,t)}function T5(e,t,i=!1){let n=e.headerNavigationService.getHeaderPositionForColumn(t,i);n&&e.focusService.focusHeaderPosition({headerPosition:n})}function A5(e,t,i){let n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:i,positionBy:"button"})}function P5(e,t,i){let n=e.columnModel.getCol(t);if(n||(n=e.columnModel.getColDefCol(t)),!n){_e(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:n,mouseEvent:i,positionBy:"mouse"})}function k5(e,t){let i=e.columnModel.getCol(t);if(!i){_e(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:i,positionBy:"auto"})}function _5(e){e.menuService.hidePopupMenu()}function O5(e,t={}){let i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function L5(e,t,i,n,r){e.expansionService.setRowNodeExpanded(t,i,n,r)}function N5(e,t){return e.rowModel.getRowNode(t)}function V5(e,t,i,n){e.rowRenderer.addRenderedRowListener(t,i,n)}function B5(e){return e.rowRenderer.getRenderedNodes()}function H5(e,t,i){e.rowModel.forEachNode(t,i)}function G5(e){return ZD(e)}function ZD(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function z5(e){return XD(e)}function XD(e){return e.rowRenderer.getLastVirtualRenderedRow()}function j5(e,t){return e.rowModel.getRow(t)}function W5(e){return e.rowModel.getRowCount()}function U5(e){return e.rowModel}function $5(e,t){if(!t.nodes.every(a=>a.rowPinned?(L("cannot select pinned rows"),!1):a.id===void 0?(L("cannot select node until id for node is known"),!1):!0))return;let{nodes:n,source:r,newValue:s}=t,o=n;e.selectionService.setNodesSelected({nodes:o,source:r??"api",newValue:s})}function q5(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function K5(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function Q5(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function Y5(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function Z5(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function X5(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function J5(e){return e.selectionService.getSelectedNodes()}function eB(e){return e.selectionService.getSelectedRows()}function tB(e){e.sortController.onSortChanged("api")}var iB={version:U,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:m5,destroy:v5,isDestroyed:C5,getGridOption:w5,setGridOption:y5,updateGridOptions:YD}},nB={version:U,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:$5,selectAll:q5,deselectAll:K5,selectAllFiltered:Q5,deselectAllFiltered:Y5,selectAllOnCurrentPage:Z5,deselectAllOnCurrentPage:X5,getSelectedNodes:J5,getSelectedRows:eB}},rB={version:U,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:O5,setRowNodeExpanded:L5,getRowNode:N5,addRenderedRowListener:V5,getRenderedNodes:B5,forEachNode:H5,getFirstDisplayedRow:G5,getFirstDisplayedRowIndex:ZD,getLastDisplayedRow:z5,getLastDisplayedRowIndex:XD,getDisplayedRowAtIndex:j5,getDisplayedRowCount:W5,getModel:U5}},sB={version:U,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:EV,getHorizontalPixelRange:DV,ensureColumnVisible:$D,ensureIndexVisible:qD,ensureNodeVisible:xV}},oB={version:U,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:x5,clearFocusedCell:R5,setFocusedCell:M5,setFocusedHeader:T5,tabToNextCell:I5,tabToPreviousCell:F5}},aB={version:U,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:S5,addGlobalListener:E5,removeEventListener:b5,removeGlobalListener:D5}},lB={version:U,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:g5,getValue:f5,getCellValue:QD}},cB={version:U,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:A5,showColumnMenuAfterMouseClick:P5,showColumnMenu:k5,hidePopupMenu:_5}},uB={version:U,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:tB}},dB={version:U,moduleName:"@ag-grid-community/api",dependantModules:[iB,e5,nB,U8,rB,Q8,sB,r5,oB,aB,p5,lB,cB,uB]};function hB(e){return e.stateService?.getState()??{}}function pB(e){switch(e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=gB(e)}return e}function gB(e){return e.cellSelection=fB(e,"rangeSelection"),e}function fB(e,t){if(e&&typeof e=="object")return e[t]}var mB=class extends Z{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=tn(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=tn(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=tn(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=cr(this.gos),this.cachedState=this.getInitialState(),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));let[e,t,i]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{n==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return pB(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());let e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){let e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());let t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){let{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:n}=this.getInitialState(),r=this.gos.get("advancedFilterModel");(e||r)&&this.setFilterState(e,r),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());let s=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{s()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){let{scroll:e,cellSelection:t,focusedCell:i,columnOrder:n}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!n?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());let r=this.getRangeSelectionState();this.updateCachedState("rangeSelection",r),this.updateCachedState("cellSelection",r),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:s=>{if(s.finished){let o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){let e=this.columnModel.isPivotMode(),t=[],i=[],n=[],r=[],s=[],o=[],a=[],l=[],c=[],u=0,d=this.columnGetStateService.getColumnState();for(let f=0;f<d.length;f++){let{colId:m,sort:v,sortIndex:S,rowGroup:w,rowGroupIndex:E,aggFunc:I,pivot:A,pivotIndex:N,pinned:Me,hide:we,width:ve,flex:Ie}=d[f];c.push(m),v&&(t[S??u++]={colId:m,sort:v}),w&&(i[E??0]=m),typeof I=="string"&&n.push({colId:m,aggFunc:I}),A&&(r[N??0]=m),Me&&(Me==="right"?o:s).push(m),we&&a.push(m),(Ie||ve)&&l.push({colId:m,flex:Ie??void 0,width:ve})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:s.length||o.length?{leftColIds:s,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){let{sort:t,rowGroup:i,aggregation:n,pivot:r,columnPinning:s,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:c}=e,u={},d=w=>{let E=u[w];return E||(E={colId:w},u[w]=E,E)},f=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:w,sort:E},I)=>{let A=d(w);A.sort=E,A.sortIndex=I}),f.sort=null,f.sortIndex=null),i&&(i.groupColIds.forEach((w,E)=>{let I=d(w);I.rowGroup=!0,I.rowGroupIndex=E}),f.rowGroup=null,f.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:w,aggFunc:E})=>{d(w).aggFunc=E}),f.aggFunc=null),r&&(r.pivotColIds.forEach((w,E)=>{let I=d(w);I.pivot=!0,I.pivotIndex=E}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),f.pivot=null,f.pivotIndex=null),s&&(s.leftColIds.forEach(w=>{d(w).pinned="left"}),s.rightColIds.forEach(w=>{d(w).pinned="right"}),f.pinned=null),o&&(o.hiddenColIds.forEach(w=>{d(w).hide=!0}),f.hide=null),a&&(a.columnSizingModel.forEach(({colId:w,flex:E,width:I})=>{let A=d(w);A.flex=E??null,A.width=I}),f.flex=null);let m=l?.orderedColIds,v=!!m?.length,S=v?m.map(w=>d(w)):Object.values(u);S.length&&(this.columnStates=S,this.columnApplyStateService.applyColumnState({state:S,applyOrder:v,defaultState:f},"gridInitializing"))}setColumnPivotState(e){let t=this.columnStates;this.columnStates=void 0;let i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){let n=[];for(let r of t)this.pivotResultColsService.getPivotResultCol(r.colId)&&n.push(r);this.columnApplyStateService.applyColumnState({state:n,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){let e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:n})=>{n&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;let t=new Set(e.columnGroup?.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map(({groupId:r})=>{let s=t.has(r);return s&&t.delete(r),{groupId:r,open:s}});t.forEach(r=>{n.push({groupId:r,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);let t=this.filterManager?.getAdvancedFilterModel()??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){let{filterModel:i,advancedFilterModel:n}=e??{advancedFilterModel:t};i&&this.filterManager?.setFilterModel(i,"columnFilter"),n&&this.filterManager?.setAdvancedFilterModel(n)}getRangeSelectionState(){let e=this.rangeService?.getCellRanges().map(t=>{let{id:i,type:n,startRow:r,endRow:s,columns:o,startColumn:a}=t;return{id:i,type:n,startRow:r,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:t,rangeService:i,columnModel:n,visibleColsService:r}=this;if(!Kd(t)||!i)return;let s=[];if(e.cellRanges.forEach(o=>{let a=[];if(o.colIds.forEach(c=>{let u=n.getCol(c);u&&a.push(u)}),!a.length)return;let l=n.getCol(o.startColId);if(!l){let c=r.getAllCols(),u=new Set(a);l=c.find(d=>u.has(d))}s.push(B(b({},o),{columns:a,startColumn:l}))}),YL(t)&&ZL(t)&&s.length>1)return L("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");i.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:i}=e?.getVScrollPosition()??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:i}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(t,i)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.focusService.getFocusedCell();if(e){let{column:t,rowIndex:i,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{colId:t,rowIndex:i,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;let e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){let e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!e?.toggledNodes?.length?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){let e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){let t=this.getColumnState(),i=!1;Object.entries(t).forEach(([n,r])=>{ol(r,this.cachedState[n])||(i=!0)}),this.cachedState=b(b({},this.cachedState),t),i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let i=this.cachedState[e];this.setCachedStateValue(e,t),ol(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=B(b({},this.cachedState),{[e]:t})}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},JD={version:U,moduleName:"@ag-grid-community/state-core",beans:[mB]},vB={version:U,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:hB},dependantModules:[JD]},CB={version:U,moduleName:"@ag-grid-community/state",dependantModules:[JD,vB]};function wB(e){return e.rowModel.isLastRowIndexKnown()}function yB(e){return e.paginationService?.getPageSize()??100}function SB(e){return e.paginationService?.getCurrentPage()??0}function bB(e){return e.paginationService?.getTotalPages()??1}function EB(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function DB(e){e.paginationService?.goToNextPage()}function xB(e){e.paginationService?.goToPreviousPage()}function RB(e){e.paginationService?.goToFirstPage()}function MB(e){e.paginationService?.goToLastPage()}function IB(e,t){e.paginationService?.goToPage(t)}var FB=class extends Z{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){let t=()=>{let i=Math.max(mo(this.gos),1),n=Math.floor(e/i);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?tn(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function TB(e,t,i){e.addManagedElementListeners(t,{keydown:n=>{if(!n.defaultPrevented&&n.key===k.TAB){let r=n.shiftKey;i.findNextFocusableElement(t,!1,r)||i.focusNextGridCoreContainer(r)&&n.preventDefault()}}})}var el="paginationPageSizeSelector",AB=class extends zt{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(el,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){hl(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(el)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);if(i){let r=this.gos.exists("paginationPageSize"),s=this.gos.get(el)!==!0;L(`'paginationPageSize=${t}'${r?"":" (default value)"}, but ${t} is not included in${s?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),s||L(`Either set '${el}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}let n=String(i?"":t);this.selectPageSizeComp?(kv(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){let i=this.localeService.getLocaleTextFunc(),n=i("pageSizeSelectorLabel","Page Size:"),r=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Wv).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get(el);return!Array.isArray(t)||fo(t)?e:[...t].sort((i,n)=>i-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},PB={selector:"AG-PAGE-SIZE-SELECTOR",component:AB},kB=class extends QV{constructor(){super(),this.btFirst=Re,this.btPrevious=Re,this.btNext=Re,this.btLast=Re,this.lbRecordCount=Re,this.lbFirstRowOnPage=Re,this.lbLastRowOnPage=Re,this.lbCurrent=Re,this.lbTotal=Re,this.pageSizeComp=Re,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[PB]);let{btFirst:t,btPrevious:i,btNext:n,btLast:r}=this;this.activateTabIndex([t,i,n,r]),t.insertAdjacentElement("afterbegin",lr(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",lr(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",lr(e?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",lr(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):this.focusService.focusGridInnerElement(s)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:n=>{(n.key===k.ENTER||n.key===k.SPACE)&&(n.preventDefault(),i())}})}),TB(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){let t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});let i=this.localeService.getLocaleTextFunc(),n=i("thousandSeparator",","),r=i("decimalSeparator",".");return z6(e,n,r)}getTemplate(){let e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),n=e("of","of"),r=e("firstPage","First Page"),s=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${n}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${n}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){let e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let n=this.isZeroPagesToDisplay(),r=e===i-1;this.nextButtonDisabled=r||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){RN(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),n=e?i:null;if(n===1){let I=this.rowModel.getRow(0);if(I&&I.group&&!(I.groupData||I.aggData)){this.setTotalLabelsToZero();return}}let r=this.paginationService.getCurrentPage(),s=this.paginationService.getPageSize(),o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*r+1,a=o+s-1,e&&a>n&&(a=n));let l=o+s-1,c=!e&&i<l,u=this.formatNumber(o);this.lbFirstRowOnPage.textContent=u;let d,f=this.localeService.getLocaleTextFunc();c?d=f("pageLastRowUnknown","?"):d=this.formatNumber(a),this.lbLastRowOnPage.textContent=d;let v=t>0?r+1:0,S=this.formatNumber(v);this.lbCurrent.textContent=S;let w,E;if(e)w=this.formatNumber(t),E=this.formatNumber(n);else{let I=f("more","more");w=I,E=I}this.lbTotal.textContent=w,this.lbRecordCount.textContent=E,this.announceAriaStatus(u,d,E,S,w)}announceAriaStatus(e,t,i,n,r){let s=this.localeService.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${i}`,u=`${o} ${n} ${l} ${r}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnouncementService.announceValue(u,"paginationPage"))}setTotalLabelsToZero(){let e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},_B={selector:"AG-PAGINATION",component:kB},OB=class extends Z{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return _B}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;let t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return j(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:j(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:j(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:j(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){let i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let t=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{let n=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:n=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:n,keepRenderedRows:t})}},ex={version:U,moduleName:"@ag-grid-community/pagination-core",beans:[OB,FB]},LB={version:U,moduleName:"@ag-grid-community/pagination-api",dependantModules:[ex],apiFunctions:{paginationIsLastPageFound:wB,paginationGetPageSize:yB,paginationGetCurrentPage:SB,paginationGetTotalPages:bB,paginationGetRowCount:EB,paginationGoToNextPage:DB,paginationGoToPreviousPage:xB,paginationGoToFirstPage:RB,paginationGoToLastPage:MB,paginationGoToPage:IB}},NB={version:U,moduleName:"@ag-grid-community/pagination",dependantModules:[ex,LB]},Ht="clientSide",At="serverSide",ho="infinite",VB={onGroupExpandedOrCollapsed:[Ht],refreshClientSideRowModel:[Ht],isRowDataEmpty:[Ht],forEachLeafNode:[Ht],forEachNodeAfterFilter:[Ht],forEachNodeAfterFilterAndSort:[Ht],resetRowHeights:[Ht],applyTransaction:[Ht],applyTransactionAsync:[Ht],flushAsyncTransactions:[Ht],getBestCostNodeSelection:[Ht],getServerSideSelectionState:[At],setServerSideSelectionState:[At],applyServerSideTransaction:[At],applyServerSideTransactionAsync:[At],applyServerSideRowData:[At],retryServerSideLoads:[At],flushServerSideAsyncTransactions:[At],refreshServerSide:[At],getServerSideGroupLevelState:[At],refreshInfiniteCache:[ho],purgeInfiniteCache:[ho],getInfiniteRowCount:[ho],isLastRowIndexKnown:[ho,At],expandAll:[Ht,At],collapseAll:[Ht,At],onRowHeightChanged:[Ht,At],setRowCount:[ho,At],getCacheBlockState:[ho,At]},BB={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function HB(e,t,i){let n=BB[e];if(n){let{version:s,new:o,old:a,message:l}=n,c=a??e;return(...u)=>{let d=o?`Please use ${o} instead. `:"";return L(`Since ${s} api.${c} is deprecated. ${d}${l??""}`),t.apply(t,u)}}let r=VB[e];return r?(...s)=>{let o=i.rowModel.getType();if(!r.includes(o)){_e(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,s)}:t}var GB={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},sr=(e,t)=>(t.rowModelType??"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null,zB={enableRowGroup:sr,rowGroup:sr,rowGroupIndex:sr,enablePivot:sr,enableValue:sr,pivot:sr,pivotIndex:sr,aggFunc:sr,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{let t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(i=>t.includes(i))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>po},jB={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},WB=Object.keys(jB),po={objectName:"colDef",allProperties:WB,docsUrl:"column-properties/",deprecations:GB,validations:zB},UB=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}});var $B=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{let t=e.rowModelType??"clientSide";switch(t){case"clientSide":{let i=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:i}case"serverSide":{let i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:i}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{let t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>po,defaultColDef:()=>po,defaultColGroupDef:()=>po,autoGroupColumnDef:()=>po,selectionColumnDef:()=>po}),qB=()=>({objectName:"gridOptions",allProperties:[...ll.ALL_PROPERTIES,...SN.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:UB(),validations:$B()}),KB=class extends Z{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,qB())}validateApiFunction(e,t){return HB(e,t,this.beans)}processOptions(e,t){let{validations:i,deprecations:n,allProperties:r,propertyExceptions:s,objectName:o,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(n)],r,o,a);let l=new Set;Object.keys(e).forEach(u=>{let d=n[u];if(d)if("renamed"in d){let{renamed:A,version:N}=d;l.add(`As of v${N}, ${String(u)} is deprecated. Please use ${String(A)} instead.`),e[A]=e[u]}else{let{message:A,version:N}=d;l.add(`As of v${N}, ${String(u)} is deprecated. ${A??""}`)}let f=e[u];if(f==null||f===!1)return;let m=i[u],v;if(m)if(typeof m=="function"){let A=m(e,this.gridOptions);if(!A)return;if("objectName"in A){let N=e[u];if(Array.isArray(N)){N.forEach(Me=>{this.processOptions(Me,A)});return}this.processOptions(e[u],A);return}v=A}else v=m;else return;let{module:S,dependencies:w,validate:E,supportedRowModels:I}=v;if(I){let A=this.gridOptions.rowModelType??"clientSide";if(!I.includes(A)){l.add(`${String(u)} is not supported with the '${A}' row model.`);return}}if(S){let A=Array.isArray(S)?S:[S],N=!0;if(A.forEach(Me=>{this.gos.assertModuleRegistered(Me,String(u))||(N=!1,l.add(`${String(u)} is only available when ${Me} is loaded.`))}),!N)return}if(w){let A=this.checkForRequiredDependencies(u,w,e);if(A){l.add(A);return}}if(E){let A=E(e,this.gridOptions);if(A){l.add(A);return}}}),l.size>0&&l.forEach(u=>{L(u)})}checkForRequiredDependencies(e,t,i){let r=Object.entries(t).find(([a,l])=>{let c=i[a];return!l.includes(c)});if(!r)return null;let[s,o]=r;return o.length>1?`'${String(e)}' requires '${s}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${s}' to be ${o[0]}.`}checkProperties(e,t,i,n,r){let s=["__ob__","__v_skip","__metadata__"],o=ZN(Object.getOwnPropertyNames(e),[...s,...t,...i],i);if(Ov(o,(a,l)=>{let c=`invalid ${n} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;i.includes("context")&&(c+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),L(c)}),Object.keys(o).length>0&&r){let a=this.getFrameworkOverrides().getDocLink(r);L(`to see all the valid ${n} properties please check: ${a}`)}}},QB={version:U,moduleName:"@ag-grid-community/core"},YB={version:U,moduleName:"@ag-grid-community/core-validations",beans:[KB]},ZB={version:U,moduleName:"@ag-grid-community/core-community-features",dependantModules:[QB,YB,jV,I4,CB,W8,JV,NB,dB]};var yY=new Map([...ll.BOOLEAN_PROPERTIES.map(e=>[e,xE]),...ll.NUMBER_PROPERTIES.map(e=>[e,AD]),["groupAggFiltering",e=>typeof e=="function"?e:xE(e)],["pageSize",Ji(1)],["autoSizePadding",Ji(0)],["keepDetailRowsCount",Ji(1)],["rowBuffer",Ji(0)],["infiniteInitialRowCount",Ji(1)],["cacheOverflowSize",Ji(1)],["cacheBlockSize",Ji(1)],["serverSideInitialRowCount",Ji(1)],["viewportRowModelPageSize",Ji(1)],["viewportRowModelBufferSize",Ji(0)]]);var XB=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){let r=e.childrenAfterGroup[n];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,i):i&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){let n={rowNode:t,children:null};this.mapToItems[t.id]=n,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){let r=this.mapToItems[i.id],s=this.mapToItems[i.parent.id];s.children||(s.children=[]),s.children.push(r),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let i=this.nodeIdsToColumns[e.id];return t.filter(r=>i[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let i=this.nodeIdsToColumns[e.id];return t.filter(r=>!i[r.getId()])}};var tx=class extends Z{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){let e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function JB(e){e.expansionService.expandAll(!0)}function e7(e){e.expansionService.expandAll(!1)}function t7(e){let t=e.rowModelHelperService?.getClientSideRowModel(),i=e.rowModelHelperService?.getServerSideRowModel();t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}function i7(e,t,i){let n=e.rowModelHelperService?.getServerSideRowModel();if(n){if(e.funcColsService.isRowGroupEmpty()){n.setRowCount(t,i);return}_e("setRowCount cannot be used while using row grouping.");return}let r=e.rowModelHelperService?.getInfiniteRowModel();if(r){r.setRowCount(t,i);return}}function n7(e){return e.rowNodeBlockLoader?.getBlockState()??{}}function r7(e){return e.rowModel.isLastRowIndexKnown()}var s7={version:U,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:JB,collapseAll:e7,onRowHeightChanged:t7}},o7={version:U,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:i7,getCacheBlockState:n7,isLastRowIndexKnown:r7}};var So=typeof global>"u"?{}:global;So.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;So.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;So.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;So.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;So.Node=typeof Node>"u"?{}:Node;So.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var a7="ROOT_NODE_ID",vv=0,l7=class{constructor(e,t,i,n,r,s){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=i,this.funcColsService=n,this.beans=s,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=a7,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return tD(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){L("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);let t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((n,r)=>this.createNode(n,this.rootNode,vv,r)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);let t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[];return this.executeRemove(e,t,i),this.executeUpdate(e,t,i),this.executeAdd(e,t),this.updateSelection(i,"rowDataChanged"),t}updateRowOrderFromRowData(e){let t=this.rootNode.allLeafChildren,i=t?.length??0,n=new Map,r=-1,s=-1;for(let o=0;o<i;++o){let a=t[o],l=a.data;l!==e[o]&&(s<0&&(r=o),s=o,n.set(l,a))}if(r<0)return!1;for(let o=r;o<=s;++o){let a=n.get(e[o]);a!==void 0&&(t[o]=a,a.sourceRowIndex=o)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}updateSelection(e,t){let i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){let i=e.add;if(fo(i))return;let n=this.rootNode.allLeafChildren,r=n.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData"))){for(let l=0;l<n.length;l++)if(n[l]?.rowIndex==r-1){r=l+1;break}}let s=i.map((a,l)=>this.createNode(a,this.rootNode,vv,r+l));if(r<n.length){let a=n.slice(0,r),l=n.slice(r,n.length),c=a.length+s.length;for(let u=0,d=l.length;u<d;++u)l[u].sourceRowIndex=c+u;this.rootNode.allLeafChildren=[...a,...s,...l],t.rowsInserted=!0}else this.rootNode.allLeafChildren=n.concat(s);let o=this.rootNode.sibling;o&&(o.allLeafChildren=n),t.rowNodeTransaction.add=s}sanitizeAddIndex(e){let t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},i){let{remove:n}=e;if(fo(n))return;let r={};n.forEach(o=>{let a=this.lookupRowNode(o);a&&(a.isSelected()&&i.push(a),a.clearRowTopAndRowIndex(),r[a.id]=!0,delete this.allNodesMap[a.id],t.remove.push(a))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter(o=>!r[o.id])??null,this.rootNode.allLeafChildren?.forEach((o,a)=>{o.sourceRowIndex=a});let s=this.rootNode.sibling;s&&(s.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},i){let{update:n}=e;fo(n)||n.forEach(r=>{let s=this.lookupRowNode(r);s&&(s.updateData(r),!s.selectable&&s.isSelected()&&i.push(s),this.setMasterForRow(s,r,vv,!1),t.update.push(s))})}lookupRowNode(e){let t=qd(this.gos),i;if(t){let n=t({data:e,level:0});if(i=this.allNodesMap[n],!i)return _e(`could not find row id=${n}, data item was not found for this id`),null}else if(i=this.rootNode.allLeafChildren?.find(n=>n.data===e),!i)return _e("could not find data item as object was not found",e),_e("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i,n){let r=new vo(this.beans);return r.sourceRowIndex=n,r.group=!1,this.setMasterForRow(r,e,i,!0),t&&(r.parent=t),r.level=i,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&L(`duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,t,i,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){let o=this.gos.get("isRowMaster");o?e.setMaster(o(t)):e.setMaster(!0)}else e.setMaster(!1);if(n){let o=this.funcColsService.getRowGroupColumns(),a=o?o.length:0,l=i+a;e.expanded=e.master?this.isExpanded(l):!1}}}isExpanded(e){let t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},c7=class extends Z{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=tn(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){let e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new vo(this.beans),this.nodeManager=new l7(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){let e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...n,...n,...r,...s,...o,...a];this.addManagedPropertyListeners(l,c=>{let u=c.changeSet?.properties;if(!u)return;let d=f=>u.some(m=>f.has(m));if(d(e)){this.setRowData(this.rootNode.allLeafChildren.map(f=>f.data));return}if(d(t)){this.refreshModel({step:"group"});return}if(d(i)){this.refreshModel({step:"filter"});return}if(d(n)){this.refreshModel({step:"pivot"});return}if(d(r)){this.refreshModel({step:"aggregate"});return}if(d(s)){this.refreshModel({step:"sort"});return}if(d(o)){this.refreshModel({step:"filter_aggregates"});return}d(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){let e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,n){let r,s=!1;do{r=!1;let o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,i),c=Math.min(a,n);for(let u=l;u<=c;u++){let d=this.getRow(u);if(d.rowHeightEstimated){let f=Gd(this.gos,d);d.setRowHeight(f.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}setRowTopAndRowIndex(){let e=this.environment.getDefaultRowHeight(),t=0,i=new Set,n=Tv(this.gos,"normal");for(let r=0;r<this.rowsToDisplay.length;r++){let s=this.rowsToDisplay[r];if(s.id!=null&&i.add(s.id),s.rowHeight==null){let o=Gd(this.gos,s,n,e);s.setRowHeight(o.height,o.estimated)}s.setRowTop(t),s.setRowIndex(r),t+=s.rowHeight}return i}clearRowTopAndRowIndex(e,t){let i=e.isActive(),n=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{if(n(s),n(s.detailNode),n(s.sibling),s.hasChildren()&&s.childrenAfterGroup){let o=s.level==-1;i&&!o&&!s.expanded||s.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(e,t,i=0){let n=this.getRowIndexAtPixel(t),r=this.getRow(n),s=!this.gos.get("suppressAnimationFrame");if(r===e[0])return!1;let o=this.rootNode.allLeafChildren;return e.forEach(a=>{QE(o,a)}),e.forEach((a,l)=>{eN(o,a,Math.max(n+i,0)+l)}),e.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){let i=t!=null?this.getRowIndexAtPixel(t):null,n=i!=null?this.getRow(i):null;if(!n||!e||n===e||t==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}let r=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(r),this.lastHighlightedRow=n}getHighlightPosition(e,t){if(!t){let r=this.getRowIndexAtPixel(e);if(t=this.getRow(r||0),!t)return 1}let{rowTop:i,rowHeight:n}=t;return e-i<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;let t=this.rootNode.childrenAfterAggFilter,i=this.rootNode.sibling?1:0;return(t?t.length:0)+i}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;i-=1}let n=this.rowsToDisplay[this.rowsToDisplay.length-1],r=i>=this.rootNode.childrenAfterSort.length;if(n.footer&&r)return n.rowIndex;let s=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents"))for(;s.expanded&&s.childrenAfterSort&&s.childrenAfterSort.length>0;)s=s.childrenAfterSort[0];return s.rowIndex}getRowBounds(e){if(st(this.rowsToDisplay))return null;let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){let e=ov(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;let t=ov(this.gos),n=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){let e=ov(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){let t=fo(e),i=new XB(!1,this.rootNode);return t&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;let t=e.rowNodeTransactions.filter(n=>n.add!=null&&n.add.length>0||n.remove!=null&&n.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group",i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(j(e)&&(t=i[e]),st(t)){_e(`invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`);return}let n=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;let t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;let i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,i,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}let n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){let e=st(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return st(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return j(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,n=!1,r=[],s=Sv(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(n)return;if(i&&(o===t||o===e)&&(n=!0,o.group&&s)){r.push(...o.allLeafChildren);return}if(!i){if(o!==t&&o!==e)return;i=!0}if(!o.group||!s){r.push(o);return}}),r}setDatasource(e){_e("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Xr(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,s=-1;for(;;){let o=Math.floor((t+i)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(i=o-1),r===t&&s===i))return o;r=t,s=i}}isRowInPixel(e,t){let i=e.rowTop,n=e.rowTop+e.rowHeight;return i<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){let{nodes:t,callback:i,recursionType:n,includeFooterNodes:r}=e,{index:s}=e,o=a=>{let l=t[0]?.parent;if(!l)return;let c=r&&UE(this.gos),u=$E(this.gos),d=r&&u({node:l});if(l===this.rootNode){c===a&&(l.createFooter(),i(l.sibling,s++));return}d===a&&(l.createFooter(),i(l.sibling,s++))};o("top");for(let a=0;a<t.length;a++){let l=t[a];if(i(l,s++),l.hasChildren()&&!l.footer){let c=null;switch(n){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort;break}c&&(s=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:i,recursionType:n,index:s,includeFooterNodes:r}))}}return o("bottom"),s}doAggregate(e){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){let t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),n=r=>{r&&r.forEach(s=>{let o=()=>{s.expanded=e,n(s.childrenAfterGroup)};if(t){j(s.childrenAfterGroup)&&o();return}if(i){!s.leafGroup&&o();return}s.group&&o()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,n){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:i,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:n}),Sv(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{let r=this.rootNode,s=r.sibling;r.childrenAfterGroup=r.allLeafChildren,s&&(s.childrenAfterGroup=r.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(vo.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(n=>{n.id===e&&(i=n)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();let e=[],t=[],i=!1;this.rowDataTransactionBatch?.forEach(n=>{let{rowNodeTransaction:r,rowsInserted:s}=this.nodeManager.updateRowData(n.rowDataTransaction);s&&(i=!0),t.push(r),n.callback&&e.push(n.callback.bind(null,r))}),this.commonUpdateRowData(t,i),e.length>0&&window.setTimeout(()=>{e.forEach(n=>n())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();let{rowNodeTransaction:t,rowsInserted:i}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],i),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;let i=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){let e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};function u7(e){e.expansionService.onGroupExpandedOrCollapsed()}function d7(e,t){e.rowModelHelperService?.getClientSideRowModel()?.refreshModel(t)}function h7(e){return e.rowModelHelperService?.getClientSideRowModel()?.isEmpty()??!0}function p7(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(t)}function g7(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(t)}function f7(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(t)}function m7(e){if(e.columnModel.isAutoRowHeightActive()){L("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}e.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()}function v7(e,t){return e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.updateRowData(t))}function C7(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(t,i))}function w7(e){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions())}function y7(e){return e.selectionService.getBestCostNodeSelection()}var S7=class extends Z{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){let{changedPath:t}=e;this.filter(t)}filter(e){let t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){let i=(n,r)=>{n.hasChildren()&&e&&!r?n.childrenAfterFilter=n.childrenAfterGroup.filter(s=>{let o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):n.childrenAfterFilter=n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){let n=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){let l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(s.childrenAfterGroup[a],c):i(l,c)}i(s,o)},r=s=>n(s,!1);t.executeFromRootNode(r)}else{let n=r=>i(r,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},b7=class extends Z{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){let t=e.rowNode,i=[],n=this.columnModel.isPivotMode(),r=n&&t.leafGroup,s=r?[t]:t.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,s,i,n,0);let a=i.length>0;if(!r&&a&&o.grandTotalRow){t.createFooter();let c=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,i,0,c)}return i}getFlattenDetails(){let e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:qE(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:UE(this.gos),groupTotalRow:$E(this.gos)}}recursivelyAddToRowsToDisplay(e,t,i,n,r){if(!fo(t))for(let s=0;s<t.length;s++){let o=t[s],a=o.hasChildren(),l=n&&!a,c=e.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,u=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,d=n&&o.leafGroup,f=e.hideOpenParents&&o.expanded&&!o.master&&!d;if(!l&&!f&&!c&&!u&&this.addRowNodeToRowsToDisplay(e,o,i,r),!(n&&o.leafGroup)){if(a){let v=c||u;if(o.expanded||v){let S=e.groupTotalRow({node:o});S||o.destroyFooter();let w=v?r:r+1;S==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,w)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,i,n,w),S==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,w))}}else if(o.master&&o.expanded){let v=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,v,i,r)}}}}addRowNodeToRowsToDisplay(e,t,i,n,r){r?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(j(e.detailNode))return e.detailNode;let t=new vo(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,j(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},E7=class extends Z{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){cr(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){let e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){let t=this.createTransactionForRowData(e);if(!t)return;let i=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:n,rowsInserted:r}=i.updateRowData(t),s=!1;this.gos.get("suppressMaintainUnsortedOrder")||(s=i.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(n,s||r)}createTransactionForRowData(e){if(!cr(this.gos))return _e("ImmutableService only works with ClientSideRowModel"),null;let t=qd(this.gos);if(t==null)return _e("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;let i=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),n=[],r=[],s=[];return j(e)&&e.forEach(o=>{let a=t({data:o,level:0}),l=i[a];l?(l.data!==o&&r.push(o),i[a]=void 0):s.push(o)}),Ov(i,(o,a)=>{a&&n.push(a.data)}),{remove:n,update:r,add:s}}onRowDataUpdated(){let e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},D7=class extends Z{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,i,n,r,s){let o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(f=>f.isRowGroupActive()),l={};i&&n&&(l=this.calculateDirtyNodes(n));let c=this.columnModel.isPivotMode(),u=this.gos.getCallback("postSortRows"),d=f=>{this.pullDownGroupDataForHideOpenParents(f.childrenAfterAggFilter,!0);let m=c&&f.leafGroup;if(o&&a&&!f.leafGroup&&!s){let w=this.funcColsService.getRowGroupColumns()?.[f.level+1]?.getSort()===null,E=f.childrenAfterAggFilter.slice(0);if(f.childrenAfterSort&&!w){let I={};f.childrenAfterSort.forEach((A,N)=>{I[A.id]=N}),E.sort((A,N)=>(I[A.id]??0)-(I[N.id]??0))}f.childrenAfterSort=E}else!t||m?f.childrenAfterSort=f.childrenAfterAggFilter.slice(0):i?f.childrenAfterSort=this.doDeltaSort(f,l,r,e):f.childrenAfterSort=this.rowNodeSorter.doFullSort(f.childrenAfterAggFilter,e);if(f.sibling&&(f.sibling.childrenAfterSort=f.childrenAfterSort),this.updateChildIndexes(f),u){let S={nodes:f.childrenAfterSort};u(S)}};r&&r.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){let t={},i=n=>{n&&n.forEach(r=>t[r.id]=!0)};return e&&e.forEach(n=>{i(n.add),i(n.update),i(n.remove)}),t}doDeltaSort(e,t,i,n){let r=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,n);let o={},a=[];r.forEach(d=>{t[d.id]||!i.canSkip(d)?a.push(d):o[d.id]=!0});let l=s.filter(d=>o[d.id]),c=(d,f)=>({currentPos:f,rowNode:d}),u=a.map(c).sort((d,f)=>this.rowNodeSorter.compareRowNodes(n,d,f));return this.mergeSortedArrays(n,u,l.map(c)).map(({rowNode:d})=>d)}mergeSortedArrays(e,t,i){let n=[],r=0,s=0;for(;r<t.length&&s<i.length;)this.rowNodeSorter.compareRowNodes(e,t[r],i[s])<0?n.push(t[r++]):n.push(i[s++]);for(;r<t.length;)n.push(t[r++]);for(;s<i.length;)n.push(i[s++]);return n}updateChildIndexes(e){if(st(e.childrenAfterSort))return;let t=e.childrenAfterSort;for(let i=0;i<t.length;i++){let n=t[i],r=i===0,s=i===e.childrenAfterSort.length-1;n.setFirstChild(r),n.setLastChild(s),n.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return L("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;let t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||st(e)||e.forEach(i=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach(r=>{let s=r.getColDef().showRowGroup;if(typeof s!="string"){_e("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}let o=s,a=this.columnModel.getColDefCol(o);if(a!==i.rowGroupColumn)if(t)i.setGroupValue(r.getId(),void 0);else{let c=this.getFirstChildOfFirstChild(i,a);c&&i.setGroupValue(r.getId(),c.key)}})})}getFirstChildOfFirstChild(e,t){let i=e;for(;i;){let n=i.parent;if(n&&i.firstChild){if(n.rowGroupColumn===t)return n}else return null;i=n}return null}},x7=class extends Z{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){let t=this.sortController.getSortOptions(),i=j(t)&&t.length>0,n=i&&j(e.rowNodeTransactions)&&this.gos.get("deltaSort"),r=t.some(s=>qL(this.gos)?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(t,i,n,e.rowNodeTransactions,e.changedPath,r)}},Qv="32.2.1",ix={version:Qv,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[c7,S7,x7,b7,D7,E7]},R7={version:Qv,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[tx],apiFunctions:{onGroupExpandedOrCollapsed:u7,refreshClientSideRowModel:d7,isRowDataEmpty:h7,forEachLeafNode:p7,forEachNodeAfterFilter:g7,forEachNodeAfterFilterAndSort:f7,resetRowHeights:m7,applyTransaction:v7,applyTransactionAsync:C7,flushAsyncTransactions:w7,getBestCostNodeSelection:y7},dependantModules:[ix,s7]},M7={version:Qv,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[ix,R7]},I7=class extends Z{setBeans(e){this.beans=e}getFileName(e){let t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){let t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},F7=class{constructor(e){this.groupColumns=[];let{columnModel:t,funcColsService:i,columnNameService:n,valueService:r,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.columnModel=t,this.funcColsService=i,this.columnNameService=n,this.valueService=r,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,n,r){let o=(!this.gos.get("groupHideOpenParents")||r.footer)&&this.shouldRenderGroupSummaryCell(r,e,t)?this.createValueForGroupNode(e,r):this.valueService.getValue(e,r);return this.processCell({accumulatedRowIndex:i,rowNode:r,column:e,value:o,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,i){if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){if(e.groupData?.[t.getId()]!=null||$d(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){let o=t.getColDef();return o==null||o.showRowGroup===!0||o.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}let s=KL(this.gos,this.columnModel.isPivotMode());return i===0&&s}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));let i=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),r=l=>{if(i||n)return l.key;let c=l.groupData?.[e.getId()];return!c||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?c:this.valueService.formatValue(l.rowGroupColumn,l,c)??c},s=t.footer,o=[r(t)];if(!qE(this.gos))for(;t.parent;)t=t.parent,o.push(r(t));let a=o.reverse().join(" -> ");return s?`Total ${a}`:a}processCell(e){let{accumulatedRowIndex:t,rowNode:i,column:n,value:r,processCellCallback:s,type:o}=e;return s?{value:s(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:i,value:r,type:o,parseValue:a=>this.valueService.parseValue(n,i,a,this.valueService.getValue(n,i)),formatValue:a=>this.valueService.formatValue(n,i,a)??a}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:r??"",valueFormatted:this.valueService.formatValue(n,i,r)}:{value:r??""}}},T7=class{static download(e,t){let i=document.defaultView||window;if(!i){L("There is no `window` associated with the current `document`");return}let n=document.createElement("a"),r=i.URL.createObjectURL(t);n.setAttribute("href",r),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(()=>{i.URL.revokeObjectURL(r)},0)}},HE=`\r
`,A7=class extends F7{constructor(e){super(e),this.isFirstLine=!0,this.result="";let{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,HE),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,n){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){t!=0&&(this.result+=this.columnSeparator);let n=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(L("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=HE),this.isFirstLine=!1}},P7=class extends I7{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){let t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){L("Export cancelled. Export is not allowed as per your configuration.");return}let t=this.getMergedParams(e),i=this.getData(t),n=new Blob(["\uFEFF",i],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;T7.download(this.getFileName(r),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){let i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){let{columnModel:t,columnNameService:i,funcColsService:n,valueService:r,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:u,columnSeparator:d}=e;return new A7({columnModel:t,columnNameService:i,funcColsService:n,valueService:r,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:d||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function k7(e,t){return e.csvCreator?.getDataAsCsv(t)}function _7(e,t){e.csvCreator?.exportDataAsCsv(t)}var O7=class extends Z{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){let{allColumns:i,columnKeys:n,skipRowGroups:r}=t,s=this.getColumnsToExport(i,r,n);return HL(this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t))(e).parse()}processRow(e,t,i,n){let r=t.shouldRowBeSkipped||(()=>!1),s=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),l=t.rowPositions!=null||!!t.onlySelected,c=this.gos.get("groupHideOpenParents")&&!l,u=this.columnModel.isPivotMode()?n.leafGroup:!n.group,d=!!n.footer,f=o&&n.leafGroup,m=n.allChildrenCount===1&&n.childrenAfterGroup?.length===1&&(s||f);if(!u&&!d&&(t.skipRowGroups||m||c)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!u&&!d||r(this.gos.addGridCommonParams({node:n})))return;let w=e.onNewBodyRow(n);if(i.forEach((E,I)=>{w.onColumn(E,I,n)}),t.getCustomContentBelowRow){let E=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));E&&e.addCustomContent(E)}}appendContent(e){return t=>{let i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{let i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){let n=new CN,r=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){let n=i.onNewHeaderRow();t.forEach((r,s)=>{n.onColumn(r,s,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{let n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),i}}processRows(e,t){return i=>{let n=this.rowModel,r=cr(this.gos),s=$d(this.gos),o=!r&&e.onlySelected,a=this.processRow.bind(this,i,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(c=>c.rowPinned==null).sort((c,u)=>c.rowIndex-u.rowIndex).map(c=>n.getRow(c.rowIndex)).forEach(a);else if(this.columnModel.isPivotMode())r?n.forEachPivotNode(a,!0):s?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);else if(e.onlySelectedAllPages||o){let c=this.selectionService.getSelectedNodes();this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?n.forEachNode(a):r||s?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return i}}replicateSortedOrder(e){let t=this.sortController.getSortOptions(),i=(n,r)=>n.rowIndex!=null&&r.rowIndex!=null?n.rowIndex-r.rowIndex:n.level===r.level?n.parent?.id===r.parent?.id?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:n.rowIndex??-1},{rowNode:r,currentPos:r.rowIndex??-1}):i(n.parent,r.parent):n.level>r.level?i(n.parent,r):i(n,r.parent);e.sort(i)}processPinnedBottomRows(e,t){return i=>{let n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),i}}getColumnsToExport(e=!1,t=!1,i){let n=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getColsForKeys(i);let r=this.gos.get("treeData"),s=[];return e&&!n?s=this.columnModel.getCols():s=this.visibleColsService.getAllCols(),t&&!r&&(s=s.filter(o=>aN(o)||_v(o))),s}recursivelyAddHeaderGroups(e,t,i){let n=[];e.forEach(r=>{let s=r;s.getChildren&&s.getChildren().forEach(o=>n.push(o))}),e.length>0&&go(e[0])&&this.doAddHeaderHeader(t,e,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,i)}doAddHeaderHeader(e,t,i){let n=e.onNewHeaderGroupingRow(),r=0;t.forEach(s=>{let o=s,a;i?a=i(this.gos.addGridCommonParams({columnGroup:o})):a=this.columnNameService.getDisplayNameForColumnGroup(o,"header");let l=o.getLeafColumns().reduce((c,u,d,f)=>{let m=Xr(c);return u.getColumnGroupShow()==="open"?(!m||m[1]!=null)&&(m=[d],c.push(m)):m&&m[1]==null&&(m[1]=d-1),d===f.length-1&&m&&m[1]==null&&(m[1]=d),c},[]);n.onColumn(o,a||"",r++,o.getLeafColumns().length-1,l)})}},Yv="32.2.1",nx={version:Yv,moduleName:"@ag-grid-community/csv-export-core",beans:[P7,O7]},L7={version:Yv,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:k7,exportDataAsCsv:_7},dependantModules:[nx]},N7={version:Yv,moduleName:"@ag-grid-community/csv-export",dependantModules:[nx,L7]};var SY=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);var V7=class extends WV{wireBeans(e){this.beans=e}constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){j(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(st(this.params.datasource.getRows)){L("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach((n,r)=>{this.startRow+r<i&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());let i=e-this.startRow;return this.rowNodes[i]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){let t=this.startRow+e,i=new vo(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((i,n)=>{let r=e.rowData?e.rowData[n]:void 0;!i.id&&i.alreadyRendered&&r&&(this.rowNodes[n]=new vo(this.beans),this.rowNodes[n].setRowIndex(i.rowIndex),this.rowNodes[n].setRowTop(i.rowTop),this.rowNodes[n].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],r,this.startRow+n)});let t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},B7=2,H7=class extends Z{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){let i=Math.floor(e/this.params.blockSize),n=this.blocks[i];if(!n){if(t)return;n=this.createBlock(i)}return n.getRow(e)}createBlock(e){let t=this.createBean(new V7(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&Cv(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let t=this.getBlocksInOrder().filter(o=>o!=e),i=(o,a)=>a.getLastAccessed()-o.getLastAccessed();t.sort(i);let n=this.params.maxBlocksInCache>0,r=n?this.params.maxBlocksInCache-1:null,s=B7-1;t.forEach((o,a)=>{let l=o.getState()==="needsLoading"&&a>=s,c=n?a>=r:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){let t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;let i=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=i&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){let t=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,t){this.rowCount=e,j(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let t=new dl;this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){let e=(i,n)=>i.getId()-n.getId();return lN(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){let e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){let i=[],n=-1,r=!1,s=new dl,o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(r&&n+1!==l.getId()){o=!0;return}n=l.getId(),l.forEachNode(c=>{let u=c===e||c===t;(r||u)&&i.push(c),u&&(r=!r)},s,this.rowCount)}}),o||r?[]:i}},G7=class extends Z{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=mo(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&L("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=mo(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!ol(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;qd(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:mo(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new dl},this.infiniteCache=this.createBean(new H7(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};function z7(e){e.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()}function j7(e){e.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()}function W7(e){return e.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()}var Zv="32.2.1",rx={version:Zv,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[G7],dependantModules:[$V]},U7={version:Zv,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[tx],apiFunctions:{refreshInfiniteCache:z7,purgeInfiniteCache:j7,getInfiniteRowCount:W7},dependantModules:[rx,o7]},$7={version:Zv,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[rx,U7]};var q7=e=>{let t=new Map;return i=>{let n=i;return t.has(n)||t.set(n,e(i)),t.get(n)}},bY=q7(e=>{if(/Color$/.test(e))return"color";if(/Scale?$/.test(e))return"scale";if(e==="spacing"||/(Padding|Spacing|Size|Width|Height|Radius|Indent|Start|End|Top|Bottom|Horizontal|Vertical)$/.test(e))return"length";if(/Border$/.test(e))return"border";if(/BorderStyle$/.test(e))return"borderStyle";if(/Shadow$/.test(e))return"shadow";if(/Image$/.test(e))return"image";if(/Family$/.test(e))return"fontFamily";if(/Weight$/.test(e))return"fontWeight";if(/Duration$/.test(e))return"duration";if(/ColorScheme$/.test(e))return"colorScheme";throw new Error(`"${e}" is not a valid theme parameter.`)});var EY=typeof window!="object"||!window||typeof document!="object"||window.document!==document;y6.__registerModules([ZB,M7,$7,N7],!1,void 0);var sx=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Be({type:t}),t.\u0275inj=Ve({});let e=t;return e})();var Xd=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Be({type:e,bootstrap:[Bd]});static \u0275inj=Ve({providers:[tb()],imports:[Mu,Vd,aE,lE,hE.forRoot(),Gb,SE,sx]})};lb().bootstrapModule(Xd,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
